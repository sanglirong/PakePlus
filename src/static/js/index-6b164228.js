import{g as t,d as e}from"./employee-882117ce.js";import{u as o,B as i}from"./useTable-dc8c9d84.js";import{T as n}from"./TableAction-adbe36f2.js";import{d as a,u as r,fg as s,e as d,o as m,g as l,a4 as p,j as u,l as c,m as _,t as f,k as j,p as x,q as y,ah as g}from"./index-920db443.js";import{u as w}from"./index-143f5813.js";import{_ as h}from"./ExportModal.vue_vue_type_script_setup_true_lang-ca68a9fe.js";import{_ as v}from"./ImportModal.vue_vue_type_script_setup_true_lang-68ef42f7.js";import"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-9c138ba5.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./log-2a5f2c26.js";import"./index-999abbee.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./upperFirst-2cd1a2f7.js";import"./useTabs-ceeccdba.js";import"./uniqBy-e868edd7.js";import"./useWindowSizeFn-05f906e2.js";import"./sortable.esm-02d0fe44.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";import"./import-e198d900.js";import"./tip-b30e67af.js";const I={class:"jnpf-content-wrapper"},b={class:"jnpf-content-wrapper-center"},T={class:"jnpf-content-wrapper-content"},Y=a({name:"extend-importAndExport",__name:"index",setup(a){const{createMessage:Y}=g(),{t:k}=r(),M=s(),[N,{openModal:D}]=w(),[C,{openModal:F}]=w(),[R,{reload:P,getFetchParams:S}]=o({api:t,columns:[{title:"工号",dataIndex:"enCode",width:100,fixed:"left"},{title:"姓名",dataIndex:"fullName",width:100,fixed:"left"},{title:"性别",dataIndex:"gender",width:80,fixed:"left"},{title:"部门",dataIndex:"departmentName",width:120},{title:"岗位",dataIndex:"positionName",width:120},{title:"用工性质",dataIndex:"workingNature",width:100},{title:"身份证号",dataIndex:"idNumber",width:160},{title:"联系电话",dataIndex:"telephone",width:100},{title:"出生年月",dataIndex:"birthday",width:120,format:"date|YYYY-MM-DD"},{title:"参加工作",dataIndex:"attendWorkTime",width:120,format:"date|YYYY-MM-DD"},{title:"最高学历",dataIndex:"education",width:100},{title:"所学专业",dataIndex:"major",width:120},{title:"毕业院校",dataIndex:"graduationAcademy",width:150},{title:"毕业时间",dataIndex:"graduationTime",width:120,format:"date|YYYY-MM-DD"},{title:"创建时间",dataIndex:"creatorTime",width:150,format:"date|YYYY-MM-DD HH:mm:ss"}],useSearchForm:!0,formConfig:{schemas:[{field:"condition",label:"查询字段",component:"Select",defaultValue:"EnCode",componentProps:{options:[{id:"EnCode",fullName:"工号"},{id:"FullName",fullName:"姓名"},{id:"Telephone",fullName:"电话"},{id:"DepartmentName",fullName:"部门"},{id:"PositionName",fullName:"岗位"}]}},{field:"keyword",label:k("common.keyword"),component:"Input",componentProps:{placeholder:k("common.enterKeyword"),submitOnPressEnter:!0}}]},actionColumn:{width:50,title:"操作",dataIndex:"action"},afterFetch:t=>t.map((t=>(t.birthday=t.birthday||null,t.attendWorkTime=t.attendWorkTime||null,t.graduationTime=t.graduationTime||null,t)))});function A(t){return[{label:k("common.delText"),color:"error",modelConfirm:{onOk:E.bind(null,t.id)}}]}function E(t){e(t).then((t=>{Y.success(t.msg),M.resetState(),P()}))}function O(){const t={...S(),condition:S().condition||"",keyword:S().keyword||""};D(!0,{listQuery:t})}function L(){F(!0,{})}return(t,e)=>{const o=d("a-button");return m(),l("div",I,[p("div",b,[p("div",T,[u(j(i),{onRegister:j(R)},{tableTitle:c((()=>[u(o,{type:"primary",onClick:O},{default:c((()=>[e[0]||(e[0]=p("i",{class:"icon-ym icon-ym-btn-download button-preIcon"},null,-1)),_(f(j(k)("common.exportText")),1)])),_:1,__:[0]}),u(o,{type:"link",onClick:L},{default:c((()=>[e[1]||(e[1]=p("i",{class:"icon-ym icon-ym-btn-upload button-preIcon"},null,-1)),_(f(j(k)("common.importText")),1)])),_:1,__:[1]})])),bodyCell:c((({column:t,record:e})=>["action"===t.key?(m(),x(j(n),{key:0,actions:A(e)},null,8,["actions"])):y("",!0)])),_:1},8,["onRegister"])])]),u(h,{onRegister:j(N)},null,8,["onRegister"]),u(v,{onRegister:j(C),onReload:j(P)},null,8,["onRegister","onReload"])])}}});export{Y as default};
