import{d as e,r as t,u as r,b as s,w as o,n as i,c as a,e as n,o as u,g as p,F as l,h as m,i as _,v as c,j,k as d,l as g,m as y,t as f,p as v,q as b}from"./index-920db443.js";import{_ as x}from"./DetailModal.vue_vue_type_script_setup_true_lang-af1fe720.js";import{u as L,B as C}from"./useTable-dc8c9d84.js";import{T as k}from"./TableAction-adbe36f2.js";import{u as w}from"./index-143f5813.js";import{getColumns as D}from"./data-c1e5fa77.js";import"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-9c138ba5.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./log-2a5f2c26.js";import"./index-999abbee.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./upperFirst-2cd1a2f7.js";import"./useTabs-ceeccdba.js";import"./uniqBy-e868edd7.js";import"./useWindowSizeFn-05f906e2.js";import"./sortable.esm-02d0fe44.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";const A={class:"p-4"},F=["src"],T=e({__name:"index",setup(e){const T=t(),E=t([]),{t:R}=r(),h=s(),[q,{setTableData:I}]=L({title:R("sys.errorLog.tableTitle"),columns:D(),actionColumn:{width:80,title:"Action",dataIndex:"action"}}),[M,{openModal:S}]=w();function B(e){T.value=e,S(!0)}function O(){throw new Error("fire vue error!")}function z(){E.value.push(`${(new Date).getTime()}.png`)}async function P(){}return o((()=>h.getErrorLogInfoList),(e=>{i((()=>{I(a(e))}))}),{immediate:!0}),(e,t)=>{const r=n("a-button");return u(),p("div",A,[(u(!0),p(l,null,m(E.value,(e=>_((u(),p("img",{key:e,src:e,alt:""},null,8,F)),[[c,!1]]))),128)),j(x,{info:T.value,onRegister:d(M)},null,8,["info","onRegister"]),j(d(C),{onRegister:d(q),class:"error-handle-table"},{toolbar:g((()=>[j(r,{onClick:O,type:"primary"},{default:g((()=>[y(f(d(R)("sys.errorLog.fireVueError")),1)])),_:1}),j(r,{onClick:z,type:"primary"},{default:g((()=>[y(f(d(R)("sys.errorLog.fireResourceError")),1)])),_:1}),j(r,{onClick:P,type:"primary"},{default:g((()=>[y(f(d(R)("sys.errorLog.fireAjaxError")),1)])),_:1})])),bodyCell:g((({column:e,record:t})=>["action"===e.key?(u(),v(d(k),{key:0,actions:[{label:d(R)("sys.errorLog.tableActionDesc"),onClick:B.bind(null,t)}]},null,8,["actions"])):b("",!0)])),_:1},8,["onRegister"])])}}});export{T as default};
