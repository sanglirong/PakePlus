import{di as e,d as a,ad as l,a0 as t,u as n,ac as o,w as s,a7 as d,aA as u,e as i,o as r,g as c,a4 as p,j as y,l as m,k as f,ae as v,p as b,cl as g,m as _,q as h,F as C,dz as w,t as S,co as k,V as x,ah as L,a5 as T}from"./index-920db443.js";import{u as U,B as I}from"./index-143f5813.js";import"./useWindowSizeFn-05f906e2.js";import"./log-2a5f2c26.js";function F(a){return e.get({url:"/api/system/SynThirdInfo/synAllOrganizeSysToDing?type="+a})}function A(a){return e.get({url:"/api/system/SynThirdInfo/synAllUserSysToDing?type="+a})}function D(a){return e.get({url:"/api/system/SynThirdInfo/synAllOrganizeSysToQy?type="+a})}function N(a){return e.get({url:"/api/system/SynThirdInfo/synAllUserSysToQy?type="+a})}const O={class:"jnpf-content-wrapper"},q={class:"jnpf-content-wrapper-center bg-white"},P={class:"img-list"},K={class:"mt-10px"},E={class:"flex"},M={key:0},R={key:0},j={class:"add-item"},z={class:"add-txt"},V={class:"add-title"},Q={class:"add-desc"},Y={class:"add-item ding-item"},G={class:"add-txt"},H={class:"add-desc"},J=T(a({name:"system-sysConfig",__name:"index",setup(a){const T=[{id:"timeGridDay",fullName:"日"},{id:"timeGridWeek",fullName:"周"},{id:"dayGridMonth",fullName:"月"}],J=[{id:1,fullName:"一"},{id:2,fullName:"二"},{id:3,fullName:"三"},{id:4,fullName:"四"},{id:5,fullName:"五"},{id:6,fullName:"六"},{id:0,fullName:"日"}],W=[{id:30,fullName:"30分钟"},{id:60,fullName:"1小时"},{id:90,fullName:"1小时30分钟"},{id:120,fullName:"2小时"},{id:180,fullName:"3小时"}],B=[{id:1,fullName:"无范围限制"},{id:6,fullName:"同一公司"},{id:2,fullName:"同一部门"},{id:3,fullName:"同一岗位"}],$=l({baseForm:{},activeKey:1,adminIds:[],btnLoading:!1,thirdTab:1,singleLoginOptions:[{fullName:"单一登录",id:1},{fullName:"同时登录",id:2}],lockTypeOptions:[{fullName:"账号锁定",id:1},{fullName:"延时登录",id:2}],testQyLoading:!1,testSyncLoading:!1,testDingLoading:!1,eventsColumns:[{title:"",dataIndex:"select",width:50,align:"center"},{title:"触发事件",dataIndex:"title"},{title:"描述",dataIndex:"desc"}],resultsColumns:[{title:"同步类型",dataIndex:"synType"},{title:"总数",dataIndex:"recordTotal"},{title:"同步成功数",dataIndex:"synSuccessCount"},{title:"同步失败数",dataIndex:"synFailCount"},{title:"未同步数",dataIndex:"unSynCount"},{title:"同步时间",dataIndex:"synDate"},{title:"操作",dataIndex:"action",width:50}],wxEventsList:[{select:!1,title:"启用同步组织",desc:"新增、删除、修改组织信息触发同步组织事件"},{select:!1,title:"启用同步用户",desc:"新增、删除、修改用户信息触发同步用户事件"}],wxResultsList:[{recordTotal:"",synDate:"",synFailCount:"",synSuccessCount:"",synType:"组织",unSynCount:""},{recordTotal:"",synDate:"",synFailCount:"",synSuccessCount:"",synType:"用户",unSynCount:""}],ddEventsList:[{select:!1,title:"启用同步组织",desc:"新增、删除、修改组织信息触发同步组织事件"},{select:!1,title:"启用同步用户",desc:"新增、删除、修改用户信息触发同步用户事件"}],ddResultsList:[{recordTotal:"",synDate:"",synFailCount:"",synSuccessCount:"",synType:"组织",unSynCount:""},{recordTotal:"",synDate:"",synFailCount:"",synSuccessCount:"",synType:"用户",unSynCount:""}],synData:{},weChatLoading:!1,dingLoading:!1}),{baseForm:X,activeKey:Z,thirdTab:ee,adminIds:ae,btnLoading:le,singleLoginOptions:te,lockTypeOptions:ne,testQyLoading:oe,testSyncLoading:se,testDingLoading:de,wxEventsList:ue,eventsColumns:ie,wxResultsList:re,resultsColumns:ce,ddEventsList:pe,ddResultsList:ye,synData:me,weChatLoading:fe,dingLoading:ve}=t($),{createConfirm:be,createMessage:ge}=L(),{t:_e}=n(),he=o(),[Ce,{openModal:we,closeModal:Se}]=U();function ke(){$.testQyLoading=!1,$.testSyncLoading=!1,$.testDingLoading=!1,e.get({url:"/api/system/SysConfig"}).then((e=>{$.baseForm=e.data,$.wxEventsList[0].select=!!$.baseForm.qyhIsSynOrg,$.wxEventsList[1].select=!!$.baseForm.qyhIsSynUser,$.ddEventsList[0].select=!!$.baseForm.dingSynIsSynOrg,$.ddEventsList[1].select=!!$.baseForm.dingSynIsSynUser,$.baseForm.smsCompany=$.baseForm.smsCompany?$.baseForm.smsCompany:"1",$.baseForm.lockType=$.baseForm.lockType?$.baseForm.lockType:1,$.baseForm.lockTime=$.baseForm.lockTime?$.baseForm.lockTime:10,$.baseForm.linkTime=$.baseForm.linkTime?$.baseForm.linkTime:24,$.baseForm.addSignLevel=$.baseForm.addSignLevel?$.baseForm.addSignLevel:1,$.baseForm.unClickNum=$.baseForm.unClickNum?$.baseForm.unClickNum:1}))}function xe(){if(!$.baseForm.newUserDefaultPassword)return ge.error("新用户默认密码不能为空");$.baseForm.qyhIsSynOrg=$.wxEventsList[0].select?1:0,$.baseForm.qyhIsSynUser=$.wxEventsList[1].select?1:0,$.baseForm.dingSynIsSynOrg=$.ddEventsList[0].select?1:0,$.baseForm.dingSynIsSynUser=$.ddEventsList[1].select?1:0,be({iconType:"warning",title:_e("common.tipTitle"),content:"您确定要保存，是否继续?",onOk:()=>{var a;$.btnLoading=!0,(a=$.baseForm,e.put({url:"/api/system/SysConfig",data:a})).then((e=>{ge.success(e.msg),$.btnLoading=!1;const a={sysName:$.baseForm.sysName,sysVersion:$.baseForm.sysVersion,loginIcon:$.baseForm.loginIcon,copyright:$.baseForm.copyright,newUserDefaultPassword:$.baseForm.newUserDefaultPassword,companyName:$.baseForm.companyName,logoIcon:$.baseForm.logoIcon,appIcon:$.baseForm.appIcon,title:$.baseForm.title,defaultView:$.baseForm.defaultView,showLunarCalendar:$.baseForm.showLunarCalendar,firstDay:$.baseForm.firstDay,duration:$.baseForm.duration,flowSign:$.baseForm.flowSign,flowTodo:$.baseForm.flowTodo,delegateScope:$.baseForm.delegateScope,delegateAck:$.baseForm.delegateAck,proxyScope:$.baseForm.proxyScope,proxyAck:$.baseForm.proxyAck};localStorage.setItem("_APP_LOGIN_LOGO_",a.loginIcon||""),he.setProjectConfig({sysConfigInfo:a}),ke()})).catch((()=>{$.btnLoading=!1}))}})}function Le(){be({iconType:"warning",title:_e("common.tipTitle"),content:"您确定要保存，是否继续?",onOk:()=>{var a;$.btnLoading=!0,(a={adminIds:$.adminIds},e.put({url:"/api/system/SysConfig/setAdminList",data:a})).then((e=>{ge.success(e.msg),$.btnLoading=!1}))}})}function Te(a){1===a?$.testSyncLoading=!0:$.testQyLoading=!0;(function(a,l){return e.post({url:"/api/system/SysConfig/"+l+"/testQyWebChatConnect",data:a})})({qyhAgentId:$.baseForm.qyhAgentId,qyhAgentSecret:$.baseForm.qyhAgentSecret,qyhCorpId:$.baseForm.qyhCorpId,qyhCorpSecret:$.baseForm.qyhCorpSecret},a).then((e=>{ge.success(e.msg),1===a?$.testSyncLoading=!1:$.testQyLoading=!1})).catch((()=>{1===a?$.testSyncLoading=!1:$.testQyLoading=!1}))}function Ue(){$.testDingLoading=!0;(function(a){return e.post({url:"/api/system/SysConfig/testDingTalkConnect",data:a})})({dingAgentId:$.baseForm.dingAgentId,dingSynAppKey:$.baseForm.dingSynAppKey,dingSynAppSecret:$.baseForm.dingSynAppSecret}).then((e=>{ge.success(e.msg),$.testDingLoading=!1})).catch((()=>{$.testDingLoading=!1}))}function Ie(e){be({iconType:"warning",title:_e("common.tipTitle"),content:"同步以后会丢失现有数据，是否继续?",onOk:()=>{0==e?$.weChatLoading=!0:$.dingLoading=!0;("组织"==$.synData.synType?D:N)(e).then((a=>{if(0==e?$.weChatLoading=!1:$.dingLoading=!1,Se(),"正在进行同步,请稍等"===a.msg)return ge.success(a.msg);$.synData.recordTotal=a.data.recordTotal,$.synData.synDate=a.data.synDate,$.synData.synFailCount=a.data.synFailCount,$.synData.synSuccessCount=a.data.synSuccessCount,$.synData.synType=a.data.synType,$.synData.unSynCount=a.data.unSynCount,ge.success("同步成功")})).catch((()=>{0==e?$.weChatLoading=!1:$.dingLoading=!1}))}})}function Fe(e){be({iconType:"warning",title:_e("common.tipTitle"),content:"同步以后会丢失现有数据，是否继续?",onOk:()=>{0==e?$.weChatLoading=!0:$.dingLoading=!0;("组织"==$.synData.synType?F:A)(e).then((a=>{if(0==e?$.weChatLoading=!1:$.dingLoading=!1,"正在进行同步,请稍等"===a.msg)return ge.success(a.msg);$.synData.recordTotal=a.data.recordTotal,$.synData.synDate=a.data.synDate,$.synData.synFailCount=a.data.synFailCount,$.synData.synSuccessCount=a.data.synSuccessCount,$.synData.synType=a.data.synType,$.synData.unSynCount=a.data.unSynCount,ge.success("同步成功")})).catch((()=>{0==e?$.weChatLoading=!1:$.dingLoading=!1}))}})}function Ae(e,a){if(!e)return"verificationCodeNumber"===a?$.baseForm[a]=3:void($.baseForm[a]=1)}return s((()=>$.activeKey),(a=>{4===a&&e.get({url:"/api/system/SysConfig/getAdminList"}).then((e=>{e.data&&($.adminIds=e.data.map((e=>e.id)))}))})),s((()=>$.thirdTab),(a=>{var l;(function(a){return e.get({url:"/api/system/SynThirdInfo/getSynThirdTotal/"+a})})(l=a).then((e=>{let a=e.data.map((e=>({loading:!1,...e})));1==l?$.wxResultsList=a:$.ddResultsList=a}))}),{immediate:!0}),d((()=>{"1"==u().query.type&&($.activeKey=3),ke()})),(e,a)=>{const l=i("JnpfUploadImgSingle"),t=i("a-form-item"),n=i("a-col"),o=i("a-input"),s=i("a-textarea"),d=i("a-button"),u=i("a-row"),L=i("a-tab-pane"),U=i("jnpf-select"),F=i("a-input-number"),A=i("jnpf-radio"),D=i("jnpf-switch"),N=i("a-card"),be=i("JnpfCheckboxSingle"),ge=i("BasicHelp"),_e=i("a-tabs"),he=i("a-checkbox"),Se=i("a-table"),ke=i("jnpf-user-select"),De=i("JnpfGroupTitle"),Ne=i("a-switch"),Oe=i("a-form");return r(),c("div",O,[p("div",q,[y(Oe,{colon:!1,labelAlign:"right",labelCol:{style:{width:"100px"}},class:"right-board-form h-full"},{default:m((()=>[y(_e,{class:"jnpf-content-wrapper-tabs tabs-contain",activeKey:f(Z),"onUpdate:activeKey":a[76]||(a[76]=e=>v(Z)?Z.value=e:null)},{default:m((()=>[(r(),b(L,{key:1,tab:"基本设置",class:"p-30px"},{default:m((()=>[y(u,null,{default:m((()=>[y(n,{span:24},{default:m((()=>[y(t,{label:"系统图标"},{default:m((()=>[p("div",P,[y(l,{value:f(X).loginIcon,"onUpdate:value":a[0]||(a[0]=e=>f(X).loginIcon=e),tipText:"登录图标"},null,8,["value"]),y(l,{value:f(X).logoIcon,"onUpdate:value":a[1]||(a[1]=e=>f(X).logoIcon=e),tipText:"LOGO图标"},null,8,["value"]),y(l,{value:f(X).appIcon,"onUpdate:value":a[2]||(a[2]=e=>f(X).appIcon=e),tipText:"APP图标"},null,8,["value"])])])),_:1})])),_:1}),y(n,{span:24},{default:m((()=>[y(t,{label:"系统标题"},{default:m((()=>[y(o,{value:f(X).title,"onUpdate:value":a[3]||(a[3]=e=>f(X).title=e),placeholder:"请输入",allowClear:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12},{default:m((()=>[y(t,{label:"系统名称"},{default:m((()=>[y(o,{value:f(X).sysName,"onUpdate:value":a[4]||(a[4]=e=>f(X).sysName=e),placeholder:"请输入",allowClear:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12},{default:m((()=>[y(t,{label:"系统版本"},{default:m((()=>[y(o,{value:f(X).sysVersion,"onUpdate:value":a[5]||(a[5]=e=>f(X).sysVersion=e),placeholder:"请输入",allowClear:"",readonly:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12},{default:m((()=>[y(t,{label:"公司名称"},{default:m((()=>[y(o,{value:f(X).companyName,"onUpdate:value":a[6]||(a[6]=e=>f(X).companyName=e),placeholder:"请输入",allowClear:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12},{default:m((()=>[y(t,{label:"版权信息"},{default:m((()=>[y(o,{value:f(X).copyright,"onUpdate:value":a[7]||(a[7]=e=>f(X).copyright=e),placeholder:"请输入",allowClear:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12},{default:m((()=>[y(t,{label:"公司简称"},{default:m((()=>[y(o,{value:f(X).companyCode,"onUpdate:value":a[8]||(a[8]=e=>f(X).companyCode=e),placeholder:"请输入",allowClear:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12},{default:m((()=>[y(t,{label:"公司地址"},{default:m((()=>[y(o,{value:f(X).companyAddress,"onUpdate:value":a[9]||(a[9]=e=>f(X).companyAddress=e),placeholder:"请输入",allowClear:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12},{default:m((()=>[y(t,{label:"公司法人"},{default:m((()=>[y(o,{value:f(X).companyContacts,"onUpdate:value":a[10]||(a[10]=e=>f(X).companyContacts=e),placeholder:"请输入",allowClear:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12},{default:m((()=>[y(t,{label:"公司电话"},{default:m((()=>[y(o,{value:f(X).companyTelePhone,"onUpdate:value":a[11]||(a[11]=e=>f(X).companyTelePhone=e),placeholder:"请输入",allowClear:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12},{default:m((()=>[y(t,{label:"公司邮箱"},{default:m((()=>[y(o,{value:f(X).companyEmail,"onUpdate:value":a[12]||(a[12]=e=>f(X).companyEmail=e),placeholder:"请输入",allowClear:""},null,8,["value"])])),_:1})])),_:1}),y(n,{span:24},{default:m((()=>[y(t,{label:"系统描述"},{default:m((()=>[y(s,{value:f(X).sysDescription,"onUpdate:value":a[13]||(a[13]=e=>f(X).sysDescription=e),autoSize:{minRows:5,maxRows:10},placeholder:"请输入"},null,8,["value"])])),_:1})])),_:1}),y(t,{label:" "},{default:m((()=>[y(d,{type:"primary",onClick:g(xe,["prevent"]),loading:f(le)},{default:m((()=>a[79]||(a[79]=[_("保存")]))),_:1,__:[79]},8,["loading"])])),_:1})])),_:1})])),_:1})),(r(),b(L,{key:2,tab:"安全设置",class:"p-30px"},{default:m((()=>[y(_e,{activeKey:f(ee),"onUpdate:activeKey":a[46]||(a[46]=e=>v(ee)?ee.value=e:null),"tab-position":"left",style:{height:"100%"}},{default:m((()=>[(r(),b(L,{key:1,tab:"登录策略"},{default:m((()=>[y(u,null,{default:m((()=>[y(n,{span:8},{default:m((()=>[y(t,{label:"登录方式"},{default:m((()=>[y(U,{value:f(X).singleLogin,"onUpdate:value":a[14]||(a[14]=e=>f(X).singleLogin=e),placeholder:"请选择",options:f(te)},null,8,["value","options"])])),_:1}),y(t,{label:"超时登出"},{default:m((()=>[y(F,{value:f(X).tokenTimeout,"onUpdate:value":a[15]||(a[15]=e=>f(X).tokenTimeout=e),min:1,precision:0,addonAfter:"分钟",onChange:a[16]||(a[16]=e=>Ae(e,"tokenTimeout"))},null,8,["value"])])),_:1}),y(t,{label:"密码错误次数"},{default:m((()=>[y(F,{value:f(X).passwordErrorsNumber,"onUpdate:value":a[17]||(a[17]=e=>f(X).passwordErrorsNumber=e),min:1,precision:0,addonAfter:"次",onChange:a[18]||(a[18]=e=>Ae(e,"passwordErrorsNumber"))},null,8,["value"])])),_:1})])),_:1})])),_:1}),a[85]||(a[85]=p("div",{class:"common-tip ml-100px"},"输入密码错误将用户锁定，设置3以下值表示不启动该功能",-1)),y(u,{class:"mt-10px"},{default:m((()=>[y(n,{span:10},{default:m((()=>[y(t,{label:" "},{default:m((()=>[y(A,{value:f(X).lockType,"onUpdate:value":a[19]||(a[19]=e=>f(X).lockType=e),options:f(ne)},null,8,["value","options"]),p("div",K,[2===f(X).lockType?(r(),b(t,{key:0,label:"延迟时间"},{default:m((()=>[y(F,{value:f(X).lockTime,"onUpdate:value":a[20]||(a[20]=e=>f(X).lockTime=e),min:1,precision:0,addonAfter:"分钟",onChange:a[21]||(a[21]=e=>Ae(e,"lockTime"))},null,8,["value"])])),_:1})):h("",!0)])])),_:1})])),_:1})])),_:1}),y(u,null,{default:m((()=>[y(n,{span:8},{default:m((()=>[y(t,{label:"登录验证码"},{default:m((()=>[y(D,{value:f(X).enableVerificationCode,"onUpdate:value":a[22]||(a[22]=e=>f(X).enableVerificationCode=e)},null,8,["value"])])),_:1}),f(X).enableVerificationCode?(r(),b(t,{key:0,label:"验证码位数"},{default:m((()=>[y(F,{value:f(X).verificationCodeNumber,"onUpdate:value":a[23]||(a[23]=e=>f(X).verificationCodeNumber=e),min:3,max:6,precision:0,addonAfter:"位",onChange:a[24]||(a[24]=e=>Ae(e,"verificationCodeNumber"))},null,8,["value"])])),_:1})):h("",!0),y(t,{label:"登录提示语"},{default:m((()=>[y(D,{value:f(X).lastLoginTimeSwitch,"onUpdate:value":a[25]||(a[25]=e=>f(X).lastLoginTimeSwitch=e)},null,8,["value"])])),_:1}),f(X).lastLoginTimeSwitch?(r(),b(t,{key:1,label:" "},{default:m((()=>[y(N,{size:"small",style:{width:"300px"},"body-style":{padding:"0px 20px"}},{title:m((()=>a[80]||(a[80]=[p("span",null,"上次登录信息提示",-1)]))),extra:m((()=>a[81]||(a[81]=[p("i",{class:"icon-ym icon-ym-nav-close card-extra"},null,-1)]))),default:m((()=>[a[82]||(a[82]=p("div",{class:"card-item"},[p("p",null,"时间：2018-10-17 12:40"),p("p",null,"地点：上海市"),p("p",null,"IP：255.255.0.0")],-1))])),_:1,__:[82]})])),_:1})):h("",!0),y(t,{label:"白名单验证"},{default:m((()=>[y(D,{value:f(X).whitelistSwitch,"onUpdate:value":a[26]||(a[26]=e=>f(X).whitelistSwitch=e)},null,8,["value"])])),_:1})])),_:1})])),_:1}),y(u,null,{default:m((()=>[y(n,{span:12},{default:m((()=>[f(X).whitelistSwitch?(r(),b(t,{key:0,label:"白名单设置"},{default:m((()=>[y(s,{value:f(X).whiteListIp,"onUpdate:value":a[27]||(a[27]=e=>f(X).whiteListIp=e),autoSize:{minRows:3,maxRows:10},placeholder:"允许访问IP"},null,8,["value"]),a[83]||(a[83]=p("div",{class:"common-tip mt-10px"},"多个IP设置，用英文符号隔开，如192.168.0.1,192.168.0.2",-1))])),_:1,__:[83]})):h("",!0)])),_:1})])),_:1}),y(t,{label:" "},{default:m((()=>[y(d,{type:"primary",onClick:g(xe,["prevent"]),loading:f(le)},{default:m((()=>a[84]||(a[84]=[_("保存")]))),_:1,__:[84]},8,["loading"])])),_:1})])),_:1,__:[85]})),(r(),b(L,{key:2,tab:"密码策略"},{default:m((()=>[y(u,null,{default:m((()=>[y(n,{span:8},{default:m((()=>[y(t,{label:"密码定期更新",labelCol:{style:{width:"140px"}}},{default:m((()=>[y(D,{value:f(X).passwordIsUpdatedRegularly,"onUpdate:value":a[28]||(a[28]=e=>f(X).passwordIsUpdatedRegularly=e)},null,8,["value"])])),_:1}),f(X).passwordIsUpdatedRegularly?(r(),c(C,{key:0},[y(t,{label:"更新周期",labelCol:{style:{width:"140px"}}},{default:m((()=>[y(F,{value:f(X).updateCycle,"onUpdate:value":a[29]||(a[29]=e=>f(X).updateCycle=e),min:1,precision:0,addonAfter:"天",onChange:a[30]||(a[30]=e=>Ae(e,"updateCycle"))},null,8,["value"])])),_:1}),y(t,{label:"提前",labelCol:{style:{width:"140px"}}},{default:m((()=>[y(F,{value:f(X).updateInAdvance,"onUpdate:value":a[31]||(a[31]=e=>f(X).updateInAdvance=e),min:1,precision:0,addonAfter:"天提醒更新",onChange:a[32]||(a[32]=e=>Ae(e,"updateInAdvance"))},null,8,["value"])])),_:1})],64)):h("",!0),y(t,{label:"密码强度限制",labelCol:{style:{width:"140px"}}},{default:m((()=>[y(D,{value:f(X).passwordStrengthLimit,"onUpdate:value":a[33]||(a[33]=e=>f(X).passwordStrengthLimit=e)},null,8,["value"])])),_:1})])),_:1})])),_:1}),y(u,null,{default:m((()=>[y(n,{span:10},{default:m((()=>[f(X).passwordStrengthLimit?(r(),b(t,{key:0,label:" ",labelCol:{style:{width:"140px"}}},{default:m((()=>[p("div",E,[y(be,{class:"checkbox mr-20px",label:"最小长度",value:f(X).passwordLengthMin,"onUpdate:value":a[34]||(a[34]=e=>f(X).passwordLengthMin=e)},null,8,["value"]),y(F,{value:f(X).passwordLengthMinNumber,"onUpdate:value":a[35]||(a[35]=e=>f(X).passwordLengthMinNumber=e),min:1,precision:0,onChange:a[36]||(a[36]=e=>Ae(e,"passwordLengthMinNumber"))},null,8,["value"]),a[86]||(a[86]=p("br",null,null,-1))]),y(be,{class:"checkbox",label:"包含数字",value:f(X).containsNumbers,"onUpdate:value":a[37]||(a[37]=e=>f(X).containsNumbers=e)},null,8,["value"]),a[87]||(a[87]=p("br",null,null,-1)),y(be,{class:"checkbox",label:"包含小写字母",value:f(X).includeLowercaseLetters,"onUpdate:value":a[38]||(a[38]=e=>f(X).includeLowercaseLetters=e)},null,8,["value"]),a[88]||(a[88]=p("br",null,null,-1)),y(be,{class:"checkbox",label:"包含大写字母",value:f(X).includeUppercaseLetters,"onUpdate:value":a[39]||(a[39]=e=>f(X).includeUppercaseLetters=e)},null,8,["value"]),a[89]||(a[89]=p("br",null,null,-1)),y(be,{class:"checkbox",label:"包含字符",value:f(X).containsCharacters,"onUpdate:value":a[40]||(a[40]=e=>f(X).containsCharacters=e)},null,8,["value"])])),_:1,__:[87,88,89]})):h("",!0)])),_:1})])),_:1}),y(u,null,{default:m((()=>[y(n,{span:8},{default:m((()=>[y(t,{label:"禁用旧密码",labelCol:{style:{width:"140px"}}},{default:m((()=>[y(D,{value:f(X).disableOldPassword,"onUpdate:value":a[41]||(a[41]=e=>f(X).disableOldPassword=e)},null,8,["value"])])),_:1}),f(X).disableOldPassword?(r(),b(t,{key:0,label:"禁用个数",labelCol:{style:{width:"140px"}}},{default:m((()=>[y(F,{value:f(X).disableTheNumberOfOldPasswords,"onUpdate:value":a[42]||(a[42]=e=>f(X).disableTheNumberOfOldPasswords=e),min:1,precision:0,addonAfter:"个",onChange:a[43]||(a[43]=e=>Ae(e,"disableTheNumberOfOldPasswords"))},null,8,["value"])])),_:1})):h("",!0),y(t,{label:"修改初始密码提醒",labelCol:{style:{width:"140px"}}},{default:m((()=>[y(D,{value:f(X).mandatoryModificationOfInitialPassword,"onUpdate:value":a[44]||(a[44]=e=>f(X).mandatoryModificationOfInitialPassword=e)},null,8,["value"])])),_:1}),y(t,{labelCol:{style:{width:"140px"}},required:""},{label:m((()=>[a[90]||(a[90]=_("新用户默认密码")),y(ge,{text:"修改后，新的默认密码仅针对后续新建的用户有效"})])),default:m((()=>[y(o,{value:f(X).newUserDefaultPassword,"onUpdate:value":a[45]||(a[45]=e=>f(X).newUserDefaultPassword=e),placeholder:"请输入"},null,8,["value"])])),_:1})])),_:1})])),_:1}),y(t,{label:" ",labelCol:{style:{width:"140px"}}},{default:m((()=>[y(d,{type:"primary",onClick:g(xe,["prevent"]),loading:f(le)},{default:m((()=>a[91]||(a[91]=[_("保存")]))),_:1,__:[91]},8,["loading"])])),_:1})])),_:1}))])),_:1},8,["activeKey"])])),_:1})),(r(),b(L,{key:3,tab:"同步设置",class:"p-30px"},{default:m((()=>[y(_e,{activeKey:f(ee),"onUpdate:activeKey":a[56]||(a[56]=e=>v(ee)?ee.value=e:null),"tab-position":"left",style:{height:"100%"}},{default:m((()=>[(r(),b(L,{key:1,tab:"企业微信"},{default:m((()=>[y(u,{gutter:20},{default:m((()=>[y(n,{span:12,offset:6,pull:6},{default:m((()=>[y(t,{label:"企业号Id"},{default:m((()=>[y(o,{value:f(X).qyhCorpId,"onUpdate:value":a[47]||(a[47]=e=>f(X).qyhCorpId=e),allowClear:"",placeholder:"请输入CorpId"},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12,offset:6,pull:6},{default:m((()=>[y(t,{label:"应用凭证"},{default:m((()=>[y(o,{value:f(X).qyhAgentId,"onUpdate:value":a[48]||(a[48]=e=>f(X).qyhAgentId=e),allowClear:"",placeholder:"请输入AgentId"},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12,offset:6,pull:6},{default:m((()=>[y(t,{label:"凭证密钥"},{default:m((()=>[y(o,{value:f(X).qyhAgentSecret,"onUpdate:value":a[50]||(a[50]=e=>f(X).qyhAgentSecret=e),allowClear:"",placeholder:"请输入AppSecret"},{addonAfter:m((()=>[f(oe)?(r(),b(f(w),{key:0,class:"mr-5px"})):h("",!0),p("span",{class:"cursor-pointer",onClick:a[49]||(a[49]=e=>Te(0))},"连接测试")])),_:1},8,["value"])])),_:1})])),_:1}),y(n,{span:12,offset:6,pull:6},{default:m((()=>[y(t,{label:"同步密钥"},{default:m((()=>[y(o,{value:f(X).qyhCorpSecret,"onUpdate:value":a[52]||(a[52]=e=>f(X).qyhCorpSecret=e),allowClear:"",placeholder:"请输入CorpSecret"},{addonAfter:m((()=>[f(se)?(r(),b(f(w),{key:0,class:"mr-5px"})):h("",!0),p("span",{class:"cursor-pointer",onClick:a[51]||(a[51]=e=>Te(1))},"同步测试")])),_:1},8,["value"])])),_:1})])),_:1})])),_:1}),y(t,{label:"触发事件"},{default:m((()=>[y(Se,{bordered:"",dataSource:f(ue),columns:f(ie),pagination:!1,size:"small"},{bodyCell:m((({column:e,record:a})=>["select"===e.dataIndex?(r(),b(he,{key:0,checked:a.select,"onUpdate:checked":e=>a.select=e},null,8,["checked","onUpdate:checked"])):h("",!0)])),_:1},8,["dataSource","columns"])])),_:1}),y(t,{label:"同步反馈"},{default:m((()=>[y(Se,{bordered:"",dataSource:f(re),columns:f(ce),pagination:!1,size:"small"},{bodyCell:m((({column:e,record:l})=>["synDate"===e.dataIndex?(r(),c("p",M,S(f(k)(l.synDate).format("YYYY-MM-DD HH:mm:ss")),1)):h("",!0),"action"===e.dataIndex?(r(),b(d,{key:1,class:"action-btn",type:"link",onClick:e=>function(e){$.synData=e,$.synData.name="企业微信",we(!0)}(l),size:"small"},{default:m((()=>a[92]||(a[92]=[_("同步")]))),_:2,__:[92]},1032,["onClick"])):h("",!0)])),_:1},8,["dataSource","columns"])])),_:1}),y(t,{label:" "},{default:m((()=>[y(d,{type:"primary",onClick:g(xe,["prevent"]),loading:f(le)},{default:m((()=>a[93]||(a[93]=[_("保存")]))),_:1,__:[93]},8,["loading"])])),_:1})])),_:1})),(r(),b(L,{key:2,tab:"阿里钉钉"},{default:m((()=>[y(u,{gutter:20},{default:m((()=>[y(n,{span:12,offset:6,pull:6},{default:m((()=>[y(t,{label:"企业号Id"},{default:m((()=>[y(o,{value:f(X).dingAgentId,"onUpdate:value":a[53]||(a[53]=e=>f(X).dingAgentId=e),allowClear:"",placeholder:"请输入AgentId"},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12,offset:6,pull:6},{default:m((()=>[y(t,{label:"应用凭证"},{default:m((()=>[y(o,{value:f(X).dingSynAppKey,"onUpdate:value":a[54]||(a[54]=e=>f(X).dingSynAppKey=e),allowClear:"",placeholder:"请输入AppKey"},null,8,["value"])])),_:1})])),_:1}),y(n,{span:12,offset:6,pull:6},{default:m((()=>[y(t,{label:"凭证密钥"},{default:m((()=>[y(o,{value:f(X).dingSynAppSecret,"onUpdate:value":a[55]||(a[55]=e=>f(X).dingSynAppSecret=e),allowClear:"",placeholder:"请输入AppSecret"},{addonAfter:m((()=>[f(de)?(r(),b(f(w),{key:0,class:"mr-5px"})):h("",!0),p("span",{class:"cursor-pointer",onClick:Ue},"连接测试")])),_:1},8,["value"])])),_:1})])),_:1})])),_:1}),y(t,{label:"触发事件"},{default:m((()=>[y(Se,{bordered:"",dataSource:f(pe),columns:f(ie),pagination:!1,size:"small"},{bodyCell:m((({column:e,record:a})=>["select"===e.dataIndex?(r(),b(he,{key:0,checked:a.select,"onUpdate:checked":e=>a.select=e},null,8,["checked","onUpdate:checked"])):h("",!0)])),_:1},8,["dataSource","columns"])])),_:1}),y(t,{label:"同步反馈"},{default:m((()=>[y(Se,{bordered:"",dataSource:f(ye),columns:f(ce),pagination:!1,size:"small"},{bodyCell:m((({column:e,record:l})=>["synDate"===e.dataIndex?(r(),c("p",R,S(f(k)(l.synDate).format("YYYY-MM-DD HH:mm:ss")),1)):h("",!0),"action"===e.dataIndex?(r(),b(d,{key:1,class:"action-btn",type:"link",onClick:e=>function(e){$.synData=e,$.synData.name="阿里钉钉",we(!0)}(l),size:"small"},{default:m((()=>a[94]||(a[94]=[_("同步")]))),_:2,__:[94]},1032,["onClick"])):h("",!0)])),_:1},8,["dataSource","columns"])])),_:1}),y(t,{label:" "},{default:m((()=>[y(d,{type:"primary",onClick:g(xe,["prevent"]),loading:f(le)},{default:m((()=>a[95]||(a[95]=[_("保存")]))),_:1,__:[95]},8,["loading"])])),_:1})])),_:1}))])),_:1},8,["activeKey"])])),_:1})),(r(),b(L,{key:4,tab:"管理员设置",class:"p-30px"},{default:m((()=>[y(u,null,{default:m((()=>[y(n,{span:12},{default:m((()=>[y(t,{label:"超级管理员"},{default:m((()=>[y(ke,{value:f(ae),"onUpdate:value":a[57]||(a[57]=e=>v(ae)?ae.value=e:null),placeholder:"请选择",multiple:""},null,8,["value"])])),_:1}),y(t,{label:" "},{default:m((()=>[y(d,{type:"primary",onClick:g(Le,["prevent"]),loading:f(le)},{default:m((()=>a[96]||(a[96]=[_("保存")]))),_:1,__:[96]},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})),(r(),b(L,{key:5,tab:"流程设置",class:"p-30px"},{default:m((()=>[y(u,null,{default:m((()=>[y(n,{span:12},{default:m((()=>[y(De,{class:"mb-20px -mt-12px",content:"基础配置"}),y(t,{labelCol:{style:{width:"120px"}}},{label:m((()=>[a[97]||(a[97]=_("链接时效性")),y(ge,{text:"审批链接是否有效：审批链接发送时间 + 审批链接时效性。"})])),default:m((()=>[y(F,{value:f(X).linkTime,"onUpdate:value":a[58]||(a[58]=e=>f(X).linkTime=e),placeholder:"请输入",min:1,precision:0,addonAfter:"小时",onChange:a[59]||(a[59]=e=>Ae(e,"linkTime"))},null,8,["value"])])),_:1}),y(t,{labelCol:{style:{width:"120px"}}},{label:m((()=>[a[98]||(a[98]=_("链接点击失效")),y(ge,{text:"禁用：不判断点击次数；启用：根据失效次数判断，点击超过次数链接失效。"})])),default:m((()=>[y(D,{value:f(X).isClick,"onUpdate:value":a[60]||(a[60]=e=>f(X).isClick=e)},null,8,["value"])])),_:1}),f(X).isClick?(r(),b(t,{key:0,labelCol:{style:{width:"120px"}}},{label:m((()=>a[99]||(a[99]=[_("失效次数")]))),default:m((()=>[y(F,{value:f(X).unClickNum,"onUpdate:value":a[61]||(a[61]=e=>f(X).unClickNum=e),placeholder:"请输入",min:1,precision:0,addonAfter:"次",onChange:a[62]||(a[62]=e=>Ae(e,"unClickNum"))},null,8,["value"])])),_:1})):h("",!0),y(t,{labelCol:{style:{width:"120px"}}},{label:m((()=>[a[100]||(a[100]=_("流程办理")),y(ge,{text:"启用办理则系统会显示流程办理相关的菜单。"})])),default:m((()=>[y(D,{value:f(X).flowTodo,"onUpdate:value":a[63]||(a[63]=e=>f(X).flowTodo=e),onChange:a[64]||(a[64]=e=>{f(X).flowTodo||($.baseForm.flowSign=0)})},null,8,["value"])])),_:1}),f(X).flowTodo?(r(),b(t,{key:1,labelCol:{style:{width:"120px"}}},{label:m((()=>[a[101]||(a[101]=_("流程签收")),y(ge,{text:"启用签收则系统会显示流程签收相关的菜单。"})])),default:m((()=>[y(D,{value:f(X).flowSign,"onUpdate:value":a[65]||(a[65]=e=>f(X).flowSign=e)},null,8,["value"])])),_:1})):h("",!0),y(t,{labelCol:{style:{width:"120px"}}},{label:m((()=>[a[102]||(a[102]=_("加签层级")),y(ge,{text:"启用多层级可能导致加签死循环属于业务操作问题。"})])),default:m((()=>[y(F,{value:f(X).addSignLevel,"onUpdate:value":a[66]||(a[66]=e=>f(X).addSignLevel=e),placeholder:"请输入",min:1,max:6,precision:0,addonAfter:"级",onChange:a[67]||(a[67]=e=>Ae(e,"addSignLevel"))},null,8,["value"])])),_:1}),y(De,{class:"mb-20px",content:"委托设置"}),y(t,{labelCol:{style:{width:"120px"}}},{label:m((()=>[a[103]||(a[103]=_("范围设置")),y(ge,{text:"设置受托人的选择范围"})])),default:m((()=>[y(U,{value:f(X).delegateScope,"onUpdate:value":a[68]||(a[68]=e=>f(X).delegateScope=e),options:B},null,8,["value"])])),_:1}),y(t,{labelCol:{style:{width:"120px"}}},{label:m((()=>[a[104]||(a[104]=_("委托确认")),y(ge,{text:"需受托人确认接收请求"})])),default:m((()=>[y(D,{value:f(X).delegateAck,"onUpdate:value":a[69]||(a[69]=e=>f(X).delegateAck=e)},null,8,["value"])])),_:1}),y(De,{class:"mb-20px",content:"代理设置"}),y(t,{labelCol:{style:{width:"120px"}}},{label:m((()=>[a[105]||(a[105]=_("范围设置")),y(ge,{text:"设置代理人的选择范围"})])),default:m((()=>[y(U,{value:f(X).proxyScope,"onUpdate:value":a[70]||(a[70]=e=>f(X).proxyScope=e),options:B},null,8,["value"])])),_:1}),y(t,{labelCol:{style:{width:"120px"}}},{label:m((()=>[a[106]||(a[106]=_("代理确认")),y(ge,{text:"需代理人确认接收请求"})])),default:m((()=>[y(D,{value:f(X).proxyAck,"onUpdate:value":a[71]||(a[71]=e=>f(X).proxyAck=e)},null,8,["value"])])),_:1})])),_:1})])),_:1}),y(t,{labelCol:{style:{width:"120px"}},label:" "},{default:m((()=>[y(d,{type:"primary",onClick:g(xe,["prevent"])},{default:m((()=>a[107]||(a[107]=[_("保存")]))),_:1,__:[107]})])),_:1})])),_:1})),(r(),b(L,{key:6,tab:"日程设置",class:"p-30px"},{default:m((()=>[y(u,null,{default:m((()=>[y(n,{span:8},{default:m((()=>[y(t,{label:"默认视图"},{default:m((()=>[y(A,{value:f(X).defaultView,"onUpdate:value":a[72]||(a[72]=e=>f(X).defaultView=e),options:T,optionType:"button","button-style":"solid"},null,8,["value"])])),_:1}),y(t,{label:"显示农历"},{default:m((()=>[y(Ne,{checked:f(X).showLunarCalendar,"onUpdate:checked":a[73]||(a[73]=e=>f(X).showLunarCalendar=e)},null,8,["checked"])])),_:1}),y(t,{label:"周第一天"},{default:m((()=>[y(U,{value:f(X).firstDay,"onUpdate:value":a[74]||(a[74]=e=>f(X).firstDay=e),options:J,placeholder:"请选择"},null,8,["value"])])),_:1}),y(t,{label:"默认时长"},{default:m((()=>[y(U,{value:f(X).duration,"onUpdate:value":a[75]||(a[75]=e=>f(X).duration=e),options:W,placeholder:"请选择"},null,8,["value"])])),_:1}),y(t,{label:" "},{default:m((()=>[y(d,{type:"primary",onClick:g(xe,["prevent"])},{default:m((()=>a[108]||(a[108]=[_("保存")]))),_:1,__:[108]})])),_:1})])),_:1})])),_:1})])),_:1}))])),_:1},8,["activeKey"])])),_:1})]),y(f(I),x(e.$attrs,{onRegister:f(Ce),title:"数据同步",footer:null,width:450,class:"sync-dialog"}),{default:m((()=>[p("div",j,[a[110]||(a[110]=p("i",{class:"add-icon syn-icon icon-ym icon-ym-upload"},null,-1)),p("div",z,[p("p",V,"同步到"+S(f(me).name),1),p("p",Q,"把系统数据同步到"+S(f(me).name),1)]),y(d,{type:"primary",onClick:a[77]||(a[77]=e=>"企业微信"===f(me).name?Ie(0):Fe(0)),loading:f(fe),disabled:f(ve)},{default:m((()=>a[109]||(a[109]=[_(" 同步 ")]))),_:1,__:[109]},8,["loading","disabled"])]),p("div",Y,[a[113]||(a[113]=p("i",{class:"add-icons syn-icon icon-ym icon-ym-download"},null,-1)),p("div",G,[a[111]||(a[111]=p("p",{class:"add-title"},"同步到系统",-1)),p("p",H,"把"+S(f(me).name)+"同步到系统",1)]),y(d,{type:"primary",onClick:a[78]||(a[78]=e=>"企业微信"===f(me).name?Ie(1):Fe(1)),loading:f(ve),disabled:f(fe)},{default:m((()=>a[112]||(a[112]=[_(" 同步 ")]))),_:1,__:[112]},8,["loading","disabled"])])])),_:1},16,["onRegister"])])}}}),[["__scopeId","data-v-1226aa6a"]]);export{J as default};
