import{d as o,u as e,ad as a,a0 as s,M as n,e as l,o as r,p as t,l as c,a4 as i,j as p,k as d,ae as m,g as u,t as y,q as v,m as k}from"./index-920db443.js";const x={class:"commonWords-content"},f=["onClick"],w=o({__name:"CommonWordsPopover",props:{list:{type:Array,default:[]}},emits:["confirm"],setup(o,{expose:w,emit:g}){w({closePopover:function(){_.popoverVisible=!1}});const W=o,{t:b}=e(),C=g,T=[{title:"常用语",dataIndex:"commonWordsText",key:"commonWordsText",ellipsis:!0}],_=a({popoverVisible:!1,loading:!1,list:[],keyword:""}),{popoverVisible:h,loading:V,keyword:j}=s(_),I=n((()=>_.keyword?W.list.filter((o=>-1!==o.commonWordsText.indexOf(_.keyword))):W.list));function O(){_.keyword=""}return(o,e)=>{const a=l("a-button"),s=l("a-input-search"),n=l("a-table"),w=l("a-popover");return r(),t(w,{placement:"top",trigger:"click",overlayClassName:"commonWords-popover",open:d(h),"onUpdate:open":e[1]||(e[1]=o=>m(h)?h.value=o:null),onOpenChange:O},{content:c((()=>[i("div",x,[p(s,{placeholder:d(b)("common.enterKeyword"),allowClear:"",value:d(j),"onUpdate:value":e[0]||(e[0]=o=>m(j)?j.value=o:null)},null,8,["placeholder","value"]),p(n,{"data-source":I.value,columns:T,size:"small",pagination:!1,showHeader:!1,loading:d(V),scroll:{y:220}},{bodyCell:c((({column:o,record:e})=>["commonWordsText"===o.key?(r(),u("span",{key:0,class:"cursor-pointer",onClick:o=>async function(o){C("confirm",o||""),_.popoverVisible=!1}(e.commonWordsText)},y(e.commonWordsText),9,f)):v("",!0)])),_:1},8,["data-source","loading"])])])),default:c((()=>[p(a,{type:"link",postIcon:"icon-ym icon-ym-arrow-down",class:"!px-0"},{default:c((()=>[k(y(d(b)("common.moreText")),1)])),_:1})])),_:1},8,["open"])}}});export{w as _};
