import{u as e,B as t}from"./useTable-dc8c9d84.js";import{T as o}from"./TableAction-adbe36f2.js";import{d as s,u as r,co as n,e as i,o as a,g as m,a4 as p,j as u,l as c,m as l,t as d,q as _,p as j,k as v,gX as f,ah as g}from"./index-920db443.js";import{g as y,_ as T,d as x,a as w}from"./Form.vue_vue_type_script_setup_true_lang-d3dfb4a8.js";import{u as b}from"./index-9c138ba5.js";import"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-143f5813.js";import"./useWindowSizeFn-05f906e2.js";import"./log-2a5f2c26.js";import"./index-999abbee.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./upperFirst-2cd1a2f7.js";import"./useTabs-ceeccdba.js";import"./uniqBy-e868edd7.js";import"./sortable.esm-02d0fe44.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";const h={class:"jnpf-content-wrapper"},k={class:"jnpf-content-wrapper-center"},C={class:"jnpf-content-wrapper-content"},D=["title","onClick"],H=s({name:"system-cache",__name:"index",setup(s){const{t:H}=r(),{createMessage:F,createConfirm:I}=g(),M=[{title:"名称",dataIndex:"name",sorter:!0},{title:"过期时间",dataIndex:"overdueTime",sorter:!0,width:150,format:"date|YYYY-MM-DD HH:mm:ss"},{title:"大小",dataIndex:"cacheSize",width:90,format:f}],[R,{openPopup:Y}]=b(),[S,{reload:O}]=e({api:y,columns:M,useSearchForm:!0,formConfig:{schemas:[{field:"keyword",label:H("common.keyword"),component:"Input",componentProps:{placeholder:H("common.enterKeyword"),submitOnPressEnter:!0}},{field:"overdueTime",label:"过期时间",component:"DateRange",componentProps:{format:"YYYY-MM-DD HH:mm:ss",showTime:{defaultValue:[n("00:00:00","HH:mm:ss"),n("23:59:59","HH:mm:ss")]},placeholder:["开始时间","结束时间"]}}],fieldMapToTime:[["overdueTime",["overdueStartTime","overdueEndTime"]]]},actionColumn:{width:60,title:"操作",dataIndex:"action"}});function P(e){return[{label:H("common.delText"),color:"error",modelConfirm:{onOk:A.bind(null,e.name)}}]}function A(e){x(e).then((e=>{F.success(e.msg),O()}))}return(e,s)=>{const r=i("a-button");return a(),m("div",h,[p("div",k,[p("div",C,[u(v(t),{onRegister:v(S)},{tableTitle:c((()=>[u(r,{type:"error",preIcon:"icon-ym icon-ym-btn-clearn",onClick:s[0]||(s[0]=e=>{I({iconType:"warning",title:H("common.tipTitle"),content:"您确定要清空所有缓存数据吗, 是否继续?",onOk:()=>{w().then((e=>{F.success(e.msg),O()}))}})})},{default:c((()=>s[1]||(s[1]=[l("清空所有")]))),_:1,__:[1]})])),bodyCell:c((({column:e,record:t})=>["name"===e.key?(a(),m("a",{key:0,title:t.name,onClick:e=>{return o=t.name,void Y(!0,{id:o});var o}},d(t.name),9,D)):_("",!0),"action"===e.key?(a(),j(v(o),{key:1,actions:P(t)},null,8,["actions"])):_("",!0)])),_:1},8,["onRegister"])])]),u(T,{onRegister:v(R),onReload:v(O)},null,8,["onRegister","onReload"])])}}});export{H as default};
