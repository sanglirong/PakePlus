import{b as e,B as a}from"./index-143f5813.js";import{d as t,r,ad as o,a0 as l,e as s,o as n,p as d,l as i,j as u,k as m,g as c,F as f,h as p,V as g,n as v}from"./index-920db443.js";const y=t({__name:"ErrorModal",emits:["register","confirm","close"],setup(t,{emit:y}){const h=y,k=r(),F=o({dataForm:{nodeList:[]}}),{dataForm:L}=l(F),[_,{changeOkLoading:b}]=e((function(e){b(!1),F.dataForm.nodeList=e.errorData.map((e=>({...e,value:[],rules:[{required:!0,message:"必填",trigger:"change",type:"array"}],key:+new Date}))),v((()=>{k.value?.clearValidate()}))}));async function j(){try{if(!(await(k.value?.validate())))return;let e={};for(let a=0;a<F.dataForm.nodeList.length;a++)e[F.dataForm.nodeList[a].nodeCode]=F.dataForm.nodeList[a].value;b(!0),h("confirm",e)}catch(e){}}async function x(){return h("close"),!0}return(e,t)=>{const r=s("jnpf-user-select"),o=s("a-form-item"),l=s("a-form");return n(),d(m(a),g(e.$attrs,{onRegister:m(_),title:"异常处理",onOk:j,minHeight:52,destroyOnClose:"",closeFunc:x}),{default:i((()=>[u(l,{colon:!1,labelCol:{style:{width:"100px"}},model:m(L),ref_key:"formElRef",ref:k},{default:i((()=>[(n(!0),c(f,null,p(m(L).nodeList,((e,a)=>(n(),d(o,{label:e.nodeName,name:["nodeList",a,"value"],key:a,rules:e.rules},{default:i((()=>[(n(),d(r,{value:e.value,"onUpdate:value":a=>e.value=a,multiple:"",placeholder:"请选择",key:e.key},null,8,["value","onUpdate:value"]))])),_:2},1032,["label","name","rules"])))),128))])),_:1},8,["model"])])),_:1},16,["onRegister"])}}});export{y as _};
