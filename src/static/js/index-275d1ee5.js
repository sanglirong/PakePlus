import{u as e,B as t}from"./useTable-dc8c9d84.js";import{T as o}from"./TableAction-adbe36f2.js";import{d as s,u as a,aD as n,a7 as r,e as i,o as p,g as m,a4 as d,j as l,l as u,m as c,t as _,k as j,p as f,q as y,ah as b}from"./index-920db443.js";import{b as g,d as x}from"./dataSource-ed26da12.js";import{u as v}from"./index-143f5813.js";import{_ as w}from"./Form.vue_vue_type_script_setup_true_lang-70761041.js";import"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-9c138ba5.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./log-2a5f2c26.js";import"./index-999abbee.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./upperFirst-2cd1a2f7.js";import"./useTabs-ceeccdba.js";import"./uniqBy-e868edd7.js";import"./useWindowSizeFn-05f906e2.js";import"./sortable.esm-02d0fe44.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";const h={class:"jnpf-content-wrapper"},T={class:"jnpf-content-wrapper-center"},I={class:"jnpf-content-wrapper-content"},D=s({name:"systemData-dataSource",__name:"index",setup(s){const{t:D}=a(),{createMessage:C}=b(),F=n(),[M,{openModal:S}]=v(),[k,{reload:Y,getForm:R}]=e({api:g,columns:[{title:"连接名称",dataIndex:"fullName"},{title:"连接驱动",dataIndex:"dbType",width:150},{title:"主机地址",dataIndex:"host",width:200},{title:"端口",dataIndex:"port",width:60},{title:"创建人",dataIndex:"creatorUser",width:120},{title:"创建时间",dataIndex:"creatorTime",width:150,format:"date|YYYY-MM-DD HH:mm:ss"},{title:"最后修改时间",dataIndex:"lastModifyTime",width:150,format:"date|YYYY-MM-DD HH:mm:ss"},{title:"排序",dataIndex:"sortCode",width:70}],useSearchForm:!0,formConfig:{schemas:[{field:"keyword",label:D("common.keyword"),component:"Input",componentProps:{placeholder:D("common.enterKeyword"),submitOnPressEnter:!0}},{field:"dbType",label:"连接驱动",component:"Select",componentProps:{placeholder:"请选择",fieldNames:{label:"fullName",value:"enCode"}}}]},actionColumn:{width:100,title:"操作",dataIndex:"action"}});function P(e){return[{label:D("common.editText"),onClick:O.bind(null,e.id)},{label:D("common.delText"),color:"error",modelConfirm:{onOk:H.bind(null,e.id)}}]}function H(e){x(e).then((e=>{C.success(e.msg),Y()}))}function O(e=""){S(!0,{id:e})}return r((()=>{!async function(){const e=await F.getDictionaryData("dbType");R().updateSchema({field:"dbType",componentProps:{options:e}})}()})),(e,s)=>{const a=i("a-button");return p(),m("div",h,[d("div",T,[d("div",I,[l(j(t),{onRegister:j(k)},{tableTitle:u((()=>[l(a,{type:"primary",preIcon:"icon-ym icon-ym-btn-add",onClick:s[0]||(s[0]=e=>O())},{default:u((()=>[c(_(j(D)("common.addText")),1)])),_:1})])),bodyCell:u((({column:e,record:t})=>["action"===e.key?(p(),f(j(o),{key:0,actions:P(t)},null,8,["actions"])):y("",!0)])),_:1},8,["onRegister"])])]),l(w,{onRegister:j(M),onReload:j(Y)},null,8,["onRegister","onReload"])])}}});export{D as default};
