import{d as r,aw as a,ad as e,a7 as t,o as n,g as o,a4 as s,aA as i,dD as c}from"./index-920db443.js";import{g as l}from"./dataReport-8cd046d3.js";const d={class:"jnpf-content-wrapper bg-white"},m=["src"],p=r({name:"dynamicDataReport",__name:"index",emits:["register"],setup(r){const{report:p}=a(),f=e({url:""});function h(){const r=i().meta.relationId;if(!r)return;let a=`${p}/preview.html?id=${r}&token=${c()}&page=1&from=menu`;l(r).then((r=>{let e={};if(r.data?.searchForm?.components&&Array.isArray(r.data.searchForm.components)){u(r.data.searchForm.components,e);for(let r in e){a+="&"+r+"="+e[r]}}f.url=a}))}function u(r,a){for(let e=0;e<r.length;e++){let t=r[e],n=[];t.hasOwnProperty("cols")&&Array.isArray(t.cols)&&(n=n.concat(t.cols)),t.hasOwnProperty("children")&&Array.isArray(t.children)&&(n=n.concat(t.children)),t.bindParameter&&t.defaultValue&&(a[t.bindParameter]=t.defaultValue),u(n,a)}}return t((()=>{h()})),(r,a)=>(n(),o("div",d,[s("iframe",{src:f.url,width:"100%",height:"100%",frameborder:"0"},null,8,m)]))}});export{p as default};
