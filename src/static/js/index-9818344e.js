import{d as e,aD as t,aA as o,ad as s,eK as n,a7 as r,e as a,o as i,g as p,a4 as m,j as l,l as d,m as u,t as c,k as _,p as j,q as y,u as g,eL as f,ah as b}from"./index-920db443.js";import{u as v,B as x}from"./useTable-dc8c9d84.js";import{T as I}from"./TableAction-adbe36f2.js";import{u as k}from"./index-143f5813.js";import{_ as T}from"./Form.vue_vue_type_script_setup_true_lang-18e87ae0.js";import"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-9c138ba5.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./log-2a5f2c26.js";import"./index-999abbee.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./upperFirst-2cd1a2f7.js";import"./useTabs-ceeccdba.js";import"./uniqBy-e868edd7.js";import"./useWindowSizeFn-05f906e2.js";import"./sortable.esm-02d0fe44.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";const w={class:"jnpf-content-wrapper"},C={class:"jnpf-content-wrapper-center"},h={class:"jnpf-content-wrapper-content"},F=e({name:"dynamic-dictionary",__name:"index",setup(e){const{createMessage:F}=b(),{t:M}=g(),R=t(),S=o(),[D,{openModal:L}]=k(),A=s({typeId:"",isTree:0}),O=s({expand:!1}),[P,{reload:q}]=v({api:n,columns:[{title:"名称",dataIndex:"fullName"},{title:"编码",dataIndex:"enCode"},{title:"排序",dataIndex:"sortCode",width:70,align:"center"},{title:"状态",dataIndex:"enabledMark",width:70,align:"center"}],immediate:!1,pagination:!1,isTreeTable:!0,useSearchForm:!0,formConfig:{schemas:[{field:"keyword",label:M("common.keyword"),component:"Input",componentProps:{placeholder:M("common.enterKeyword"),submitOnPressEnter:!0},colProps:{span:6}}]},actionColumn:{width:100,title:"操作",dataIndex:"action"}});function B(e){return[{label:M("common.editText"),onClick:K.bind(null,e.id)},{label:M("common.delText"),color:"error",modelConfirm:{onOk:z.bind(null,e.id)}}]}function K(e=""){L(!0,{id:e,...A})}function z(e){f(e).then((e=>{F.success(e.msg),R.setDictionaryList(),q()}))}return r((()=>{const{meta:e}=S;A.typeId=e.relationId,A.isTree=e.isTree||0,O.expand=!!A.isTree,A.typeId&&q(),q()})),(e,t)=>{const o=a("a-button"),s=a("a-tag");return i(),p("div",w,[m("div",C,[m("div",h,[l(_(x),{onRegister:_(P),searchInfo:A,tableSetting:O},{tableTitle:d((()=>[l(o,{type:"primary",preIcon:"icon-ym icon-ym-btn-add",onClick:t[0]||(t[0]=e=>K())},{default:d((()=>[u(c(_(M)("common.addText")),1)])),_:1})])),bodyCell:d((({column:e,record:t})=>["enabledMark"===e.key?(i(),j(s,{key:0,color:1==t.enabledMark?"success":"error"},{default:d((()=>[u(c(1==t.enabledMark?"启用":"禁用"),1)])),_:2},1032,["color"])):y("",!0),"action"===e.key?(i(),j(_(I),{key:1,actions:B(t)},null,8,["actions"])):y("",!0)])),_:1},8,["onRegister","searchInfo","tableSetting"])])]),l(T,{onRegister:_(D),onReload:_(q)},null,8,["onRegister","onReload"])])}}});export{F as default};
