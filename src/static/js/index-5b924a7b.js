import{e,b as a,u as t,c as l,f as o,h as i,i as n,j as p}from"./portal-935b0b1b.js";import{u as c,B as u}from"./useTable-dc8c9d84.js";import{T as d}from"./TableAction-adbe36f2.js";import{d as s,e as r,o as v,g as y,j as f,l as h,p as m,q as D,M as k,F as b,k as g,m as _,r as w,a4 as T,V as x,n as C,i as U,v as S,ah as N,ad as L,aR as A,eg as I,dC as j,aD as F,aY as z,fE as R,a0 as J,a7 as O,t as M,ae as B,af as K,u as W,ab as V,fF as P,dE as $,dq as H,dG as E,a9 as G,dj as q,aa as Y,a5 as X,s as Z,h as Q,dF as ee,T as ae,ea as te}from"./index-920db443.js";import{b as le,B as oe,u as ie}from"./index-143f5813.js";import{_ as ne}from"./Form.vue_vue_type_script_setup_true_lang-2d94c409.js";import{P as pe,l as ce,b as ue,s as de,c as se,a as re}from"./index-b34d9508.js";import{a as ve,t as ye,d as fe,u as he,i as me,b as De,l as ke,p as be,r as ge,e as _e,f as we,v as Te,m as xe,g as Ce,h as Ue,s as Se,j as Ne,k as Le,o as Ae,q as Ie,w as je,x as Fe,y as ze,z as Re,A as Je,c as Oe,B as Me,C as Be,D as Ke,E as We,n as Ve,F as Pe,G as $e,H as He,I as Ee,J as Ge,K as qe}from"./dataMap-47db3937.js";import{u as Ye}from"./useRedo-dab275e6.js";import{a as Xe,P as Ze}from"./index-c37d2476.js";import{S as Qe}from"./sortable.esm-02d0fe44.js";import{a as ea}from"./index-7e2f1b8c.js";import{d as aa}from"./vuedraggable.umd-11acc51f.js";import{a as ta,C as la}from"./index-3b5bee70.js";import{_ as oa}from"./index.vue_vue_type_script_setup_true_lang-220e2b69.js";import{C as ia}from"./CopyOutlined-8d46c8b2.js";import{_ as na}from"./ReleaseModal.vue_vue_type_script_setup_true_lang-1e67fab1.js";import"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-9c138ba5.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./log-2a5f2c26.js";import"./index-999abbee.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./upperFirst-2cd1a2f7.js";import"./useTabs-ceeccdba.js";import"./uniqBy-e868edd7.js";import"./useWindowSizeFn-05f906e2.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";import"./formValidate-c8ab8d29.js";import"./BasicLeftTree-cd55d444.js";import"./billRule-0363563b.js";import"./import-e198d900.js";import"./tip-b30e67af.js";import"./dataSource-ed26da12.js";import"./dataModel-ea807f46.js";import"./define-8efdf20f.js";const pa="/static/png/emptyPortal-29ba3c77.png",ca=s({__name:"RRefresh",props:["refresh"],setup:e=>(a,t)=>{const l=r("a-switch"),o=r("a-form-item"),i=r("a-input-number");return v(),y("div",null,[f(o,{label:"自动刷新"},{default:h((()=>[f(l,{checked:e.refresh.autoRefresh,"onUpdate:checked":t[0]||(t[0]=a=>e.refresh.autoRefresh=a)},null,8,["checked"])])),_:1}),e.refresh.autoRefresh?(v(),m(o,{key:0,label:"刷新间隔"},{default:h((()=>[f(i,{value:e.refresh.autoRefreshTime,"onUpdate:value":t[1]||(t[1]=a=>e.refresh.autoRefreshTime=a),placeholder:"请输入",min:1,max:1440,"addon-after":"分钟"},null,8,["value"])])),_:1})):D("",!0)])}}),ua=s({__name:"RLink",props:{activeData:{type:Object,default:()=>{}},menuList:{type:Array,default:()=>[]},appMenuList:{type:Array,default:()=>[]},type:{type:Number,default:1},showType:{type:String,default:"pc"}},setup(e){const a=e,t=k((()=>"地址以http://或https://开头"+("text"==a.activeData.jnpfKey?"，例:https://xxx.com?xxx=${field}，参数可选":"")));function l(e,t){const l="pc"==a.showType;a.activeData.option[l?"type":"appType"]=t.type,a.activeData.option[l?"urlAddress":"appUrlAddress"]=t.urlAddress,t.linkTarget&&l&&(a.activeData.option.linkTarget=t.linkTarget),t.propertyJson&&(a.activeData.option[l?"propertyJson":"appPropertyJson"]=t.propertyJson)}function o(e,t){const l="pc"==a.showType;a.activeData.card[l?"type":"appType"]=t.type,a.activeData.card[l?"urlAddress":"appUrlAddress"]=t.urlAddress,t.linkTarget&&l&&(a.activeData.card.linkTarget=t.linkTarget),t.propertyJson&&(a.activeData.card[l?"propertyJson":"appPropertyJson"]=t.propertyJson)}function i(e,t){1==e?"app"==t?(a.activeData.option.appType="",a.activeData.option.appUrlAddress="",a.activeData.option.appModuleId=""):(a.activeData.option.type="",a.activeData.option.moduleId="",a.activeData.option.linkTarget="_self",a.activeData.option.urlAddress=""):"app"==t?(a.activeData.card.appType="",a.activeData.card.appUrlAddress="",a.activeData.card.appModuleId=""):(a.activeData.card.type="",a.activeData.card.moduleId="",a.activeData.card.linkTarget="_self",a.activeData.card.urlAddress="")}return(a,n)=>{const p=r("jnpf-select"),c=r("a-form-item"),u=r("jnpf-tree-select"),d=r("BasicHelp"),s=r("a-input");return 1==e.type?(v(),y(b,{key:0},["pc"==e.showType?(v(),y(b,{key:0},[f(c,{label:"链接类型"},{default:h((()=>[f(p,{value:e.activeData.option.linkType,"onUpdate:value":n[0]||(n[0]=a=>e.activeData.option.linkType=a),options:g(ve),placeholder:"请选择",showSearch:"",allowClear:"",onChange:n[1]||(n[1]=e=>i(1))},null,8,["value","options"])])),_:1}),1==e.activeData.option.linkType?(v(),m(c,{key:0,label:"菜单名称"},{default:h((()=>[f(u,{value:e.activeData.option.moduleId,"onUpdate:value":n[2]||(n[2]=a=>e.activeData.option.moduleId=a),placeholder:"请选择",lastLevel:"",allowClear:"",showSearch:"",options:e.menuList,lastLevelKey:"hasModule",lastLevelValue:!0,onChange:l},null,8,["value","options"])])),_:1})):D("",!0),2==e.activeData.option.linkType?(v(),m(c,{key:1},{label:h((()=>[n[18]||(n[18]=_("链接地址")),f(d,{text:t.value},null,8,["text"])])),default:h((()=>[f(s,{value:e.activeData.option.urlAddress,"onUpdate:value":n[4]||(n[4]=a=>e.activeData.option.urlAddress=a),placeholder:"请输入"},{addonAfter:h((()=>[f(p,{value:e.activeData.option.linkTarget,"onUpdate:value":n[3]||(n[3]=a=>e.activeData.option.linkTarget=a),options:g(ye),class:"w-90px"},null,8,["value","options"])])),_:1},8,["value"])])),_:1})):D("",!0)],64)):(v(),y(b,{key:1},[f(c,{label:"链接类型"},{default:h((()=>[f(p,{value:e.activeData.option.appLinkType,"onUpdate:value":n[5]||(n[5]=a=>e.activeData.option.appLinkType=a),options:g(ve),placeholder:"请选择",showSearch:"",allowClear:"",onChange:n[6]||(n[6]=e=>i(1,"app"))},null,8,["value","options"])])),_:1}),1==e.activeData.option.appLinkType?(v(),m(c,{key:0,label:"菜单名称"},{default:h((()=>[f(u,{value:e.activeData.option.appModuleId,"onUpdate:value":n[7]||(n[7]=a=>e.activeData.option.appModuleId=a),placeholder:"请选择",lastLevel:"",allowClear:"",showSearch:"",options:e.appMenuList,lastLevelKey:"hasModule",lastLevelValue:!0,onChange:l},null,8,["value","options"])])),_:1})):D("",!0),2==e.activeData.option.appLinkType?(v(),m(c,{key:1},{label:h((()=>[n[19]||(n[19]=_("链接地址")),f(d,{text:t.value},null,8,["text"])])),default:h((()=>[f(s,{value:e.activeData.option.appUrlAddress,"onUpdate:value":n[8]||(n[8]=a=>e.activeData.option.appUrlAddress=a),placeholder:"请输入"},null,8,["value"])])),_:1})):D("",!0)],64))],64)):(v(),y(b,{key:1},["pc"==e.showType?(v(),y(b,{key:0},[f(c,{label:"右上角链接"},{default:h((()=>[f(p,{value:e.activeData.card.linkType,"onUpdate:value":n[9]||(n[9]=a=>e.activeData.card.linkType=a),options:g(ve),placeholder:"请选择",showSearch:"",allowClear:"",onChange:n[10]||(n[10]=e=>i(2))},null,8,["value","options"])])),_:1}),1==e.activeData.card.linkType?(v(),m(c,{key:0,label:"菜单名称"},{default:h((()=>[f(u,{value:e.activeData.card.moduleId,"onUpdate:value":n[11]||(n[11]=a=>e.activeData.card.moduleId=a),placeholder:"请选择",lastLevel:"",allowClear:"",showSearch:"",options:e.menuList,lastLevelKey:"hasModule",lastLevelValue:!0,onChange:o},null,8,["value","options"])])),_:1})):D("",!0),2==e.activeData.card.linkType?(v(),m(c,{key:1},{label:h((()=>[n[20]||(n[20]=_("链接地址")),f(d,{text:t.value},null,8,["text"])])),default:h((()=>[f(s,{value:e.activeData.card.urlAddress,"onUpdate:value":n[13]||(n[13]=a=>e.activeData.card.urlAddress=a),placeholder:"请输入"},{addonAfter:h((()=>[f(p,{value:e.activeData.card.linkTarget,"onUpdate:value":n[12]||(n[12]=a=>e.activeData.card.linkTarget=a),options:g(ye),class:"w-90px"},null,8,["value","options"])])),_:1},8,["value"])])),_:1})):D("",!0)],64)):(v(),y(b,{key:1},[f(c,{label:"右上角链接"},{default:h((()=>[f(p,{value:e.activeData.card.appLinkType,"onUpdate:value":n[14]||(n[14]=a=>e.activeData.card.appLinkType=a),options:g(ve),placeholder:"请选择",showSearch:"",allowClear:"",onChange:n[15]||(n[15]=e=>i(2,"app"))},null,8,["value","options"])])),_:1}),1==e.activeData.card.appLinkType?(v(),m(c,{key:0,label:"菜单名称"},{default:h((()=>[f(u,{value:e.activeData.card.appModuleId,"onUpdate:value":n[16]||(n[16]=a=>e.activeData.card.appModuleId=a),placeholder:"请选择",lastLevel:"",allowClear:"",showSearch:"",options:e.appMenuList,lastLevelKey:"hasModule",lastLevelValue:!0,onChange:o},null,8,["value","options"])])),_:1})):D("",!0),2==e.activeData.card.appLinkType?(v(),m(c,{key:1},{label:h((()=>[n[21]||(n[21]=_("链接地址")),f(d,{text:t.value},null,8,["text"])])),default:h((()=>[f(s,{value:e.activeData.card.appUrlAddress,"onUpdate:value":n[17]||(n[17]=a=>e.activeData.card.appUrlAddress=a),placeholder:"请输入"},null,8,["value"])])),_:1})):D("",!0)],64))],64))}}}),da=s({__name:"RCard",props:["activeData","menuList","appMenuList","showType"],setup:e=>(a,t)=>{const l=r("jnpf-i18n-input"),o=r("a-form-item"),i=r("a-input-number"),n=r("a-switch"),p=r("jnpf-color-picker"),c=r("jnpf-radio"),u=r("JnpfIconPicker"),d=r("a-collapse-panel");return v(),m(d,null,{header:h((()=>t[11]||(t[11]=[_("卡片设置")]))),default:h((()=>[f(o,{label:"标题名称"},{default:h((()=>[f(l,{value:e.activeData.title,"onUpdate:value":t[0]||(t[0]=a=>e.activeData.title=a),i18n:e.activeData.titleI18nCode,"onUpdate:i18n":t[1]||(t[1]=a=>e.activeData.titleI18nCode=a),placeholder:"请输入"},null,8,["value","i18n"])])),_:1}),f(o,{label:"字体大小"},{default:h((()=>[f(i,{value:e.activeData.card.titleFontSize,"onUpdate:value":t[2]||(t[2]=a=>e.activeData.card.titleFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(o,{label:"字体加粗"},{default:h((()=>[f(n,{checked:e.activeData.card.titleFontWeight,"onUpdate:checked":t[3]||(t[3]=a=>e.activeData.card.titleFontWeight=a)},null,8,["checked"])])),_:1}),f(o,{label:"字体颜色"},{default:h((()=>[f(p,{value:e.activeData.card.titleFontColor,"onUpdate:value":t[4]||(t[4]=a=>e.activeData.card.titleFontColor=a),size:"small"},null,8,["value"])])),_:1}),f(o,{label:"字体位置"},{default:h((()=>[f(c,{value:e.activeData.card.titleLeft,"onUpdate:value":t[5]||(t[5]=a=>e.activeData.card.titleLeft=a),options:g(fe),optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value","options"])])),_:1}),f(o,{label:"背景色"},{default:h((()=>[f(p,{value:e.activeData.card.titleBgColor,"onUpdate:value":t[6]||(t[6]=a=>e.activeData.card.titleBgColor=a),size:"small"},null,8,["value"])])),_:1}),f(o,{label:"图标"},{default:h((()=>[f(u,{value:e.activeData.card.cardIcon,"onUpdate:value":t[7]||(t[7]=a=>e.activeData.card.cardIcon=a)},null,8,["value"])])),_:1}),f(o,{label:"图标颜色"},{default:h((()=>[f(p,{value:e.activeData.card.cardIconColor,"onUpdate:value":t[8]||(t[8]=a=>e.activeData.card.cardIconColor=a),size:"small"},null,8,["value"])])),_:1}),f(o,{label:"右上角名称"},{default:h((()=>[f(l,{value:e.activeData.card.cardRightBtn,"onUpdate:value":t[9]||(t[9]=a=>e.activeData.card.cardRightBtn=a),i18n:e.activeData.card.cardRightBtnI18nCode,"onUpdate:i18n":t[10]||(t[10]=a=>e.activeData.card.cardRightBtnI18nCode=a),placeholder:"请输入"},null,8,["value","i18n"])])),_:1}),e.activeData.card.cardRightBtn?(v(),m(ua,{key:0,activeData:e.activeData,menuList:e.menuList,appMenuList:e.appMenuList,showType:e.showType,type:2},null,8,["activeData","menuList","appMenuList","showType"])):D("",!0)])),_:1})}}),sa={class:"mb-20px"},ra=s({__name:"REditorModal",emits:["register","change"],setup(e,{emit:a}){const t=a,[l,{closeModal:o}]=le((function(e){i.value=e.value})),i=w();function n(){t("change",i.value),C((()=>o()))}return(e,a)=>{const t=r("JnpfEditor");return v(),m(g(oe),x(e.$attrs,{width:"800px",onRegister:g(l),title:"文本内容",onOk:n,destroyOnClose:""}),{default:h((()=>[T("div",sa,[f(t,{value:i.value,"onUpdate:value":a[0]||(a[0]=e=>i.value=e),height:"500px"},null,8,["value"])])])),_:1},16,["onRegister"])}}}),va=s({__name:"RMapSet",props:["activeData","showType","mapOptions"],setup(e){const a=e,{createMessage:t}=N(),l=[{fullName:"连续",id:"continuous"},{fullName:"分段",id:"piecewise"}],o=[{fullName:"散点",id:"scatter"},{fullName:"涟漪散点",id:"effectScatter"}];function i(){a.activeData.option.updateMapType=+new Date}function n(e){e>a.activeData.option.visualMapMax&&t.warning("最小值不能超过最大值，请重新输入")}function p(e){e<a.activeData.option.visualMapMin&&t.warning("最大值不能小于最小值，请重新输入")}return(a,t)=>{const c=r("jnpf-cascader"),u=r("a-form-item"),d=r("jnpf-color-picker"),s=r("a-switch"),k=r("a-input-number"),g=r("a-slider"),w=r("a-divider"),T=r("jnpf-radio"),x=r("BasicHelp"),C=r("a-input");return v(),y("div",null,[f(u,{label:"地图选择"},{default:h((()=>[f(c,{changeOnSelect:!0,value:e.activeData.option.mapType,"onUpdate:value":t[0]||(t[0]=a=>e.activeData.option.mapType=a),options:e.mapOptions,showSearch:"",allowClear:"",placeholder:"请选择",fieldNames:{label:"fullName",value:"enCode"},onChange:i},null,8,["value","options"])])),_:1}),f(u,{label:"背景色"},{default:h((()=>[f(d,{value:e.activeData.option.bgColor,"onUpdate:value":t[1]||(t[1]=a=>e.activeData.option.bgColor=a),size:"small"},null,8,["value"])])),_:1}),f(u,{label:"区域颜色"},{default:h((()=>[f(d,{value:e.activeData.option.geoAreaColor,"onUpdate:value":t[2]||(t[2]=a=>e.activeData.option.geoAreaColor=a),size:"small"},null,8,["value"])])),_:1}),f(u,{label:"区域名称"},{default:h((()=>[f(s,{checked:e.activeData.option.geoLabelShow,"onUpdate:checked":t[3]||(t[3]=a=>e.activeData.option.geoLabelShow=a)},null,8,["checked"])])),_:1}),e.activeData.option.geoLabelShow?(v(),y(b,{key:0},[f(u,{label:"字体大小"},{default:h((()=>[f(k,{value:e.activeData.option.geoLabelFontSize,"onUpdate:value":t[4]||(t[4]=a=>e.activeData.option.geoLabelFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),"pc"==e.showType?(v(),m(u,{key:0,label:"字体加粗"},{default:h((()=>[f(s,{checked:e.activeData.option.geoLabelFontWeight,"onUpdate:checked":t[5]||(t[5]=a=>e.activeData.option.geoLabelFontWeight=a)},null,8,["checked"])])),_:1})):D("",!0),f(u,{label:"字体颜色"},{default:h((()=>[f(d,{value:e.activeData.option.geoLabelColor,"onUpdate:value":t[6]||(t[6]=a=>e.activeData.option.geoLabelColor=a),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),f(u,{label:"区域线"},{default:h((()=>[f(g,{value:e.activeData.option.geoBorderWidth,"onUpdate:value":t[7]||(t[7]=a=>e.activeData.option.geoBorderWidth=a),min:0,max:10,step:1},null,8,["value"])])),_:1}),f(u,{label:"区域线颜色"},{default:h((()=>[f(d,{value:e.activeData.option.geoBorderColor,"onUpdate:value":t[8]||(t[8]=a=>e.activeData.option.geoBorderColor=a),size:"small"},null,8,["value"])])),_:1}),"pc"==e.showType?(v(),y(b,{key:1},[f(u,{label:"阴影大小"},{default:h((()=>[f(g,{value:e.activeData.option.geoShadowOffset,"onUpdate:value":t[9]||(t[9]=a=>e.activeData.option.geoShadowOffset=a),min:0,max:5,step:1},null,8,["value"])])),_:1}),f(u,{label:"阴影颜色"},{default:h((()=>[f(d,{value:e.activeData.option.geoShadowColor,"onUpdate:value":t[10]||(t[10]=a=>e.activeData.option.geoShadowColor=a),size:"small"},null,8,["value"])])),_:1}),f(u,{label:"鼠标缩放"},{default:h((()=>[f(s,{checked:e.activeData.option.geoRoam,"onUpdate:checked":t[11]||(t[11]=a=>e.activeData.option.geoRoam=a)},null,8,["checked"])])),_:1}),f(u,{label:"缩放比例"},{default:h((()=>[f(g,{value:e.activeData.option.mspScale,"onUpdate:value":t[12]||(t[12]=a=>e.activeData.option.mspScale=a),min:.5,max:5,step:.1},null,8,["value"])])),_:1}),f(u,{label:"地图长宽比"},{default:h((()=>[f(g,{value:e.activeData.option.geoAspectScale,"onUpdate:value":t[13]||(t[13]=a=>e.activeData.option.geoAspectScale=a),min:.25,max:1.5,step:.05},null,8,["value"])])),_:1})],64)):D("",!0),f(u,{label:"钻取"},{default:h((()=>[f(s,{checked:e.activeData.option.drillDown,"onUpdate:checked":t[14]||(t[14]=a=>e.activeData.option.drillDown=a)},null,8,["checked"])])),_:1}),e.activeData.option.drillDown?(v(),y(b,{key:2},[f(u,{label:"字体大小"},{default:h((()=>[f(k,{value:e.activeData.option.drillDownFontSize,"onUpdate:value":t[15]||(t[15]=a=>e.activeData.option.drillDownFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(u,{label:"字体加粗"},{default:h((()=>[f(s,{checked:e.activeData.option.drillDownFontWeight,"onUpdate:checked":t[16]||(t[16]=a=>e.activeData.option.drillDownFontWeight=a)},null,8,["checked"])])),_:1}),f(u,{label:"字体颜色"},{default:h((()=>[f(d,{value:e.activeData.option.drillDownColor,"onUpdate:value":t[17]||(t[17]=a=>e.activeData.option.drillDownColor=a),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),"pc"==e.showType?(v(),y(b,{key:3},[f(w,null,{default:h((()=>t[39]||(t[39]=[_("视觉设置")]))),_:1,__:[39]}),f(u,{label:"视觉类型"},{default:h((()=>[f(T,{value:e.activeData.option.visualMapType,"onUpdate:value":t[18]||(t[18]=a=>e.activeData.option.visualMapType=a),options:l,optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value"])])),_:1}),f(u,{label:"最小值"},{default:h((()=>[f(k,{value:e.activeData.option.visualMapMin,"onUpdate:value":t[19]||(t[19]=a=>e.activeData.option.visualMapMin=a),min:0,onChange:n},null,8,["value"])])),_:1}),f(u,{label:"最大值"},{default:h((()=>[f(k,{value:e.activeData.option.visualMapMax,"onUpdate:value":t[20]||(t[20]=a=>e.activeData.option.visualMapMax=a),min:0,onChange:p},null,8,["value"])])),_:1})],64)):D("",!0),1==e.activeData.option.styleType||4==e.activeData.option.styleType?(v(),y(b,{key:4},[f(w,null,{default:h((()=>t[40]||(t[40]=[_("散点设置")]))),_:1,__:[40]}),U(f(u,{label:"散点类型"},{default:h((()=>[f(T,{value:e.activeData.option.seriesType,"onUpdate:value":t[21]||(t[21]=a=>e.activeData.option.seriesType=a),options:o,optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value"])])),_:1},512),[[S,"pc"==e.showType]]),f(u,null,{label:h((()=>[t[41]||(t[41]=_("显示数量")),f(x,{text:"置空时，则显示全部数据"})])),default:h((()=>["pc"==e.showType?(v(),m(k,{key:0,value:e.activeData.option.showNumber,"onUpdate:value":t[22]||(t[22]=a=>e.activeData.option.showNumber=a),min:0,max:2e3},null,8,["value"])):(v(),m(k,{key:1,value:e.activeData.option.appShowNumber,"onUpdate:value":t[23]||(t[23]=a=>e.activeData.option.appShowNumber=a),min:0,max:2e3},null,8,["value"]))])),_:1}),U(f(u,{label:"透明度"},{default:h((()=>[f(g,{value:e.activeData.option.seriesItemStyleOpacity,"onUpdate:value":t[24]||(t[24]=a=>e.activeData.option.seriesItemStyleOpacity=a),min:0,max:1,step:.1},null,8,["value"])])),_:1},512),[[S,"pc"==e.showType]])],64)):D("",!0),4==e.activeData.option.styleType&&"pc"==e.showType?(v(),y(b,{key:5},[f(w,null,{default:h((()=>t[42]||(t[42]=[_("柱形排名设置")]))),_:1,__:[42]}),f(u,{label:"标题名称"},{default:h((()=>[f(C,{value:e.activeData.option.barTitleText,"onUpdate:value":t[25]||(t[25]=a=>e.activeData.option.barTitleText=a),placeholder:"请输入"},null,8,["value"])])),_:1}),f(u,{label:"字体大小"},{default:h((()=>[f(k,{value:e.activeData.option.barTitleTextStyleFontSize,"onUpdate:value":t[26]||(t[26]=a=>e.activeData.option.barTitleTextStyleFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(u,{label:"字体加粗"},{default:h((()=>[f(s,{checked:e.activeData.option.barTitleTextStyleFontWeight,"onUpdate:checked":t[27]||(t[27]=a=>e.activeData.option.barTitleTextStyleFontWeight=a)},null,8,["checked"])])),_:1}),f(u,{label:"字体颜色"},{default:h((()=>[f(d,{value:e.activeData.option.barTitleTextStyleColor,"onUpdate:value":t[28]||(t[28]=a=>e.activeData.option.barTitleTextStyleColor=a),size:"small"},null,8,["value"])])),_:1}),f(u,{label:"底边距"},{default:h((()=>[f(g,{value:e.activeData.option.berGridBottom,"onUpdate:value":t[29]||(t[29]=a=>e.activeData.option.berGridBottom=a),min:0,max:600,step:1},null,8,["value"])])),_:1}),f(u,{label:"右边距"},{default:h((()=>[f(g,{value:e.activeData.option.berGridRight,"onUpdate:value":t[30]||(t[30]=a=>e.activeData.option.berGridRight=a),min:0,max:100,step:1},null,8,["value"])])),_:1}),f(u,{label:"顶边距"},{default:h((()=>[f(g,{value:e.activeData.option.berGridTop,"onUpdate:value":t[31]||(t[31]=a=>e.activeData.option.berGridTop=a),min:0,max:100,step:1},null,8,["value"])])),_:1})],64)):D("",!0),1!=e.activeData.option.styleType&&4!=e.activeData.option.styleType||"pc"!=e.showType?D("",!0):(v(),y(b,{key:6},[f(w,null,{default:h((()=>t[43]||(t[43]=[_("轮播设置")]))),_:1,__:[43]}),f(u,{label:"开启轮播"},{default:h((()=>[f(s,{checked:e.activeData.option.autoCarousel,"onUpdate:checked":t[32]||(t[32]=a=>e.activeData.option.autoCarousel=a)},null,8,["checked"])])),_:1}),e.activeData.option.autoCarousel?(v(),m(u,{key:0,label:"轮播间隔"},{default:h((()=>[f(k,{value:e.activeData.option.autoCarouselTime,"onUpdate:value":t[33]||(t[33]=a=>e.activeData.option.autoCarouselTime=a),placeholder:"请输入",min:100,max:5e5,"addon-after":"ms"},null,8,["value"])])),_:1})):D("",!0)],64)),2==e.activeData.option.styleType&&"pc"==e.showType?(v(),y(b,{key:7},[f(w,null,{default:h((()=>t[44]||(t[44]=[_("热力设置")]))),_:1,__:[44]}),f(u,{label:" 点大小"},{default:h((()=>[f(k,{value:e.activeData.option.seriesPointSize,"onUpdate:value":t[34]||(t[34]=a=>e.activeData.option.seriesPointSize=a),min:0},null,8,["value"])])),_:1}),f(u,{label:"点模糊大小"},{default:h((()=>[f(k,{value:e.activeData.option.seriesBlurSize,"onUpdate:value":t[35]||(t[35]=a=>e.activeData.option.seriesBlurSize=a),min:0},null,8,["value"])])),_:1}),f(u,{label:"透明度"},{default:h((()=>[f(g,{value:e.activeData.option.seriesMaxOpacity,"onUpdate:value":t[36]||(t[36]=a=>e.activeData.option.seriesMaxOpacity=a),min:0,max:5,step:.1},null,8,["value"])])),_:1})],64)):D("",!0),3==e.activeData.option.styleType&&"pc"==e.showType?(v(),y(b,{key:8},[f(w,null,{default:h((()=>t[45]||(t[45]=[_("柱形设置")]))),_:1,__:[45]}),f(u,{label:"宽度"},{default:h((()=>[f(k,{value:e.activeData.option.seriesBarWidth,"onUpdate:value":t[37]||(t[37]=a=>e.activeData.option.seriesBarWidth=a),min:0,max:100,placeholder:"请输入"},null,8,["value"])])),_:1}),f(u,{label:"弧度"},{default:h((()=>[f(k,{value:e.activeData.option.seriesItemStyleBarBorderRadius,"onUpdate:value":t[38]||(t[38]=a=>e.activeData.option.seriesItemStyleBarBorderRadius=a),min:0,max:100,placeholder:"请输入"},null,8,["value"])])),_:1})],64)):D("",!0)])}}}),ya=s({__name:"RTextSet",props:["activeData"],setup:e=>(a,t)=>{const l=r("a-input-number"),o=r("a-form-item"),i=r("a-switch"),n=r("jnpf-color-picker"),p=r("jnpf-radio");return v(),y("div",null,[f(o,{label:"文本大小"},{default:h((()=>[f(l,{value:e.activeData.option.textFontSize,"onUpdate:value":t[0]||(t[0]=a=>e.activeData.option.textFontSize=a),min:12,max:25,placeholder:"请输入"},null,8,["value"])])),_:1}),f(o,{label:"文本加粗"},{default:h((()=>[f(i,{checked:e.activeData.option.textFontWeight,"onUpdate:checked":t[1]||(t[1]=a=>e.activeData.option.textFontWeight=a)},null,8,["checked"])])),_:1}),"text"==e.activeData.jnpfKey?(v(),m(o,{key:0,label:"文本斜体"},{default:h((()=>[f(i,{checked:e.activeData.option.textFontStyle,"onUpdate:checked":t[2]||(t[2]=a=>e.activeData.option.textFontStyle=a)},null,8,["checked"])])),_:1})):D("",!0),f(o,{label:"文本颜色"},{default:h((()=>[f(n,{value:e.activeData.option.textFontColor,"onUpdate:value":t[3]||(t[3]=a=>e.activeData.option.textFontColor=a),size:"small"},null,8,["value"])])),_:1}),f(o,{label:"文本位置"},{default:h((()=>[f(p,{value:e.activeData.option.textLeft,"onUpdate:value":t[4]||(t[4]=a=>e.activeData.option.textLeft=a),options:g(fe),optionType:"button",buttonStyle:"solid",class:"right-radio"},null,8,["value","options"])])),_:1}),"text"==e.activeData.jnpfKey?(v(),m(o,{key:1,label:"文本下划线"},{default:h((()=>[f(p,{value:e.activeData.option.textUnderLine,"onUpdate:value":t[5]||(t[5]=a=>e.activeData.option.textUnderLine=a),options:g(he),optionType:"button",buttonStyle:"solid"},null,8,["value","options"])])),_:1})):D("",!0),f(o,{label:"背景色"},{default:h((()=>[f(n,{value:e.activeData.option.textBgColor,"onUpdate:value":t[6]||(t[6]=a=>e.activeData.option.textBgColor=a),size:"small"},null,8,["value"])])),_:1})])}}),fa={key:0,class:"drag-handler icon-ym icon-ym-darg",title:"点击拖动"},ha={key:1,class:"flex items-center"},ma={class:"flex-1"},Da={key:3,class:"flex items-center"},ka={class:"flex-1"},ba=s({__name:"RCarouselModal",emits:["register","change"],setup(e,{emit:a}){const t=L({list:[],menuList:[],appMenuList:[],showType:""}),l=a,{createMessage:o}=N(),[i,{closeModal:n}]=le((function(e){t.list=JSON.parse(JSON.stringify(e.data)),t.menuList=e.menuList||[],t.appMenuList=e.appMenuList||[],t.showType=e.showType||"pc",C((()=>function(){const e=document.querySelector(".carousel-table .ant-table-tbody");Qe.create(e,{handle:".drag-handler",animation:150,easing:"cubic-bezier(1, 0, 0, 1)",onStart:()=>{},onEnd:({newIndex:e,oldIndex:a})=>{const l=t.list.splice(a,1)[0];t.list.splice(e,0,l)}})}()))})),p=[{title:"拖动",dataIndex:"drag",key:"drag",align:"center",width:50},{title:"图片来源",dataIndex:"dataType",key:"dataType",width:360},{title:"文本内容",dataIndex:"textDefaultValue",key:"textDefaultValue",width:180},{title:"链接类型",dataIndex:"linkType",key:"linkType",width:360},{title:"操作",dataIndex:"action",key:"action",width:50}];function c(){for(let e=0;e<t.list.length;e++){const a=t.list[e];if((1==a.dataType||2==a.dataType)&&!a.imageUrl)return o.warning(2==a.dataType?"图片地址不能为空":"请选择图片");if(2==a.dataType&&!j(a.imageUrl))return o.warning("请输入正确的图片地址");if(3==a.dataType&&!a.propsApi)return o.warning("请选择数据接口");if("1"==a.linkType&&!a.urlAddress&&!a.moduleId)return o.warning("请选择菜单");if("2"==a.linkType&&!a.urlAddress)return o.warning("链接地址不能为空");if("2"==a.linkType&&!j(a.urlAddress))return o.warning("请输入正确的链接地址")}l("change",t.list),C((()=>n()))}return(e,a)=>{const l=r("BasicHelp"),o=r("jnpf-select"),n=r("JnpfUploadImgSingle"),u=r("a-input"),d=r("jnpf-i18n-input"),s=r("jnpf-tree-select"),k=r("a-button"),w=r("a-table");return v(),m(g(oe),x(e.$attrs,{width:"1000px",class:"jnpf-modal-portal",onRegister:g(i),title:"选项设置",onOk:c,destroyOnClose:""}),{default:h((()=>[f(w,{"data-source":t.list,columns:p,size:"small",pagination:!1,rowKey:"id",class:"carousel-table"},{headerCell:h((({column:e})=>["linkType"===e.key?(v(),y(b,{key:0},[a[1]||(a[1]=_("链接类型")),f(l,{text:"地址以http://或https://开头"})],64)):D("",!0)])),bodyCell:h((({column:e,record:l,index:i})=>["drag"===e.key?(v(),y("i",fa)):D("",!0),"dataType"===e.key?(v(),y("div",ha,[f(o,{class:"!w-160px !mr-10px",value:l[e.key],"onUpdate:value":a=>l[e.key]=a,options:g(me),placeholder:"请选择",showSearch:"",allowClear:"",onChange:e=>function(e){t.list[e].propsApi="",t.list[e].propsName="",t.list[e].imageUrl=""}(i)},null,8,["value","onUpdate:value","options","onChange"]),T("div",ma,[1==l.dataType?(v(),m(n,{key:0,value:l.imageUrl,"onUpdate:value":e=>l.imageUrl=e},null,8,["value","onUpdate:value"])):2==l.dataType?(v(),m(u,{key:1,value:l.imageUrl,"onUpdate:value":e=>l.imageUrl=e,placeholder:"请输入",allowClear:""},null,8,["value","onUpdate:value"])):(v(),m(g(Xe),{key:2,value:l.propsApi,title:l.propsName,popupTitle:"数据接口",onChange:(e,a)=>function(e,a,l){if(!e)return t.list[l].propsApi="",void(t.list[l].propsName="");t.list[l].propsApi=e,t.list[l].propsName=a.fullName}(e,a,i)},null,8,["value","title","onChange"]))])])):D("",!0),"textDefaultValue"===e.key?(v(),m(d,{key:2,value:l.textDefaultValue,"onUpdate:value":e=>l.textDefaultValue=e,i18n:l.textDefaultValueI18nCode,"onUpdate:i18n":e=>l.textDefaultValueI18nCode=e,placeholder:"请输入",allowClear:""},null,8,["value","onUpdate:value","i18n","onUpdate:i18n"])):D("",!0),"linkType"===e.key?(v(),y("div",Da,[f(o,{class:"!w-160px !mr-10px",value:l[e.key],"onUpdate:value":a=>l[e.key]=a,options:g(ve),placeholder:"请选择",showSearch:"",allowClear:""},null,8,["value","onUpdate:value","options"]),T("div",ka,[1==l.linkType?(v(),m(s,{key:0,value:l.moduleId,"onUpdate:value":e=>l.moduleId=e,placeholder:"请选择",lastLevel:"",allowClear:"",showSearch:"",options:"pc"==t.showType?t.menuList:t.appMenuList,onChange:(e,a)=>function(e,a,l){t.list[l].type=a.type,t.list[l].urlAddress=a.urlAddress,a.linkTarget&&(t.list[l].linkTarget=a.linkTarget),a.propertyJson&&(t.list[l].propertyJson=a.propertyJson)}(0,a,i)},null,8,["value","onUpdate:value","options","onChange"])):D("",!0),2==l.linkType?(v(),m(u,{key:1,value:l.urlAddress,"onUpdate:value":e=>l.urlAddress=e,placeholder:"请输入"},A({_:2},["pc"==t.showType?{name:"addonAfter",fn:h((()=>[f(o,{value:l.linkTarget,"onUpdate:value":e=>l.linkTarget=e,options:g(ye),placeholder:"请选择",class:"!w-90px"},null,8,["value","onUpdate:value","options"])])),key:"0"}:void 0]),1032,["value","onUpdate:value"])):D("",!0)])])):D("",!0),"action"===e.key?(v(),m(k,{key:4,class:"action-btn",type:"link",color:"error",onClick:e=>function(e){t.list.splice(e,1)}(i),size:"small"},{default:h((()=>a[2]||(a[2]=[_("删除")]))),_:2,__:[2]},1032,["onClick"])):D("",!0)])),_:1},8,["data-source"]),T("div",{class:"table-add-action",onClick:a[0]||(a[0]=e=>function(){const e={mageUrl:"",dataType:2,propsApi:"",moduleId:"",linkType:"",urlAddress:"",linkTarget:"_self",textDefaultValue:"",id:I()};t.list.push(e)}())},[f(k,{type:"link",preIcon:"icon-ym icon-ym-btn-add"},{default:h((()=>a[3]||(a[3]=[_("添加")]))),_:1,__:[3]})])])),_:1},16,["onRegister"])}}}),ga={key:0,class:"drag-handler icon-ym icon-ym-darg",title:"点击拖动"},_a=s({__name:"RTodoModal",emits:["register","change"],setup(e,{emit:a}){const t=L({list:[],menuList:[],appMenuList:[],categoryList:[],showType:""}),l=a,{createMessage:o}=N(),i=F(),[n,{closeModal:p}]=le((function(e){t.list=JSON.parse(JSON.stringify(e.data)),t.menuList=e.menuList||[],t.appMenuList=e.appMenuList||[],t.menuList=e.showType||"pc",async function(){t.categoryList=await i.getDictionaryData("businessType")}(),C((()=>function(){const e=document.querySelector(".carousel-table .ant-table-tbody");Qe.create(e,{handle:".drag-handler",animation:150,easing:"cubic-bezier(1, 0, 0, 1)",onStart:()=>{},onEnd:({newIndex:e,oldIndex:a})=>{const l=t.list.splice(a,1)[0];t.list.splice(e,0,l)}})}()))})),c=[{title:"拖动",dataIndex:"drag",key:"drag",align:"center",width:50},{title:"名称",dataIndex:"fullName",key:"fullName",width:250},{title:"分类",dataIndex:"category",key:"category",width:250},{title:"隐藏",dataIndex:"noShow",key:"noShow",width:70},{title:"图标",dataIndex:"icon",key:"icon",width:280},{title:"图标背景色",dataIndex:"iconBgColor",key:"iconBgColor",width:90}];function u(){for(let e=0;e<t.list.length;e++){const a=t.list[e];if(!a.fullName)return o.warning("名称不能为空");if(!a.icon)return o.warning("请选择图标");if(!a.iconBgColor)return o.warning("请选择图标背景色")}l("change",t.list),C((()=>p()))}return(e,a)=>{const l=r("jnpf-i18n-input"),o=r("jnpf-select"),i=r("a-switch"),p=r("JnpfIconPicker"),d=r("jnpf-color-picker"),s=r("a-table");return v(),m(g(oe),x(e.$attrs,{width:"1000px",class:"jnpf-modal-portal",onRegister:g(n),title:"选项设置",onOk:u,destroyOnClose:""}),{default:h((()=>[f(s,{"data-source":t.list,columns:c,size:"small",pagination:!1,rowKey:"id",class:"carousel-table"},{bodyCell:h((({column:e,record:a})=>["drag"===e.key?(v(),y("i",ga)):D("",!0),"fullName"===e.key?(v(),m(l,{key:1,value:a.fullName,"onUpdate:value":e=>a.fullName=e,i18n:a.fullNameI18nCode,"onUpdate:i18n":e=>a.fullNameI18nCode=e,placeholder:"请输入名称",allowClear:"",maxlength:50},null,8,["value","onUpdate:value","i18n","onUpdate:i18n"])):D("",!0),"category"===e.key?(v(),m(o,{key:2,value:a[e.key],"onUpdate:value":t=>a[e.key]=t,options:t.categoryList,placeholder:"请选择分类",multiple:"",showSearch:"",allowClear:""},null,8,["value","onUpdate:value","options"])):D("",!0),"noShow"===e.key?(v(),m(i,{key:3,checked:a.noShow,"onUpdate:checked":e=>a.noShow=e},null,8,["checked","onUpdate:checked"])):D("",!0),"icon"===e.key?(v(),m(p,{key:4,value:a.icon,"onUpdate:value":e=>a.icon=e},null,8,["value","onUpdate:value"])):D("",!0),"iconBgColor"===e.key?(v(),m(d,{key:5,value:a.iconBgColor,"onUpdate:value":e=>a.iconBgColor=e,size:"small"},null,8,["value","onUpdate:value"])):D("",!0)])),_:1},8,["data-source"])])),_:1},16,["onRegister"])}}}),wa={key:0,class:"drag-handler icon-ym icon-ym-darg",title:"点击拖动"},Ta={key:4,class:"flex items-center"},xa={class:"flex-1"},Ca=s({__name:"RCommonFunModal",emits:["register","change"],setup(e,{emit:a}){const t=L({list:[],menuList:[],appMenuList:[],showType:""}),l=a,{createMessage:o}=N(),[i,{closeModal:n}]=le((function(e){t.list=JSON.parse(JSON.stringify(e.data)),t.menuList=e.menuList||[],t.appMenuList=e.appMenuList||[],t.showType=e.showType||"pc",C((()=>function(){const e=document.querySelector(".carousel-table .ant-table-tbody");Qe.create(e,{handle:".drag-handler",animation:150,easing:"cubic-bezier(1, 0, 0, 1)",onStart:()=>{},onEnd:({newIndex:e,oldIndex:a})=>{const l=t.list.splice(a,1)[0];t.list.splice(e,0,l)}})}()))})),p=[{title:"拖动",dataIndex:"drag",key:"drag",align:"center",width:50},{title:"名称",dataIndex:"fullName",key:"fullName",width:200},{title:"图标",dataIndex:"icon",key:"icon",width:280},{title:"图标颜色",dataIndex:"iconBgColor",key:"iconBgColor",width:80},{title:"链接类型",dataIndex:"linkType",key:"linkType",width:360},{title:"操作",dataIndex:"action",key:"action",width:50,fixed:"right"}];function c(){for(let e=0;e<t.list.length;e++){const a=t.list[e];if(!a.fullName)return o.warning("名称不能为空");if(!a.icon)return o.warning("请选择图标");if(!a.iconBgColor)return o.warning("请选择图标颜色");if(1==a.linkType&&!a.urlAddress&&!a.moduleId)return o.warning("请选择菜单");if(2==a.linkType&&!a.urlAddress)return o.warning("链接地址不能为空");if(2==a.linkType&&!j(a.urlAddress))return o.warning("请输入正确的链接地址")}l("change",t.list),C((()=>n()))}return(e,a)=>{const l=r("BasicHelp"),o=r("jnpf-i18n-input"),n=r("JnpfIconPicker"),u=r("jnpf-color-picker"),d=r("jnpf-select"),s=r("jnpf-tree-select"),k=r("a-input"),w=r("a-button"),C=r("a-table");return v(),m(g(oe),x(e.$attrs,{width:"1000px",class:"jnpf-modal-portal",onRegister:g(i),title:"选项设置",onOk:c,destroyOnClose:""}),{default:h((()=>[f(C,{"data-source":t.list,columns:p,size:"small",pagination:!1,rowKey:"id",class:"carousel-table"},{headerCell:h((({column:e})=>["linkType"===e.key?(v(),y(b,{key:0},[a[1]||(a[1]=_("链接类型")),f(l,{text:"地址以http://或https://开头"})],64)):D("",!0)])),bodyCell:h((({column:e,record:l,index:i})=>["drag"===e.key?(v(),y("i",wa)):D("",!0),"fullName"===e.key?(v(),m(o,{key:1,value:l.fullName,"onUpdate:value":e=>l.fullName=e,i18n:l.fullNameI18nCode,"onUpdate:i18n":e=>l.fullNameI18nCode=e,placeholder:"请输入",allowClear:"",maxlength:50},null,8,["value","onUpdate:value","i18n","onUpdate:i18n"])):D("",!0),"icon"===e.key?(v(),m(n,{key:2,value:l.icon,"onUpdate:value":e=>l.icon=e},null,8,["value","onUpdate:value"])):D("",!0),"iconBgColor"===e.key?(v(),m(u,{key:3,value:l.iconBgColor,"onUpdate:value":e=>l.iconBgColor=e,size:"small"},null,8,["value","onUpdate:value"])):D("",!0),"linkType"===e.key?(v(),y("div",Ta,[f(d,{class:"!w-160px !mr-10px",value:l[e.key],"onUpdate:value":a=>l[e.key]=a,options:g(ve),placeholder:"请选择",showSearch:"",allowClear:""},null,8,["value","onUpdate:value","options"]),T("div",xa,[1==l.linkType?(v(),m(s,{key:0,value:l.moduleId,"onUpdate:value":e=>l.moduleId=e,placeholder:"请选择",lastLevel:"",allowClear:"",showSearch:"",options:"pc"==t.showType?t.menuList:t.appMenuList,onChange:(e,a)=>function(e,a,l){t.list[l].type=a.type,t.list[l].urlAddress=a.urlAddress,a.linkTarget&&(t.list[l].linkTarget=a.linkTarget),a.propertyJson&&(t.list[l].propertyJson=a.propertyJson)}(0,a,i)},null,8,["value","onUpdate:value","options","onChange"])):D("",!0),2==l.linkType?(v(),m(k,{key:1,value:l.urlAddress,"onUpdate:value":e=>l.urlAddress=e,placeholder:"请输入"},A({_:2},["pc"==t.showType?{name:"addonAfter",fn:h((()=>[f(d,{value:l.linkTarget,"onUpdate:value":e=>l.linkTarget=e,options:g(ye),placeholder:"请选择",class:"!w-90px"},null,8,["value","onUpdate:value","options"])])),key:"0"}:void 0]),1032,["value","onUpdate:value"])):D("",!0)])])):D("",!0),"action"===e.key?(v(),m(w,{key:5,class:"action-btn",type:"link",color:"error",onClick:e=>function(e){t.list.splice(e,1)}(i),size:"small"},{default:h((()=>a[2]||(a[2]=[_("删除")]))),_:2,__:[2]},1032,["onClick"])):D("",!0)])),_:1},8,["data-source"]),T("div",{class:"table-add-action",onClick:a[0]||(a[0]=e=>function(){const e={fullName:"",moduleId:"",linkType:"",urlAddress:"",linkTarget:"_self",icon:"icon-ym icon-ym-webDesign",iconBgColor:"#1890FF",type:2,id:I()};t.list.push(e)}())},[f(w,{type:"link",preIcon:"icon-ym icon-ym-btn-add"},{default:h((()=>a[3]||(a[3]=[_("添加")]))),_:1,__:[3]})])])),_:1},16,["onRegister"])}}}),Ua={key:0,class:"drag-handler icon-ym icon-ym-darg",title:"点击拖动"},Sa={key:7,class:"flex items-center"},Na={class:"flex-1"},La=s({__name:"RDataBoardModal",emits:["register","change"],setup(e,{emit:a}){const t=L({list:[],menuList:[],appMenuList:[],showType:"",dataType:"static",allOptions:[],options:[],interfaceId:""}),l=a,{createMessage:o}=N(),[i,{closeModal:n}]=le((function(e){t.list=JSON.parse(JSON.stringify(e.data)),t.menuList=e.menuList||[],t.appMenuList=e.appMenuList||[],t.showType=e.showType||"pc",t.dataType=e.dataType||"static",t.interfaceId=e.interfaceId||"",C((()=>{!function(){const e=document.querySelector(".carousel-table .ant-table-tbody");Qe.create(e,{handle:".drag-handler",animation:150,easing:"cubic-bezier(1, 0, 0, 1)",onStart:()=>{},onEnd:({newIndex:e,oldIndex:a})=>{const l=t.list.splice(a-1,1)[0];t.list.splice(e-1,0,l)}})}(),function(){if(!t.interfaceId)return t.allOptions=[];R(t.interfaceId).then((e=>{const a=e.data;let l=a.fieldJson?JSON.parse(a.fieldJson):[];t.allOptions=l.map((e=>({...e,value:e.defaultValue})))}))}()}))})),p=z(d,300),c=k((()=>[{title:"拖动",dataIndex:"drag",key:"drag",align:"center",width:50},{title:"名称",dataIndex:"fullName",key:"fullName",width:160},"static"==t.dataType?{title:"数值",dataIndex:"num",key:"num",width:160}:{title:"字段",dataIndex:"field",key:"field",width:160},{title:"单位名称",dataIndex:"unit",key:"unit",width:80},{title:"图标",dataIndex:"icon",key:"icon",width:180},{title:"图标颜色",dataIndex:"iconColor",key:"iconColor",width:80},{title:"链接类型",dataIndex:"linkType",key:"linkType",width:360},{title:"操作",dataIndex:"action",key:"action",width:50,fixed:"right"}]));function u(){for(let e=0;e<t.list.length;e++){const a=t.list[e];if(!a.fullName)return o.warning("名称不能为空");if("dynamic"==t.dataType&&!a.field)return o.warning("字段不能为空");if("static"==t.dataType&&!a.num)return o.warning("数值不能为空");if(!a.icon)return o.warning("请选择图标");if(!a.iconColor)return o.warning("请选择图标颜色");if(1==a.linkType&&!a.urlAddress&&!a.moduleId)return o.warning("请选择菜单");if(2==a.linkType&&!a.urlAddress)return o.warning("链接地址不能为空");if(2==a.linkType&&!j(a.urlAddress))return o.warning("请输入正确的链接地址")}l("change",t.list),C((()=>n()))}function d(e){t.options=t.allOptions.filter((a=>-1!==a.value.toLowerCase().indexOf(e.toLowerCase())))}return(e,a)=>{const l=r("BasicHelp"),o=r("jnpf-i18n-input"),n=r("a-input"),s=r("a-auto-complete"),k=r("JnpfIconPicker"),w=r("jnpf-color-picker"),C=r("jnpf-select"),U=r("jnpf-tree-select"),S=r("a-button"),N=r("a-table");return v(),m(g(oe),x(e.$attrs,{width:"1000px",class:"jnpf-modal-portal",onRegister:g(i),title:"选项设置",onOk:u,destroyOnClose:""}),{default:h((()=>[f(N,{"data-source":t.list,columns:c.value,size:"small",pagination:!1,rowKey:"id",scroll:{x:1200,y:478},class:"carousel-table"},{headerCell:h((({column:e})=>["linkType"===e.key?(v(),y(b,{key:0},[a[1]||(a[1]=_(" 链接类型")),f(l,{text:"地址以http://或https://开头，例:https://xxx.com?xxx=${field}，参数可选"})],64)):D("",!0)])),bodyCell:h((({column:e,record:l,index:i})=>["drag"===e.key?(v(),y("i",Ua)):D("",!0),"fullName"===e.key?(v(),m(o,{key:1,value:l.fullName,"onUpdate:value":e=>l.fullName=e,i18n:l.fullNameI18nCode,"onUpdate:i18n":e=>l.fullNameI18nCode=e,placeholder:"请输入",allowClear:"",maxlength:50},null,8,["value","onUpdate:value","i18n","onUpdate:i18n"])):D("",!0),"num"===e.key?(v(),m(n,{key:2,value:l.num,"onUpdate:value":e=>l.num=e,placeholder:"请输入",maxlength:10,allowClear:""},null,8,["value","onUpdate:value"])):D("",!0),"field"===e.key?(v(),m(s,{key:3,value:l.field,"onUpdate:value":e=>l.field=e,placeholder:"请输入",options:t.options,allowClear:"",onFocus:e=>{d(l.field)},onSearch:e=>g(p)(l.field)},null,8,["value","onUpdate:value","options","onFocus","onSearch"])):D("",!0),"unit"===e.key?(v(),m(n,{key:4,value:l[e.key],"onUpdate:value":a=>l[e.key]=a,placeholder:"请输入",maxlength:5,allowClear:""},null,8,["value","onUpdate:value"])):D("",!0),"icon"===e.key?(v(),m(k,{key:5,value:l.icon,"onUpdate:value":e=>l.icon=e},null,8,["value","onUpdate:value"])):D("",!0),"iconColor"===e.key?(v(),m(w,{key:6,value:l.iconColor,"onUpdate:value":e=>l.iconColor=e,size:"small","color-format":"rgb"},null,8,["value","onUpdate:value"])):D("",!0),"linkType"===e.key?(v(),y("div",Sa,[f(C,{class:"!w-160px !mr-10px",value:l[e.key],"onUpdate:value":a=>l[e.key]=a,options:g(ve),placeholder:"请选择",showSearch:"",allowClear:""},null,8,["value","onUpdate:value","options"]),T("div",Na,[1==l.linkType?(v(),m(U,{key:0,value:l.moduleId,"onUpdate:value":e=>l.moduleId=e,placeholder:"请选择",lastLevel:"",allowClear:"",showSearch:"",options:"pc"==t.showType?t.menuList:t.appMenuList,onChange:(e,a)=>function(e,a,l){t.list[l].type=a.type,t.list[l].urlAddress=a.urlAddress,a.linkTarget&&(t.list[l].linkTarget=a.linkTarget),a.propertyJson&&(t.list[l].propertyJson=a.propertyJson)}(0,a,i)},null,8,["value","onUpdate:value","options","onChange"])):D("",!0),2==l.linkType?(v(),m(n,{key:1,value:l.urlAddress,"onUpdate:value":e=>l.urlAddress=e,placeholder:"请输入"},A({_:2},["pc"==t.showType?{name:"addonAfter",fn:h((()=>[f(C,{value:l.linkTarget,"onUpdate:value":e=>l.linkTarget=e,options:g(ye),placeholder:"请选择",class:"!w-90px"},null,8,["value","onUpdate:value","options"])])),key:"0"}:void 0]),1032,["value","onUpdate:value"])):D("",!0)])])):D("",!0),"action"===e.key?(v(),m(S,{key:8,class:"action-btn",type:"link",color:"error",onClick:e=>function(e){t.list.splice(e,1)}(i),size:"small"},{default:h((()=>a[2]||(a[2]=[_("删除")]))),_:2,__:[2]},1032,["onClick"])):D("",!0)])),_:1},8,["data-source","columns"]),T("div",{class:"table-add-action",onClick:a[0]||(a[0]=e=>function(){const e={fullName:"",moduleId:"",linkType:"",urlAddress:"",linkTarget:"_self",unit:"",num:"",field:"",icon:"icon-ym icon-ym-webDesign",iconColor:"rgb(74, 184, 255)",type:2,id:I()};t.list.push(e)}())},[f(S,{type:"link",preIcon:"icon-ym icon-ym-btn-add"},{default:h((()=>a[3]||(a[3]=[_("添加")]))),_:1,__:[3]})])])),_:1},16,["onRegister"])}}}),Aa=s({__name:"RCommon",props:["activeData","menuList","appMenuList","showType"],setup(a){const t=L({mapOptions:[],fileList:[]}),{mapOptions:l,fileList:o}=J(t),[i,{openModal:n}]=ie(),[p,{openModal:c}]=ie(),[u,{openModal:d}]=ie(),[s,{openModal:w}]=ie(),[T,{openModal:x}]=ie(),C=a,N=k((()=>{const e=C.activeData.jnpfKey;return"barChart"==e?JSON.parse(JSON.stringify(De)):"lineChart"==e?ke:"pieChart"==e?be:"radarChart"==e?ge:"rankList"==e?_e:"timeAxis"==e?we:"image"==e?me:"video"==e?Te:"mapChart"==e?xe:void 0})),A=[{fullName:"横向",id:"left"},{fullName:"纵向",id:"up"}];function I(){const e=C.activeData.jnpfKey;return"barChart"==e?"柱状图设置":"lineChart"==e?"折线图设置":"pieChart"==e?"饼图设置":"radarChart"==e?"雷达图设置":"rankList"==e?"排行榜设置":"timeAxis"==e?"时间轴设置":"text"==e?"文本设置":"image"==e?"图片设置":"carousel"==e?"轮播图设置":"video"==e?"视频设置":"iframe"==e?"Iframe设置":"mapChart"==e?"地图设置":"todo"==e?"待办设置":"commonFunc"==e?"常用功能设置":"dataBoard"==e?"数据面板设置":void 0}function j(){const e=C.activeData.jnpfKey;return"barChart"==e?"APP不支持背景类型，默认显示基础类型":"lineChart"==e?"APP不支持堆叠类型，默认显示基础类型":"mapChart"==e?"APP不支持柱形和柱形排名类型，默认显示散点类型":""}function F(e){const a=C.activeData.jnpfKey;"image"!=a&&"video"!=a||(C.activeData.propsApi="",C.activeData.propsName="",C.activeData.dataType="static",C.activeData.option.defaultValue="","3"==e&&(C.activeData.dataType="dynamic"))}function z(){C.activeData.renderKey=+new Date}function R(){C.activeData.option.defaultValue="","static"==C.activeData.dataType&&(C.activeData.option.defaultValue="JNPF快速开发平台")}function K(){C.activeData.option.defaultValue="",C.activeData.option.defaultValueI18nCode="","static"==C.activeData.dataType&&(C.activeData.option.defaultValue="JNPF快速开发平台"),C.activeData.propsApi="",C.activeData.propsName="",C.activeData.templateJson=[]}function W(){C.activeData.propsApi="",C.activeData.propsName="",C.activeData.templateJson=[],z()}function V(e,a){e?(C.activeData.propsApi=e,C.activeData.propsName=a.fullName,C.activeData.refresh.autoRefresh=!1,C.activeData.templateJson=a.parameterJson?JSON.parse(a.parameterJson).map((e=>({...e,relationField:"",sourceType:2}))):[]):(C.activeData.propsApi="",C.activeData.propsName="",C.activeData.templateJson=[]),z()}function P(e){const a="pc"==C.showType?"defaultValue":"appDefaultValue";C.activeData.option[a]=e,z()}function $(e){C.activeData.option.defaultValue=e,z()}function H(){c(!0,Y())}function E(){d(!0,Y(1))}function G(){w(!0,Y())}function q(){x(!0,Y())}function Y(e){return{menuList:C.menuList,appMenuList:C.appMenuList,showType:C.showType,data:"pc"==C.showType||e?C.activeData.option.defaultValue:C.activeData.option.appDefaultValue,dataType:C.activeData.dataType,interfaceId:C.activeData.propsApi}}function X(e){C.activeData.option.defaultValue=e.length?e[0]:""}return O((()=>{e().then((e=>{t.mapOptions=e.data})),t.fileList=[],"video"==C.activeData.jnpfKey&&C.activeData.option.defaultValue&&1==C.activeData.option.styleType&&(t.fileList=[C.activeData.option.defaultValue])})),(e,t)=>{const c=r("BasicHelp"),d=r("jnpf-select"),k=r("a-form-item"),w=r("a-switch"),x=r("a-slider"),L=r("a-input-number"),J=r("jnpf-color-picker"),O=r("jnpf-radio"),Y=r("jnpf-i18n-input"),Z=r("a-button"),Q=r("JnpfUploadImgSingle"),ee=r("a-input"),ae=r("JnpfUploadFile"),te=r("a-divider"),le=r("a-collapse-panel");return v(),m(le,{key:"1"},{header:h((()=>[_(M(I()),1)])),default:h((()=>[g(Ce).includes(a.activeData.jnpfKey)?D("",!0):(v(),m(k,{key:0},{label:h((()=>[t[86]||(t[86]=_("风格类型")),j()?(v(),m(c,{key:0,text:j()},null,8,["text"])):D("",!0)])),default:h((()=>[f(d,{value:a.activeData.option.styleType,"onUpdate:value":t[0]||(t[0]=e=>a.activeData.option.styleType=e),options:N.value,placeholder:"请选择",showSearch:"",onChange:F},null,8,["value","options"])])),_:1})),"lineChart"==a.activeData.jnpfKey?(v(),y(b,{key:1},[f(k,{label:"面积堆积"},{default:h((()=>[f(w,{checked:a.activeData.option.areaStyle,"onUpdate:checked":t[1]||(t[1]=e=>a.activeData.option.areaStyle=e)},null,8,["checked"])])),_:1}),f(k,{label:"线条宽度"},{default:h((()=>[f(x,{value:a.activeData.option.seriesLineStyleWidth,"onUpdate:value":t[2]||(t[2]=e=>a.activeData.option.seriesLineStyleWidth=e),min:1,max:20},null,8,["value"])])),_:1}),U(f(k,{label:"点的大小"},{default:h((()=>[f(x,{value:a.activeData.option.seriesSymbolRotate,"onUpdate:value":t[3]||(t[3]=e=>a.activeData.option.seriesSymbolRotate=e),max:20},null,8,["value"])])),_:1},512),[[S,"pc"==a.showType]])],64)):D("",!0),"pieChart"==a.activeData.jnpfKey?(v(),y(b,{key:2},[U(f(k,{label:"南丁格尔图"},{default:h((()=>[f(w,{checked:a.activeData.option.roseType,"onUpdate:checked":t[4]||(t[4]=e=>a.activeData.option.roseType=e)},null,8,["checked"])])),_:1},512),[[S,"pc"==a.showType||1==a.activeData.option.styleType]]),U(f(k,{label:"自动排序"},{default:h((()=>[f(w,{checked:a.activeData.option.sortable,"onUpdate:checked":t[5]||(t[5]=e=>a.activeData.option.sortable=e)},null,8,["checked"])])),_:1},512),[[S,"pc"==a.showType]]),f(k,{label:"不展示零"},{default:h((()=>[f(w,{checked:a.activeData.option.showZero,"onUpdate:checked":t[6]||(t[6]=e=>a.activeData.option.showZero=e)},null,8,["checked"])])),_:1})],64)):D("",!0),"radarChart"==a.activeData.jnpfKey?(v(),y(b,{key:3},[U(f(k,{label:"指示器大小"},{default:h((()=>[f(L,{value:a.activeData.option.radarAxisNameFontSize,"onUpdate:value":t[7]||(t[7]=e=>a.activeData.option.radarAxisNameFontSize=e),min:12,max:25},null,8,["value"])])),_:1},512),[[S,"pc"==a.showType]]),U(f(k,{label:"指示器加粗"},{default:h((()=>[f(w,{checked:a.activeData.option.radarAxisNameFontWeight,"onUpdate:checked":t[8]||(t[8]=e=>a.activeData.option.radarAxisNameFontWeight=e)},null,8,["checked"])])),_:1},512),[[S,"pc"==a.showType]]),f(k,{label:"指示器颜色"},{default:h((()=>[f(J,{value:a.activeData.option.radarAxisNameColor,"onUpdate:value":t[9]||(t[9]=e=>a.activeData.option.radarAxisNameColor=e),size:"small"},null,8,["value"])])),_:1}),U(f(k,{label:"区域透明度"},{default:h((()=>[f(x,{value:a.activeData.option.seriesAreaStyleOpacity,"onUpdate:value":t[10]||(t[10]=e=>a.activeData.option.seriesAreaStyleOpacity=e),max:1,step:.1},null,8,["value"])])),_:1},512),[[S,"pc"==a.showType]])],64)):D("",!0),"mapChart"==a.activeData.jnpfKey?(v(),m(va,{key:4,activeData:a.activeData,mapOptions:g(l),showType:a.showType},null,8,["activeData","mapOptions","showType"])):D("",!0),"timeAxis"==a.activeData.jnpfKey?(v(),y(b,{key:5},[f(k,null,{label:h((()=>[t[87]||(t[87]=_("标签布局")),f(c,{text:"APP不支持所有交错类型，默认显示轴右侧"})])),default:h((()=>[f(d,{value:a.activeData.option.layout,"onUpdate:value":t[11]||(t[11]=e=>a.activeData.option.layout=e),options:g(Ue),placeholder:"请选择",showSearch:""},null,8,["value","options"])])),_:1}),f(k,{label:"排序"},{default:h((()=>[f(O,{value:a.activeData.option.sortable,"onUpdate:value":t[12]||(t[12]=e=>a.activeData.option.sortable=e),options:g(Se),optionType:"button",buttonStyle:"solid"},null,8,["value","options"])])),_:1}),f(k,{label:"显示条数"},{default:h((()=>["pc"==a.showType?(v(),m(L,{key:0,value:a.activeData.option.showNumber,"onUpdate:value":t[13]||(t[13]=e=>a.activeData.option.showNumber=e),placeholder:"请输入",min:"0",max:50},null,8,["value"])):(v(),m(L,{key:1,value:a.activeData.option.appShowNumber,"onUpdate:value":t[14]||(t[14]=e=>a.activeData.option.appShowNumber=e),placeholder:"请输入",min:"0",max:50},null,8,["value"]))])),_:1})],64)):D("",!0),"text"==a.activeData.jnpfKey?(v(),y(b,{key:6},[f(k,{label:"文本类型"},{default:h((()=>[f(O,{value:a.activeData.option.styleType,"onUpdate:value":t[15]||(t[15]=e=>a.activeData.option.styleType=e),options:g(Ne),optionType:"button",buttonStyle:"solid",onChange:R},null,8,["value","options"])])),_:1}),f(k,{label:"数据类型"},{default:h((()=>[f(O,{value:a.activeData.dataType,"onUpdate:value":t[16]||(t[16]=e=>a.activeData.dataType=e),options:g(Le),optionType:"button",buttonStyle:"solid",onChange:K},null,8,["value","options"])])),_:1}),"static"==a.activeData.dataType?(v(),m(k,{key:0,label:"文本内容"},{default:h((()=>[1==a.activeData.option.styleType?(v(),m(Y,{key:0,value:a.activeData.option.defaultValue,"onUpdate:value":t[17]||(t[17]=e=>a.activeData.option.defaultValue=e),i18n:a.activeData.option.defaultValueI18nCode,"onUpdate:i18n":t[18]||(t[18]=e=>a.activeData.option.defaultValueI18nCode=e),placeholder:"请输入"},null,8,["value","i18n"])):D("",!0),2==a.activeData.option.styleType?(v(),m(Z,{key:1,onClick:t[19]||(t[19]=e=>{n(!0,{value:C.activeData.option.defaultValue})})},{default:h((()=>t[88]||(t[88]=[_("设置")]))),_:1,__:[88]})):D("",!0)])),_:1})):(v(),y(b,{key:1},[f(k,{label:"数据接口"},{default:h((()=>[f(g(Xe),{value:a.activeData.propsApi,title:a.activeData.propsName,popupTitle:"数据接口",onChange:V},null,8,["value","title"])])),_:1}),a.activeData.templateJson?.length?(v(),m(k,{key:0,label:"参数设置"},{default:h((()=>[f(g(ea),{templateJson:a.activeData.templateJson,showSystemFormId:!1,type:2},null,8,["templateJson"])])),_:1})):D("",!0),a.activeData.propsApi?(v(),m(ca,{key:1,refresh:a.activeData.refresh},null,8,["refresh"])):D("",!0)],64)),2!=a.activeData.option.styleType?(v(),y(b,{key:2},[f(k,{label:"文本大小"},{default:h((()=>[f(L,{value:a.activeData.option.textFontSize,"onUpdate:value":t[20]||(t[20]=e=>a.activeData.option.textFontSize=e),min:12,max:25,placeholder:"请输入"},null,8,["value"])])),_:1}),f(k,{label:"文本加粗"},{default:h((()=>[f(w,{checked:a.activeData.option.textFontWeight,"onUpdate:checked":t[21]||(t[21]=e=>a.activeData.option.textFontWeight=e)},null,8,["checked"])])),_:1}),f(k,{label:"文本斜体"},{default:h((()=>[f(w,{checked:a.activeData.option.textFontStyle,"onUpdate:checked":t[22]||(t[22]=e=>a.activeData.option.textFontStyle=e)},null,8,["checked"])])),_:1}),f(k,{label:"文本颜色"},{default:h((()=>[f(J,{value:a.activeData.option.textFontColor,"onUpdate:value":t[23]||(t[23]=e=>a.activeData.option.textFontColor=e),size:"small"},null,8,["value"])])),_:1}),f(k,{label:"文本位置"},{default:h((()=>[f(O,{value:a.activeData.option.textLeft,"onUpdate:value":t[24]||(t[24]=e=>a.activeData.option.textLeft=e),options:g(fe),optionType:"button",buttonStyle:"solid",class:"right-radio"},null,8,["value","options"])])),_:1}),f(k,{label:"文本下划线"},{default:h((()=>[f(O,{value:a.activeData.option.textUnderLine,"onUpdate:value":t[25]||(t[25]=e=>a.activeData.option.textUnderLine=e),options:g(he),optionType:"button",buttonStyle:"solid"},null,8,["value","options"])])),_:1})],64)):D("",!0),"2"!=a.activeData.option.styleType?(v(),m(k,{key:3,label:"文本滚动"},{default:h((()=>[f(w,{checked:a.activeData.option.textAutoplay,"onUpdate:checked":t[26]||(t[26]=e=>a.activeData.option.textAutoplay=e)},null,8,["checked"])])),_:1})):D("",!0),a.activeData.option.textAutoplay&&"2"!=a.activeData.option.styleType?(v(),y(b,{key:4},["pc"==a.showType?(v(),m(k,{key:0,label:"滚动方向"},{default:h((()=>[f(O,{value:a.activeData.option.textAutoplayMode,"onUpdate:value":t[27]||(t[27]=e=>a.activeData.option.textAutoplayMode=e),options:A,optionType:"button",buttonStyle:"solid",onChange:z},null,8,["value"])])),_:1})):D("",!0),f(k,{label:"滚动速度"},{default:h((()=>[f(L,{value:a.activeData.option.textAutoplaySpeed,"onUpdate:value":t[28]||(t[28]=e=>a.activeData.option.textAutoplaySpeed=e),min:10,max:100,onChange:z},null,8,["value"])])),_:1})],64)):D("",!0),f(k,{label:"背景色"},{default:h((()=>[f(J,{value:a.activeData.option.textBgColor,"onUpdate:value":t[29]||(t[29]=e=>a.activeData.option.textBgColor=e),size:"small"},null,8,["value"])])),_:1}),f(ua,{activeData:a.activeData,menuList:a.menuList,appMenuList:a.appMenuList,showType:a.showType},null,8,["activeData","menuList","appMenuList","showType"])],64)):D("",!0),"image"==a.activeData.jnpfKey?(v(),y(b,{key:7},[f(k,{label:"图片来源"},{default:h((()=>[f(O,{value:a.activeData.option.styleType,"onUpdate:value":t[30]||(t[30]=e=>a.activeData.option.styleType=e),options:g(me),optionType:"button",buttonStyle:"solid",onChange:F,class:"right-radio-more"},null,8,["value","options"])])),_:1}),1==a.activeData.option.styleType?(v(),m(k,{key:0,label:"上传图片"},{default:h((()=>[f(Q,{value:a.activeData.option.defaultValue,"onUpdate:value":t[31]||(t[31]=e=>a.activeData.option.defaultValue=e)},null,8,["value"])])),_:1})):2==a.activeData.option.styleType?(v(),m(k,{key:1},{label:h((()=>[t[89]||(t[89]=_("图片地址")),f(c,{text:"地址以http://或https://为开头"})])),default:h((()=>[f(ee,{value:a.activeData.option.defaultValue,"onUpdate:value":t[32]||(t[32]=e=>a.activeData.option.defaultValue=e),placeholder:"请输入"},null,8,["value"])])),_:1})):(v(),y(b,{key:2},[f(k,{label:"数据接口"},{default:h((()=>[f(g(Xe),{value:a.activeData.propsApi,title:a.activeData.propsName,popupTitle:"数据接口",onChange:V},null,8,["value","title"])])),_:1}),a.activeData.templateJson?.length?(v(),m(k,{key:0,label:"参数设置"},{default:h((()=>[f(g(ea),{templateJson:a.activeData.templateJson,showSystemFormId:!1,type:2},null,8,["templateJson"])])),_:1})):D("",!0),a.activeData.propsApi?(v(),m(ca,{key:1,refresh:a.activeData.refresh},null,8,["refresh"])):D("",!0)],64)),f(k,{label:"填充方式"},{default:h((()=>[f(d,{value:a.activeData.option.imageFillStyle,"onUpdate:value":t[33]||(t[33]=e=>a.activeData.option.imageFillStyle=e),options:g(Ae),placeholder:"请选择",showSearch:""},null,8,["value","options"])])),_:1}),f(k,{label:"文本内容"},{default:h((()=>[f(Y,{value:a.activeData.option.textDefaultValue,"onUpdate:value":t[34]||(t[34]=e=>a.activeData.option.textDefaultValue=e),i18n:a.activeData.option.textDefaultValueI18nCode,"onUpdate:i18n":t[35]||(t[35]=e=>a.activeData.option.textDefaultValueI18nCode=e),placeholder:"请输入"},null,8,["value","i18n"])])),_:1}),f(ya,{activeData:a.activeData},null,8,["activeData"]),f(ua,{activeData:a.activeData,menuList:a.menuList,appMenuList:a.appMenuList,showType:a.showType},null,8,["activeData","menuList","appMenuList","showType"])],64)):D("",!0),"carousel"==a.activeData.jnpfKey?(v(),y(b,{key:8},[U(f(k,{label:"轮播图方向"},{default:h((()=>[f(O,{value:a.activeData.option.carouselDirection,"onUpdate:value":t[36]||(t[36]=e=>a.activeData.option.carouselDirection=e),options:g(Ie),optionType:"button",buttonStyle:"solid",onChange:z},null,8,["value","options"])])),_:1},512),[[S,"pc"==a.showType]]),f(k,{label:"自动轮播"},{default:h((()=>[f(w,{checked:a.activeData.option.carouselAutoplay,"onUpdate:checked":t[37]||(t[37]=e=>a.activeData.option.carouselAutoplay=e)},null,8,["checked"])])),_:1}),f(k,{label:"轮播间隔"},{default:h((()=>[f(L,{value:a.activeData.option.carouselInterval,"onUpdate:value":t[38]||(t[38]=e=>a.activeData.option.carouselInterval=e),placeholder:"请输入",min:500,max:5e5,"addon-after":"ms"},null,8,["value"])])),_:1}),f(k,{label:"指示点显示"},{default:h((()=>[f(O,{value:a.activeData.option.carouselIndicatorPosition,"onUpdate:value":t[39]||(t[39]=e=>a.activeData.option.carouselIndicatorPosition=e),options:g(je),optionType:"button",buttonStyle:"solid",fieldNames:{label:"horizontal"==a.activeData.option.carouselDirection?"label":"title"}},null,8,["value","options","fieldNames"])])),_:1}),"pc"==a.showType?(v(),y(b,{key:0},["horizontal"==a.activeData.option.carouselDirection?(v(),m(k,{key:0,label:"箭头显示"},{default:h((()=>[f(O,{value:a.activeData.option.carouselArrow,"onUpdate:value":t[40]||(t[40]=e=>a.activeData.option.carouselArrow=e),options:g(Fe),optionType:"button",buttonStyle:"solid"},null,8,["value","options"])])),_:1})):D("",!0)],64)):D("",!0),"app"==a.showType?(v(),m(k,{key:1,label:"3D效果"},{default:h((()=>[f(w,{checked:a.activeData.option.carouselType,"onUpdate:checked":t[41]||(t[41]=e=>a.activeData.option.carouselType=e)},null,8,["checked"])])),_:1})):D("",!0),f(k,{label:"选项"},{default:h((()=>[f(Z,{onClick:H},{default:h((()=>t[90]||(t[90]=[_("设置")]))),_:1,__:[90]})])),_:1}),U(f(ca,{refresh:a.activeData.refresh},null,8,["refresh"]),[[S,a.activeData.option["pc"==a.showType?"defaultValue":"appDefaultValue"].find((e=>3===e.dataType))]]),f(k,{label:"填充方式"},{default:h((()=>[f(d,{value:a.activeData.option.imageFillStyle,"onUpdate:value":t[42]||(t[42]=e=>a.activeData.option.imageFillStyle=e),options:g(Ae),placeholder:"请选择",showSearch:""},null,8,["value","options"])])),_:1}),f(ba,{onRegister:g(p),onChange:P},null,8,["onRegister"]),f(ya,{activeData:a.activeData},null,8,["activeData"])],64)):D("",!0),"video"==a.activeData.jnpfKey?(v(),y(b,{key:9},[f(k,{label:"视频来源"},{default:h((()=>[f(O,{value:a.activeData.option.styleType,"onUpdate:value":t[43]||(t[43]=e=>a.activeData.option.styleType=e),options:g(Te),optionType:"button",buttonStyle:"solid",onChange:F,class:"right-radio-more"},null,8,["value","options"])])),_:1}),"1"==a.activeData.option.styleType?(v(),m(k,{key:0,label:"上传视频"},{default:h((()=>[f(ae,{value:g(o),"onUpdate:value":t[44]||(t[44]=e=>B(o)?o.value=e:null),limit:1,buttonText:"上传视频",accept:"video/*",fileSize:"100",onChange:X},null,8,["value"])])),_:1})):2==a.activeData.option.styleType?(v(),m(k,{key:1},{label:h((()=>[t[91]||(t[91]=_("视频地址")),f(c,{text:"地址以http://或https://开头"})])),default:h((()=>[f(ee,{value:a.activeData.option.defaultValue,"onUpdate:value":t[45]||(t[45]=e=>a.activeData.option.defaultValue=e),placeholder:"请输入"},null,8,["value"])])),_:1})):(v(),y(b,{key:2},[f(k,{label:"数据接口"},{default:h((()=>[f(g(Xe),{value:a.activeData.propsApi,title:a.activeData.propsName,popupTitle:"数据接口",onChange:V},null,8,["value","title"])])),_:1}),a.activeData.templateJson?.length?(v(),m(k,{key:0,label:"参数设置"},{default:h((()=>[f(g(ea),{templateJson:a.activeData.templateJson,showSystemFormId:!1,type:2},null,8,["templateJson"])])),_:1})):D("",!0),"dynamic"===a.activeData.dataType&&a.activeData.propsApi?(v(),m(ca,{key:1,refresh:a.activeData.refresh},null,8,["refresh"])):D("",!0)],64)),f(k,{label:"自动播放"},{default:h((()=>[f(w,{checked:a.activeData.option.videoAutoplay,"onUpdate:checked":t[46]||(t[46]=e=>a.activeData.option.videoAutoplay=e)},null,8,["checked"])])),_:1}),f(k,{label:"播放频率"},{default:h((()=>[f(O,{value:a.activeData.option.playNumber,"onUpdate:value":t[47]||(t[47]=e=>a.activeData.option.playNumber=e),options:g(ze),optionType:"button",buttonStyle:"solid",class:"right-radio-more"},null,8,["value","options"])])),_:1}),f(k,{label:"静音播放"},{default:h((()=>[f(w,{checked:a.activeData.option.mutePlay,"onUpdate:checked":t[48]||(t[48]=e=>a.activeData.option.mutePlay=e)},null,8,["checked"])])),_:1})],64)):D("",!0),"iframe"==a.activeData.jnpfKey?(v(),m(k,{key:10},{label:h((()=>[t[92]||(t[92]=_("链接地址")),f(c,{text:"地址以http://或https://为开头"})])),default:h((()=>[f(ee,{value:a.activeData.option.defaultValue,"onUpdate:value":t[49]||(t[49]=e=>a.activeData.option.defaultValue=e),placeholder:"请输入"},null,8,["value"])])),_:1})):D("",!0),"todo"==a.activeData.jnpfKey?(v(),y(b,{key:11},["app"==a.showType?(v(),y(b,{key:0},[f(k,{label:"风格类型"},{default:h((()=>[f(d,{value:a.activeData.option.styleType,"onUpdate:value":t[50]||(t[50]=e=>a.activeData.option.styleType=e),options:g(Re),placeholder:"请选择",showSearch:""},null,8,["value","options"])])),_:1}),2==a.activeData.option.styleType?(v(),y(b,{key:0},[f(k,{label:"每行选项数"},{default:h((()=>[f(L,{value:a.activeData.option.appRowNumber,"onUpdate:value":t[51]||(t[51]=e=>a.activeData.option.appRowNumber=e),placeholder:"请输入",min:1,max:10},null,8,["value"])])),_:1}),f(k,{label:"显示边框"},{default:h((()=>[f(w,{checked:a.activeData.option.appShowBorder,"onUpdate:checked":t[52]||(t[52]=e=>a.activeData.option.appShowBorder=e)},null,8,["checked"])])),_:1})],64)):D("",!0)],64)):(v(),y(b,{key:1},[f(k,{label:"每行选项数"},{default:h((()=>[f(L,{value:a.activeData.option.rowNumber,"onUpdate:value":t[53]||(t[53]=e=>a.activeData.option.rowNumber=e),placeholder:"请输入",min:1,max:10},null,8,["value"])])),_:1}),f(k,{label:"显示边框"},{default:h((()=>[f(w,{checked:a.activeData.option.showBorder,"onUpdate:checked":t[54]||(t[54]=e=>a.activeData.option.showBorder=e)},null,8,["checked"])])),_:1})],64)),f(k,{label:"选项"},{default:h((()=>[f(Z,{onClick:E},{default:h((()=>t[93]||(t[93]=[_("设置")]))),_:1,__:[93]})])),_:1}),f(ca,{refresh:a.activeData.refresh},null,8,["refresh"]),f(_a,{onRegister:g(u),onChange:$},null,8,["onRegister"]),f(k,{label:"名称大小"},{default:h((()=>[f(L,{value:a.activeData.option.labelFontSize,"onUpdate:value":t[55]||(t[55]=e=>a.activeData.option.labelFontSize=e),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(k,{label:"名称加粗"},{default:h((()=>[f(w,{checked:a.activeData.option.labelFontWeight,"onUpdate:checked":t[56]||(t[56]=e=>a.activeData.option.labelFontWeight=e)},null,8,["checked"])])),_:1}),f(k,{label:"名称颜色"},{default:h((()=>[f(J,{value:a.activeData.option.labelFontColor,"onUpdate:value":t[57]||(t[57]=e=>a.activeData.option.labelFontColor=e),size:"small"},null,8,["value"])])),_:1}),f(k,{label:"数值大小"},{default:h((()=>[f(L,{value:a.activeData.option.valueFontSize,"onUpdate:value":t[58]||(t[58]=e=>a.activeData.option.valueFontSize=e),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(k,{label:"数值加粗"},{default:h((()=>[f(w,{checked:a.activeData.option.valueFontWeight,"onUpdate:checked":t[59]||(t[59]=e=>a.activeData.option.valueFontWeight=e)},null,8,["checked"])])),_:1}),f(k,{label:"数值颜色"},{default:h((()=>[f(J,{value:a.activeData.option.valueFontColor,"onUpdate:value":t[60]||(t[60]=e=>a.activeData.option.valueFontColor=e),size:"small"},null,8,["value"])])),_:1}),"app"==a.showType?(v(),m(k,{key:2,label:"数值背景色"},{default:h((()=>[f(J,{value:a.activeData.option.valueFontBgColor,"onUpdate:value":t[61]||(t[61]=e=>a.activeData.option.valueFontBgColor=e),size:"small"},null,8,["value"])])),_:1})):D("",!0)],64)):D("",!0),"commonFunc"==a.activeData.jnpfKey?(v(),y(b,{key:12},["app"==a.showType?(v(),y(b,{key:0},[f(k,{label:"风格类型"},{default:h((()=>[f(d,{value:a.activeData.option.appStyleType,"onUpdate:value":t[62]||(t[62]=e=>a.activeData.option.appStyleType=e),options:g(Re),placeholder:"请选择",showSearch:""},null,8,["value","options"])])),_:1}),2==a.activeData.option.appStyleType?(v(),y(b,{key:0},[f(k,{label:"每行选项数"},{default:h((()=>[f(L,{value:a.activeData.option.appRowNumber,"onUpdate:value":t[63]||(t[63]=e=>a.activeData.option.appRowNumber=e),placeholder:"请输入",min:1,max:10},null,8,["value"])])),_:1}),f(k,{label:"显示边框"},{default:h((()=>[f(w,{checked:a.activeData.option.appShowBorder,"onUpdate:checked":t[64]||(t[64]=e=>a.activeData.option.appShowBorder=e)},null,8,["checked"])])),_:1})],64)):D("",!0)],64)):(v(),y(b,{key:1},[f(k,{label:"每行选项数"},{default:h((()=>[f(L,{value:a.activeData.option.rowNumber,"onUpdate:value":t[65]||(t[65]=e=>a.activeData.option.rowNumber=e),placeholder:"请输入",min:1,max:10},null,8,["value"])])),_:1}),f(k,{label:"显示边框"},{default:h((()=>[f(w,{checked:a.activeData.option.showBorder,"onUpdate:checked":t[66]||(t[66]=e=>a.activeData.option.showBorder=e)},null,8,["checked"])])),_:1})],64)),f(k,{label:"选项"},{default:h((()=>[f(Z,{onClick:G},{default:h((()=>t[94]||(t[94]=[_("设置")]))),_:1,__:[94]})])),_:1}),f(Ca,{onRegister:g(s),onChange:P},null,8,["onRegister"]),"pc"==a.showType?(v(),m(k,{key:2,label:"图标位置"},{default:h((()=>[f(O,{value:a.activeData.option.styleType,"onUpdate:value":t[67]||(t[67]=e=>a.activeData.option.styleType=e),options:g(Je),optionType:"button",buttonStyle:"solid"},null,8,["value","options"])])),_:1})):D("",!0),f(k,{label:"名称大小"},{default:h((()=>[f(L,{value:a.activeData.option.labelFontSize,"onUpdate:value":t[68]||(t[68]=e=>a.activeData.option.labelFontSize=e),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(k,{label:"名称加粗"},{default:h((()=>[f(w,{checked:a.activeData.option.labelFontWeight,"onUpdate:checked":t[69]||(t[69]=e=>a.activeData.option.labelFontWeight=e)},null,8,["checked"])])),_:1}),f(k,{label:"名称颜色"},{default:h((()=>[f(J,{value:a.activeData.option.labelFontColor,"onUpdate:value":t[70]||(t[70]=e=>a.activeData.option.labelFontColor=e),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),"dataBoard"==a.activeData.jnpfKey?(v(),y(b,{key:13},["app"==a.showType?(v(),y(b,{key:0},[f(k,{label:"风格类型"},{default:h((()=>[f(d,{value:a.activeData.option.appStyleType,"onUpdate:value":t[71]||(t[71]=e=>a.activeData.option.appStyleType=e),options:g(Re),placeholder:"请选择",showSearch:""},null,8,["value","options"])])),_:1}),2==a.activeData.option.appStyleType?(v(),y(b,{key:0},[f(k,{label:"每行选项数"},{default:h((()=>[f(L,{value:a.activeData.option.appRowNumber,"onUpdate:value":t[72]||(t[72]=e=>a.activeData.option.appRowNumber=e),placeholder:"请输入",min:1,max:10},null,8,["value"])])),_:1}),f(k,{label:"显示边框"},{default:h((()=>[f(w,{checked:a.activeData.option.appShowBorder,"onUpdate:checked":t[73]||(t[73]=e=>a.activeData.option.appShowBorder=e)},null,8,["checked"])])),_:1})],64)):D("",!0)],64)):(v(),y(b,{key:1},[f(k,{label:"每行选项数"},{default:h((()=>[f(L,{value:a.activeData.option.rowNumber,"onUpdate:value":t[74]||(t[74]=e=>a.activeData.option.rowNumber=e),placeholder:"请输入",min:1,max:10},null,8,["value"])])),_:1}),f(k,{label:"显示边框"},{default:h((()=>[f(w,{checked:a.activeData.option.showBorder,"onUpdate:checked":t[75]||(t[75]=e=>a.activeData.option.showBorder=e)},null,8,["checked"])])),_:1})],64)),f(te,null,{default:h((()=>t[95]||(t[95]=[_("选项设置")]))),_:1,__:[95]}),f(k,{label:"数据类型"},{default:h((()=>[f(O,{value:a.activeData.dataType,"onUpdate:value":t[76]||(t[76]=e=>a.activeData.dataType=e),options:g(Le),optionType:"button","button-style":"solid",onChange:W},null,8,["value","options"])])),_:1}),"dynamic"===a.activeData.dataType?(v(),y(b,{key:2},[f(k,{label:"数据接口"},{default:h((()=>[f(g(Xe),{value:a.activeData.propsApi,title:a.activeData.propsName,popupTitle:"数据接口",onChange:V},null,8,["value","title"])])),_:1}),a.activeData.templateJson?.length?(v(),m(k,{key:0,label:"参数设置"},{default:h((()=>[f(g(ea),{templateJson:a.activeData.templateJson,showSystemFormId:!1,type:2},null,8,["templateJson"])])),_:1})):D("",!0),a.activeData.propsApi?(v(),m(ca,{key:1,refresh:a.activeData.refresh},null,8,["refresh"])):D("",!0)],64)):D("",!0),f(k,{label:"选项"},{default:h((()=>[f(Z,{onClick:q},{default:h((()=>t[96]||(t[96]=[_("设置")]))),_:1,__:[96]})])),_:1}),f(La,{onRegister:g(T),onChange:P},null,8,["onRegister"]),f(te,null,{default:h((()=>t[97]||(t[97]=[_("选项样式")]))),_:1,__:[97]}),f(k,{label:"名称大小"},{default:h((()=>[f(L,{value:a.activeData.option.labelFontSize,"onUpdate:value":t[77]||(t[77]=e=>a.activeData.option.labelFontSize=e),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(k,{label:"名称加粗"},{default:h((()=>[f(w,{checked:a.activeData.option.labelFontWeight,"onUpdate:checked":t[78]||(t[78]=e=>a.activeData.option.labelFontWeight=e)},null,8,["checked"])])),_:1}),f(k,{label:"名称颜色"},{default:h((()=>[f(J,{value:a.activeData.option.labelFontColor,"onUpdate:value":t[79]||(t[79]=e=>a.activeData.option.labelFontColor=e),size:"small"},null,8,["value"])])),_:1}),f(k,{label:"数值大小"},{default:h((()=>[f(L,{value:a.activeData.option.valueFontSize,"onUpdate:value":t[80]||(t[80]=e=>a.activeData.option.valueFontSize=e),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(k,{label:"数值加粗"},{default:h((()=>[f(w,{checked:a.activeData.option.valueFontWeight,"onUpdate:checked":t[81]||(t[81]=e=>a.activeData.option.valueFontWeight=e)},null,8,["checked"])])),_:1}),f(k,{label:"数值颜色"},{default:h((()=>[f(J,{value:a.activeData.option.valueFontColor,"onUpdate:value":t[82]||(t[82]=e=>a.activeData.option.valueFontColor=e),size:"small"},null,8,["value"])])),_:1}),f(k,{label:"单位大小"},{default:h((()=>[f(L,{value:a.activeData.option.unitFontSize,"onUpdate:value":t[83]||(t[83]=e=>a.activeData.option.unitFontSize=e),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(k,{label:"单位加粗"},{default:h((()=>[f(w,{checked:a.activeData.option.unitFontWeight,"onUpdate:checked":t[84]||(t[84]=e=>a.activeData.option.unitFontWeight=e)},null,8,["checked"])])),_:1}),f(k,{label:"单位颜色"},{default:h((()=>[f(J,{value:a.activeData.option.unitFontColor,"onUpdate:value":t[85]||(t[85]=e=>a.activeData.option.unitFontColor=e),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),f(ra,{onRegister:g(i),onChange:$},null,8,["onRegister"])])),_:1})}}}),Ia=s({__name:"RJsonModal",emits:["register","change"],setup(e,{emit:a}){const t=a,[l,{closeModal:o}]=le((function(e){n.value=e.value})),i=w(null),n=w(),p=w(ta.JSON);function c(){t("change",n.value),setTimeout((()=>{o()}),200)}return(e,a)=>(v(),m(g(oe),x(e.$attrs,{onRegister:g(l),title:"数据设置",onOk:c,destroyOnClose:"",class:"json-modal"}),{default:h((()=>[f(g(la),{ref_key:"editorRef",ref:i,value:n.value,"onUpdate:value":a[0]||(a[0]=e=>n.value=e),mode:p.value,class:"json-editor"},null,8,["value","mode"])])),_:1},16,["onRegister"]))}}),ja={class:"options-list"},Fa={class:"select-item"},za=["onClick"],Ra={class:"add-btn"},Ja={key:5,class:"my-20px"},Oa=s({__name:"RData",props:["activeData","showType"],setup(e){const a=L({allOptions:[],options:[]});J(a);const t=e,[l,{openModal:o}]=ie(),i=z(C,300),n=[{fullName:"柱体",id:"bar"},{fullName:"折线",id:"line"}],p=[{id:"static",fullName:"静态数据"},{id:"dynamic",fullName:"数据接口"}],c=[{title:"系列",key:"title",ellipsis:!0},{title:"类型",key:"type"}],u=[{title:"字段",dataIndex:"field",key:"field",width:50},{title:"映射",dataIndex:"value",key:"value",width:120,align:"center"}],d=[{id:1,field:"系列",value:""},{id:2,field:"维度",value:""},{id:3,field:"数值",value:""},{id:4,field:"最大值",value:""},{id:5,field:"时间戳",value:""},{id:6,field:"经度",value:""},{id:7,field:"纬度",value:""}];function s(){t.activeData.propsApi="",t.activeData.propsName="",t.activeData.templateJson=[]}function k(e,l){e?(t.activeData.propsApi=e,t.activeData.propsName=l.fullName,t.activeData.refresh.autoRefresh=!1,t.activeData.templateJson=l.parameterJson?JSON.parse(l.parameterJson).map((e=>({...e,relationField:"",sourceType:2}))):[],a.allOptions=l.fieldJson?JSON.parse(l.fieldJson).map((e=>({...e,value:e.defaultValue}))):[]):(t.activeData.propsApi="",t.activeData.propsName="",t.activeData.templateJson=[],a.allOptions=[])}function w(){t.activeData.option.columnOptions.push({value:"",label:""})}function x(e){t.activeData.option.defaultValue=e?JSON.parse(e):[]}function C(e){a.options=a.allOptions.filter((a=>-1!==a.value.toLowerCase().indexOf(e.toLowerCase())))}function U(e){C(e)}return O((()=>{t.activeData.mappingConfig=t.activeData?.mappingConfig&&t.activeData?.mappingConfig?.length?t.activeData.mappingConfig:["barChart","pieChart","lineChart"].includes(t.activeData.jnpfKey)?d.filter((e=>[1,2,3].includes(e.id))):["radarChart"].includes(t.activeData.jnpfKey)?d.filter((e=>[1,2,3,4].includes(e.id))):["timeAxis"].includes(t.activeData.jnpfKey)?d.filter((e=>[2,5].includes(e.id))):["mapChart"].includes(t.activeData.jnpfKey)?d.filter((e=>[2,3,6,7].includes(e.id))):void 0,function(){if(!t.activeData.propsApi||"static"===t.activeData.dataType)return a.allOptions=[];R(t.activeData.propsApi).then((e=>{const t=e.data;let l=t.fieldJson?JSON.parse(t.fieldJson):[];a.allOptions=l.map((e=>({...e,value:e.defaultValue})))}))}()})),(d,C)=>{const S=r("jnpf-radio"),N=r("a-form-item"),L=r("a-button"),A=r("a-auto-complete"),I=r("a-table"),j=r("a-divider"),F=r("jnpf-i18n-input"),z=r("jnpf-select"),R=r("a-collapse-panel");return v(),m(R,null,{header:h((()=>C[3]||(C[3]=[_("数据设置")]))),default:h((()=>[f(N,{label:"数据类型"},{default:h((()=>[f(S,{value:e.activeData.dataType,"onUpdate:value":C[0]||(C[0]=a=>e.activeData.dataType=a),options:p,optionType:"button",buttonStyle:"solid",onChange:s},null,8,["value"])])),_:1}),"static"===e.activeData.dataType?(v(),m(N,{key:0,label:"数据设置"},{default:h((()=>[f(L,{onClick:C[1]||(C[1]=a=>{return t=e.activeData.option.defaultValue,void o(!0,{value:JSON.stringify(t)});var t})},{default:h((()=>C[4]||(C[4]=[_("查看")]))),_:1,__:[4]})])),_:1})):D("",!0),"dynamic"===e.activeData.dataType?(v(),m(N,{key:1,label:"数据接口"},{default:h((()=>[f(g(Xe),{value:e.activeData.propsApi,title:e.activeData.propsName,popupTitle:"数据接口",onChange:k},null,8,["value","title"])])),_:1})):D("",!0),"dynamic"===e.activeData.dataType&&e.activeData.templateJson?.length?(v(),m(N,{key:2,label:"参数设置"},{default:h((()=>[f(g(ea),{templateJson:e.activeData.templateJson,showSystemFormId:!1,type:2},null,8,["templateJson"])])),_:1})):D("",!0),"dynamic"===e.activeData.dataType&&e.activeData.propsApi&&"rankList"!=e.activeData.jnpfKey?(v(),m(N,{key:3,label:"映射关系"},{default:h((()=>[f(I,{"data-source":e.activeData.mappingConfig,columns:u,size:"small",pagination:!1},{bodyCell:h((({column:e,record:t})=>["field"===e.key?(v(),y(b,{key:0},[_(M(t[e.key]),1)],64)):D("",!0),"value"===e.key?(v(),m(A,{key:1,class:"text-left",value:t[e.key],"onUpdate:value":a=>t[e.key]=a,placeholder:"请输入",options:a.options,allowClear:"",onFocus:a=>U(t[e.key]),onSearch:a=>g(i)(t[e.key])},null,8,["value","onUpdate:value","options","onFocus","onSearch"])):D("",!0)])),_:1},8,["data-source"])])),_:1})):D("",!0),"rankList"==e.activeData.jnpfKey?(v(),y(b,{key:4},[f(j,null,{default:h((()=>C[5]||(C[5]=[_("列表字段")]))),_:1,__:[5]}),T("div",ja,[f(g(aa),{modelValue:e.activeData.option.columnOptions,"onUpdate:modelValue":C[2]||(C[2]=a=>e.activeData.option.columnOptions=a),animation:300,group:"selectItem",handle:".option-drag",itemKey:"id"},{item:h((({element:l,index:o})=>[T("div",Fa,[C[7]||(C[7]=T("div",{class:"select-line-icon option-drag"},[T("i",{class:"icon-ym icon-ym-darg"})],-1)),f(F,{value:l.label,"onUpdate:value":e=>l.label=e,i18n:l.labelI18nCode,"onUpdate:i18n":e=>l.labelI18nCode=e,placeholder:"列名"},null,8,["value","onUpdate:value","i18n","onUpdate:i18n"]),f(A,{value:l.value,"onUpdate:value":e=>l.value=e,placeholder:"字段",options:a.options,allowClear:"",onFocus:e=>U(l.value),onSearch:e=>g(i)(l.value)},null,8,["value","onUpdate:value","options","onFocus","onSearch"]),T("div",{class:K(["close-btn select-line-icon",{"opacity-50":1==e.activeData.option.columnOptions.length}]),onClick:e=>function(e){t.activeData.option.columnOptions.length>1&&t.activeData.option.columnOptions.splice(e,1)}(o)},C[6]||(C[6]=[T("i",{class:"icon-ym icon-ym-btn-clearn"},null,-1)]),10,za)])])),_:1},8,["modelValue"]),T("div",Ra,[f(L,{type:"link",preIcon:"icon-ym icon-ym-btn-add",onClick:w},{default:h((()=>C[8]||(C[8]=[_("添加字段")]))),_:1,__:[8]})])])],64)):D("",!0),7==e.activeData.option.styleType&&"barChart"==e.activeData.jnpfKey?(v(),y("div",Ja,[f(I,{"data-source":e.activeData.option.barType,columns:c,size:"small",pagination:!1},{bodyCell:h((({column:e,record:a})=>["title"===e.key?(v(),y(b,{key:0},[_(M(a[e.key]),1)],64)):D("",!0),"type"===e.key?(v(),m(z,{key:1,value:a[e.key],"onUpdate:value":t=>a[e.key]=t,placeholder:"请选择",options:n,showSearch:""},null,8,["value","onUpdate:value"])):D("",!0)])),_:1},8,["data-source"])])):D("",!0),"dynamic"===e.activeData.dataType&&e.activeData.propsApi?(v(),m(ca,{key:6,refresh:e.activeData.refresh},null,8,["refresh"])):D("",!0),f(Ia,{ref:"JSONArea",onRegister:g(l),onChange:x},null,8,["onRegister"])])),_:1})}}}),Ma=s({__name:"RJump",props:["activeData","showType"],setup(e){const a=e,t=k((()=>"地址以http://或https://开头，例:https://xxx.com?xxx1=${field1}&xxx2=${field2}，"+(["tableList","rankList"].includes(a.activeData.jnpfKey)?"动态参数可选值(field1,field2)":"参数可选")));return(a,l)=>{const o=r("BasicHelp"),i=r("a-select-option"),n=r("a-select"),p=r("a-input"),c=r("a-form-item"),u=r("a-collapse-panel");return v(),m(u,null,{header:h((()=>l[3]||(l[3]=[_("跳转设置")]))),default:h((()=>[f(c,null,{label:h((()=>[l[4]||(l[4]=_("跳转地址")),f(o,{text:t.value},null,8,["text"])])),default:h((()=>["pc"==e.showType?(v(),m(p,{key:0,value:e.activeData.option.urlAddress,"onUpdate:value":l[1]||(l[1]=a=>e.activeData.option.urlAddress=a),placeholder:"请输入"},{addonAfter:h((()=>[f(n,{value:e.activeData.option.target,"onUpdate:value":l[0]||(l[0]=a=>e.activeData.option.target=a),class:"!w-85px"},{default:h((()=>[f(i,{value:"_self"},{default:h((()=>l[5]||(l[5]=[_("_self")]))),_:1,__:[5]}),f(i,{value:"_blank"},{default:h((()=>l[6]||(l[6]=[_("_blank")]))),_:1,__:[6]})])),_:1},8,["value"])])),_:1},8,["value"])):(v(),m(p,{key:1,value:e.activeData.option.appUrlAddress,"onUpdate:value":l[2]||(l[2]=a=>e.activeData.option.appUrlAddress=a),placeholder:"请输入"},null,8,["value"]))])),_:1})])),_:1})}}}),Ba=s({__name:"RMainTitle",props:["activeData","showType"],setup:e=>(a,t)=>{const l=r("jnpf-i18n-input"),o=r("a-form-item"),i=r("a-input-number"),n=r("a-switch"),p=r("jnpf-color-picker"),c=r("jnpf-radio"),u=r("a-collapse-panel");return v(),m(u,null,{header:h((()=>t[7]||(t[7]=[_("图表标题设置")]))),default:h((()=>[f(o,{label:"标题名称"},{default:h((()=>[f(l,{value:e.activeData.option.titleText,"onUpdate:value":t[0]||(t[0]=a=>e.activeData.option.titleText=a),i18n:e.activeData.option.titleTextI18nCode,"onUpdate:i18n":t[1]||(t[1]=a=>e.activeData.option.titleTextI18nCode=a),placeholder:"请输入"},null,8,["value","i18n"])])),_:1}),f(o,{label:"字体大小"},{default:h((()=>[f(i,{value:e.activeData.option.titleTextStyleFontSize,"onUpdate:value":t[2]||(t[2]=a=>e.activeData.option.titleTextStyleFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(o,{label:"字体加粗"},{default:h((()=>[f(n,{checked:e.activeData.option.titleTextStyleFontWeight,"onUpdate:checked":t[3]||(t[3]=a=>e.activeData.option.titleTextStyleFontWeight=a)},null,8,["checked"])])),_:1}),f(o,{label:"字体颜色"},{default:h((()=>[f(p,{value:e.activeData.option.titleTextStyleColor,"onUpdate:value":t[4]||(t[4]=a=>e.activeData.option.titleTextStyleColor=a),size:"small"},null,8,["value"])])),_:1}),f(o,{label:"字体位置"},{default:h((()=>[f(c,{value:e.activeData.option.titleLeft,"onUpdate:value":t[5]||(t[5]=a=>e.activeData.option.titleLeft=a),options:g(fe),optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value","options"])])),_:1}),f(o,{label:"背景色"},{default:h((()=>[f(p,{value:e.activeData.option.titleBgColor,"onUpdate:value":t[6]||(t[6]=a=>e.activeData.option.titleBgColor=a),size:"small"},null,8,["value"])])),_:1})])),_:1})}}),Ka=s({__name:"RSubTitle",props:["activeData","showType"],setup:e=>(a,t)=>{const l=r("jnpf-i18n-input"),o=r("a-form-item"),i=r("a-input-number"),n=r("a-switch"),p=r("jnpf-color-picker"),c=r("a-collapse-panel");return v(),m(c,null,{header:h((()=>t[5]||(t[5]=[_("图表副标题设置")]))),default:h((()=>[f(o,{label:"副标题名称"},{default:h((()=>[f(l,{value:e.activeData.option.titleSubtext,"onUpdate:value":t[0]||(t[0]=a=>e.activeData.option.titleSubtext=a),i18n:e.activeData.option.titleSubtextI18nCode,"onUpdate:i18n":t[1]||(t[1]=a=>e.activeData.option.titleSubtextI18nCode=a),placeholder:"请输入"},null,8,["value","i18n"])])),_:1}),f(o,{label:"字体大小"},{default:h((()=>[f(i,{value:e.activeData.option.titleSubtextStyleFontSize,"onUpdate:value":t[2]||(t[2]=a=>e.activeData.option.titleSubtextStyleFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(o,{label:"字体加粗"},{default:h((()=>[f(n,{checked:e.activeData.option.titleSubtextStyleFontWeight,"onUpdate:checked":t[3]||(t[3]=a=>e.activeData.option.titleSubtextStyleFontWeight=a)},null,8,["checked"])])),_:1}),f(o,{label:"字体颜色"},{default:h((()=>[f(p,{value:e.activeData.option.titleSubtextStyleColor,"onUpdate:value":t[4]||(t[4]=a=>e.activeData.option.titleSubtextStyleColor=a),size:"small"},null,8,["value"])])),_:1})])),_:1})}}),Wa=s({__name:"RBarStyle",props:["activeData","showType"],setup:e=>(a,t)=>{const l=r("a-input-number"),o=r("a-form-item"),i=r("a-collapse-panel");return 6!=e.activeData.option.styleType||"app"!=e.showType?(v(),m(i,{key:0},{header:h((()=>t[2]||(t[2]=[_("柱体设置")]))),default:h((()=>[f(o,{label:"宽度"},{default:h((()=>[f(l,{value:e.activeData.option.seriesBarWidth,"onUpdate:value":t[0]||(t[0]=a=>e.activeData.option.seriesBarWidth=a),min:0,max:100,placeholder:"请输入"},null,8,["value"])])),_:1}),2!=e.activeData.option.styleType||"app"!=e.showType?(v(),m(o,{key:0,label:"弧度"},{default:h((()=>[f(l,{value:e.activeData.option.seriesItemStyleBarBorderRadius,"onUpdate:value":t[1]||(t[1]=a=>e.activeData.option.seriesItemStyleBarBorderRadius=a),min:0,max:100,placeholder:"请输入"},null,8,["value"])])),_:1})):D("",!0)])),_:1})):D("",!0)}}),Va=s({__name:"RXAxis",props:["activeData","showType"],setup(e){const a=[{fullName:"类型",id:"category"},{fullName:"数值",id:"value"}];return(t,l)=>{const o=r("jnpf-radio"),i=r("a-form-item"),n=r("a-switch"),p=r("jnpf-color-picker"),c=r("jnpf-i18n-input"),u=r("a-input-number"),d=r("a-collapse-panel");return v(),m(d,null,{header:h((()=>l[15]||(l[15]=[_("X轴设置")]))),default:h((()=>[U(f(i,{label:"坐标轴类型"},{default:h((()=>[f(o,{value:e.activeData.option.category,"onUpdate:value":l[0]||(l[0]=a=>e.activeData.option.category=a),options:a,optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value"])])),_:1},512),[[S,"pc"==e.showType]]),f(i,{label:"显示坐标轴"},{default:h((()=>[f(n,{checked:e.activeData.option.xAxisShow,"onUpdate:checked":l[1]||(l[1]=a=>e.activeData.option.xAxisShow=a)},null,8,["checked"])])),_:1}),e.activeData.option.xAxisShow?(v(),y(b,{key:0},[f(i,{label:"坐标轴颜色"},{default:h((()=>[f(p,{value:e.activeData.option.xAxisAxisLineLineStyleColor,"onUpdate:value":l[2]||(l[2]=a=>e.activeData.option.xAxisAxisLineLineStyleColor=a),size:"small"},null,8,["value"])])),_:1}),"pc"==e.showType?(v(),y(b,{key:0},[f(i,{label:"X轴名称"},{default:h((()=>[f(c,{value:e.activeData.option.xAxisName,"onUpdate:value":l[3]||(l[3]=a=>e.activeData.option.xAxisName=a),i18n:e.activeData.option.xAxisNameI18nCode,"onUpdate:i18n":l[4]||(l[4]=a=>e.activeData.option.xAxisNameI18nCode=a),placeholder:"请输入"},null,8,["value","i18n"])])),_:1}),f(i,{label:"字体大小"},{default:h((()=>[f(u,{value:e.activeData.option.xAxisNameTextStyleFontSize,"onUpdate:value":l[5]||(l[5]=a=>e.activeData.option.xAxisNameTextStyleFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(i,{label:"字体加粗"},{default:h((()=>[f(n,{checked:e.activeData.option.xAxisNameTextStyleFontWeight,"onUpdate:checked":l[6]||(l[6]=a=>e.activeData.option.xAxisNameTextStyleFontWeight=a)},null,8,["checked"])])),_:1}),f(i,{label:"字体颜色"},{default:h((()=>[f(p,{value:e.activeData.option.xAxisNameTextStyleColor,"onUpdate:value":l[7]||(l[7]=a=>e.activeData.option.xAxisNameTextStyleColor=a),size:"small"},null,8,["value"])])),_:1}),f(i,{label:"标签大小"},{default:h((()=>[f(u,{value:e.activeData.option.xAxisAxisLabelTextStyleFontSize,"onUpdate:value":l[8]||(l[8]=a=>e.activeData.option.xAxisAxisLabelTextStyleFontSize=a),min:12,max:25,placeholder:"请输入"},null,8,["value"])])),_:1}),f(i,{label:"标签加粗"},{default:h((()=>[f(n,{checked:e.activeData.option.xAxisAxisLabelTextFontWeight,"onUpdate:checked":l[9]||(l[9]=a=>e.activeData.option.xAxisAxisLabelTextFontWeight=a)},null,8,["checked"])])),_:1})],64)):D("",!0),f(i,{label:"标签颜色"},{default:h((()=>[f(p,{value:e.activeData.option.xAxisAxisLabelTextStyleColor,"onUpdate:value":l[10]||(l[10]=a=>e.activeData.option.xAxisAxisLabelTextStyleColor=a),size:"small"},null,8,["value"])])),_:1}),f(i,{label:"标签角度"},{default:h((()=>[f(u,{value:e.activeData.option.xAxisAxisLabelRotate,"onUpdate:value":l[11]||(l[11]=a=>e.activeData.option.xAxisAxisLabelRotate=a),min:0,max:100,placeholder:"请输入"},null,8,["value"])])),_:1}),f(i,{label:"显示网格线"},{default:h((()=>[f(n,{checked:e.activeData.option.xAxisSplitLineShow,"onUpdate:checked":l[12]||(l[12]=a=>e.activeData.option.xAxisSplitLineShow=a)},null,8,["checked"])])),_:1}),e.activeData.option.xAxisSplitLineShow?(v(),m(i,{key:1,label:"网格线颜色"},{default:h((()=>[f(p,{value:e.activeData.option.xAxisSplitLineLineStyleColor,"onUpdate:value":l[13]||(l[13]=a=>e.activeData.option.xAxisSplitLineLineStyleColor=a),size:"small"},null,8,["value"])])),_:1})):D("",!0)],64)):D("",!0),U(f(i,{label:"反转"},{default:h((()=>[f(n,{checked:e.activeData.option.xAxisInverse,"onUpdate:checked":l[14]||(l[14]=a=>e.activeData.option.xAxisInverse=a)},null,8,["checked"])])),_:1},512),[[S,"pc"==e.showType]])])),_:1})}}}),Pa=s({__name:"RYAxis",props:["activeData","showType"],setup:e=>(a,t)=>{const l=r("a-switch"),o=r("a-form-item"),i=r("jnpf-color-picker"),n=r("jnpf-i18n-input"),p=r("a-input-number"),c=r("a-collapse-panel");return v(),m(c,null,{header:h((()=>t[13]||(t[13]=[_("Y轴设置")]))),default:h((()=>[f(o,{label:"显示坐标轴"},{default:h((()=>[f(l,{checked:e.activeData.option.yAxisShow,"onUpdate:checked":t[0]||(t[0]=a=>e.activeData.option.yAxisShow=a)},null,8,["checked"])])),_:1}),e.activeData.option.yAxisShow?(v(),y(b,{key:0},[f(o,{label:"坐标轴颜色"},{default:h((()=>[f(i,{value:e.activeData.option.yAxisAxisLineLineStyleColor,"onUpdate:value":t[1]||(t[1]=a=>e.activeData.option.yAxisAxisLineLineStyleColor=a),size:"small"},null,8,["value"])])),_:1}),"pc"==e.showType?(v(),y(b,{key:0},[f(o,{label:"Y轴名称"},{default:h((()=>[f(n,{value:e.activeData.option.yAxisName,"onUpdate:value":t[2]||(t[2]=a=>e.activeData.option.yAxisName=a),i18n:e.activeData.option.yAxisNameI18nCode,"onUpdate:i18n":t[3]||(t[3]=a=>e.activeData.option.yAxisNameI18nCode=a),placeholder:"请输入"},null,8,["value","i18n"])])),_:1}),f(o,{label:"字体大小"},{default:h((()=>[f(p,{value:e.activeData.option.yAxisNameTextStyleFontSize,"onUpdate:value":t[4]||(t[4]=a=>e.activeData.option.yAxisNameTextStyleFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(o,{label:"字体加粗"},{default:h((()=>[f(l,{checked:e.activeData.option.yAxisNameTextStyleFontWeight,"onUpdate:checked":t[5]||(t[5]=a=>e.activeData.option.yAxisNameTextStyleFontWeight=a)},null,8,["checked"])])),_:1}),f(o,{label:"字体颜色"},{default:h((()=>[f(i,{value:e.activeData.option.yAxisNameTextStyleColor,"onUpdate:value":t[6]||(t[6]=a=>e.activeData.option.yAxisNameTextStyleColor=a),size:"small"},null,8,["value"])])),_:1}),f(o,{label:"标签大小"},{default:h((()=>[f(p,{value:e.activeData.option.yAxisAxisLabelTextStyleFontSize,"onUpdate:value":t[7]||(t[7]=a=>e.activeData.option.yAxisAxisLabelTextStyleFontSize=a),min:12,max:25,placeholder:"请输入"},null,8,["value"])])),_:1}),f(o,{label:"标签加粗"},{default:h((()=>[f(l,{checked:e.activeData.option.yAxisAxisLabelTextFontWeight,"onUpdate:checked":t[8]||(t[8]=a=>e.activeData.option.yAxisAxisLabelTextFontWeight=a)},null,8,["checked"])])),_:1})],64)):D("",!0),f(o,{label:"标签颜色"},{default:h((()=>[f(i,{value:e.activeData.option.yAxisAxisLabelTextStyleColor,"onUpdate:value":t[9]||(t[9]=a=>e.activeData.option.yAxisAxisLabelTextStyleColor=a),size:"small"},null,8,["value"])])),_:1}),f(o,{label:"显示网格线"},{default:h((()=>[f(l,{checked:e.activeData.option.yAxisSplitLineShow,"onUpdate:checked":t[10]||(t[10]=a=>e.activeData.option.yAxisSplitLineShow=a)},null,8,["checked"])])),_:1}),e.activeData.option.yAxisSplitLineShow?(v(),m(o,{key:1,label:"网格线颜色"},{default:h((()=>[f(i,{value:e.activeData.option.yAxisSplitLineLineStyleColor,"onUpdate:value":t[11]||(t[11]=a=>e.activeData.option.yAxisSplitLineLineStyleColor=a),size:"small"},null,8,["value"])])),_:1})):D("",!0)],64)):D("",!0),U(f(o,{label:"反转"},{default:h((()=>[f(l,{checked:e.activeData.option.yAxisInverse,"onUpdate:checked":t[12]||(t[12]=a=>e.activeData.option.yAxisInverse=a)},null,8,["checked"])])),_:1},512),[[S,"pc"==e.showType]])])),_:1})}}),$a=s({__name:"RLabel",props:["activeData","showType"],setup(e){const a=[{fullName:"外侧",id:"outside"},{fullName:"内侧",id:"inside"}],t=[{fullName:"数值",id:"count"},{fullName:"百分比",id:"percent"}];return(l,o)=>{const i=r("a-switch"),n=r("a-form-item"),p=r("jnpf-radio"),c=r("jnpf-checkbox"),u=r("a-input-number"),d=r("jnpf-color-picker"),s=r("a-collapse-panel");return v(),m(s,null,{header:h((()=>o[7]||(o[7]=[_("数值设置")]))),default:h((()=>[f(n,{label:"显示"},{default:h((()=>[f(i,{checked:e.activeData.option.seriesLabelShow,"onUpdate:checked":o[0]||(o[0]=a=>e.activeData.option.seriesLabelShow=a)},null,8,["checked"])])),_:1}),e.activeData.option.seriesLabelShow?(v(),y(b,{key:0},["pieChart"==e.activeData.jnpfKey&&"pc"==e.showType?(v(),y(b,{key:0},[f(n,{label:"显示位置"},{default:h((()=>[f(p,{value:e.activeData.option.seriesLabelPosition,"onUpdate:value":o[1]||(o[1]=a=>e.activeData.option.seriesLabelPosition=a),options:a,optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value"])])),_:1}),f(n,{label:"显示内容"},{default:h((()=>[f(c,{value:e.activeData.option.seriesLabelShowInfo,"onUpdate:value":o[2]||(o[2]=a=>e.activeData.option.seriesLabelShowInfo=a),options:t,optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value"])])),_:1})],64)):D("",!0),"pc"==e.showType?(v(),y(b,{key:1},[f(n,{label:"字体大小"},{default:h((()=>[f(u,{value:e.activeData.option.seriesLabelFontSize,"onUpdate:value":o[3]||(o[3]=a=>e.activeData.option.seriesLabelFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(n,{label:"字体加粗"},{default:h((()=>[f(i,{checked:e.activeData.option.seriesLabelFontWeight,"onUpdate:checked":o[4]||(o[4]=a=>e.activeData.option.seriesLabelFontWeight=a)},null,8,["checked"])])),_:1})],64)):D("",!0),f(n,{label:"字体颜色"},{default:h((()=>[f(d,{value:e.activeData.option.seriesLabelColor,"onUpdate:value":o[5]||(o[5]=a=>e.activeData.option.seriesLabelColor=a),size:"small"},null,8,["value"])])),_:1}),"pc"==e.showType?(v(),m(n,{key:2,label:"背景色"},{default:h((()=>[f(d,{value:e.activeData.option.seriesLabelBgColor,"onUpdate:value":o[6]||(o[6]=a=>e.activeData.option.seriesLabelBgColor=a),size:"small"},null,8,["value"])])),_:1})):D("",!0)],64)):D("",!0)])),_:1})}}}),Ha=s({__name:"RTooltip",props:["activeData","showType"],setup:e=>(a,t)=>{const l=r("a-switch"),o=r("a-form-item"),i=r("a-input-number"),n=r("jnpf-color-picker"),p=r("a-collapse-panel");return v(),m(p,null,{header:h((()=>t[5]||(t[5]=[_("提示语设置")]))),default:h((()=>[f(o,{label:"显示"},{default:h((()=>[f(l,{checked:e.activeData.option.tooltipShow,"onUpdate:checked":t[0]||(t[0]=a=>e.activeData.option.tooltipShow=a)},null,8,["checked"])])),_:1}),e.activeData.option.tooltipShow?(v(),y(b,{key:0},["pc"==e.showType?(v(),y(b,{key:0},[f(o,{label:"字体大小"},{default:h((()=>[f(i,{value:e.activeData.option.tooltipTextStyleFontSize,"onUpdate:value":t[1]||(t[1]=a=>e.activeData.option.tooltipTextStyleFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(o,{label:"字体加粗"},{default:h((()=>[f(l,{checked:e.activeData.option.tooltipTextStyleFontWeight,"onUpdate:checked":t[2]||(t[2]=a=>e.activeData.option.tooltipTextStyleFontWeight=a)},null,8,["checked"])])),_:1})],64)):D("",!0),f(o,{label:"字体颜色"},{default:h((()=>[f(n,{value:e.activeData.option.tooltipTextStyleColor,"onUpdate:value":t[3]||(t[3]=a=>e.activeData.option.tooltipTextStyleColor=a),size:"small"},null,8,["value"])])),_:1}),f(o,{label:"背景色"},{default:h((()=>[f(n,{value:e.activeData.option.tooltipBgColor,"onUpdate:value":t[4]||(t[4]=a=>e.activeData.option.tooltipBgColor=a),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0)])),_:1})}}),Ea=s({__name:"RMargin",props:["activeData"],setup(e){const a=e;function t(){const e=a.activeData.jnpfKey;return"pieChart"==e||"radarChart"==e||"mapChart"==e?"中心坐标设置":"坐标轴边距设置"}return(a,l)=>{const o=r("a-slider"),i=r("a-form-item"),n=r("a-collapse-panel");return v(),m(n,null,{header:h((()=>[_(M(t()),1)])),default:h((()=>["pieChart"==e.activeData.jnpfKey||"mapChart"==e.activeData.jnpfKey?(v(),y(b,{key:0},[f(i,{label:"上下边距"},{default:h((()=>[f(o,{value:e.activeData.option.seriesCenterTop,"onUpdate:value":l[0]||(l[0]=a=>e.activeData.option.seriesCenterTop=a),max:100},null,8,["value"])])),_:1}),f(i,{label:"左右边距"},{default:h((()=>[f(o,{value:e.activeData.option.seriesCenterLeft,"onUpdate:value":l[1]||(l[1]=a=>e.activeData.option.seriesCenterLeft=a),max:100},null,8,["value"])])),_:1})],64)):"radarChart"==e.activeData.jnpfKey?(v(),y(b,{key:1},[f(i,{label:"上下边距"},{default:h((()=>[f(o,{value:e.activeData.option.radarCenterTop,"onUpdate:value":l[2]||(l[2]=a=>e.activeData.option.radarCenterTop=a),max:100},null,8,["value"])])),_:1}),f(i,{label:"左右边距"},{default:h((()=>[f(o,{value:e.activeData.option.radarCenterLeft,"onUpdate:value":l[3]||(l[3]=a=>e.activeData.option.radarCenterLeft=a),max:100},null,8,["value"])])),_:1})],64)):(v(),y(b,{key:2},[f(i,{label:"左边距"},{default:h((()=>[f(o,{value:e.activeData.option.gridLeft,"onUpdate:value":l[4]||(l[4]=a=>e.activeData.option.gridLeft=a),max:100},null,8,["value"])])),_:1}),f(i,{label:"顶边距"},{default:h((()=>[f(o,{value:e.activeData.option.gridTop,"onUpdate:value":l[5]||(l[5]=a=>e.activeData.option.gridTop=a),max:100},null,8,["value"])])),_:1}),f(i,{label:"右边距"},{default:h((()=>[f(o,{value:e.activeData.option.gridRight,"onUpdate:value":l[6]||(l[6]=a=>e.activeData.option.gridRight=a),max:100},null,8,["value"])])),_:1}),f(i,{label:"底边距"},{default:h((()=>[f(o,{value:e.activeData.option.gridBottom,"onUpdate:value":l[7]||(l[7]=a=>e.activeData.option.gridBottom=a),max:100},null,8,["value"])])),_:1})],64))])),_:1})}}}),Ga=s({__name:"RLegend",props:["activeData","showType"],setup(e){const a=[{fullName:"横排",id:"horizontal"},{fullName:"竖排",id:"vertical"}];return(t,l)=>{const o=r("a-switch"),i=r("a-form-item"),n=r("a-input-number"),p=r("jnpf-radio"),c=r("a-slider"),u=r("a-collapse-panel");return v(),m(u,null,{header:h((()=>l[5]||(l[5]=[_("图例设置")]))),default:h((()=>[f(i,{label:"显示"},{default:h((()=>[f(o,{checked:e.activeData.option.legendShow,"onUpdate:checked":l[0]||(l[0]=a=>e.activeData.option.legendShow=a)},null,8,["checked"])])),_:1}),e.activeData.option.legendShow&&"pc"==e.showType?(v(),y(b,{key:0},[f(i,{label:"字体大小"},{default:h((()=>[f(n,{value:e.activeData.option.legendTextStyleFontSize,"onUpdate:value":l[1]||(l[1]=a=>e.activeData.option.legendTextStyleFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(i,{label:"布局"},{default:h((()=>[f(p,{value:e.activeData.option.legendOrient,"onUpdate:value":l[2]||(l[2]=a=>e.activeData.option.legendOrient=a),options:a,optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value"])])),_:1}),f(i,{label:"上下边距"},{default:h((()=>[f(c,{value:e.activeData.option.legendTop,"onUpdate:value":l[3]||(l[3]=a=>e.activeData.option.legendTop=a),max:100},null,8,["value"])])),_:1}),f(i,{label:"左右边距"},{default:h((()=>[f(c,{value:e.activeData.option.legendLeft,"onUpdate:value":l[4]||(l[4]=a=>e.activeData.option.legendLeft=a),max:100},null,8,["value"])])),_:1})],64)):D("",!0)])),_:1})}}}),qa=s({__name:"RColor",props:["activeData","showType"],setup(e){const a=e,{t:t}=W(),{createMessage:l,createConfirm:o}=N(),i=k((()=>{const e={title:"颜色",key:"color1",align:"center"},t={title:"操作",key:"action",align:"center"};return"pc"==a.showType?[e,{title:"渐变色",key:"color2",align:"center"},t]:[e,t]}));return(n,p)=>{const c=r("jnpf-color-picker"),u=r("a-form-item"),d=r("a-button"),s=r("a-table"),k=r("a-collapse-panel");return v(),m(k,null,{header:h((()=>p[3]||(p[3]=[_("自定义配色设置")]))),default:h((()=>["pieChart"!=e.activeData.jnpfKey&&"radarChart"!=e.activeData.jnpfKey&&"pc"==e.showType?(v(),y(b,{key:0},[f(u,{label:"文字颜色"},{default:h((()=>[f(c,{value:e.activeData.option.AxisTextStyleColor,"onUpdate:value":p[0]||(p[0]=a=>e.activeData.option.AxisTextStyleColor=a),size:"small"},null,8,["value"])])),_:1}),f(u,{label:"轴线颜色"},{default:h((()=>[f(c,{value:e.activeData.option.AxisLineStyleColor,"onUpdate:value":p[1]||(p[1]=a=>e.activeData.option.AxisLineStyleColor=a),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),f(s,{"data-source":e.activeData.option.colorList,columns:i.value,pagination:!1,size:"small"},{bodyCell:h((({column:e,record:i,index:n})=>["color1"===e.key||"color2"===e.key?(v(),m(c,{key:0,value:i[e.key],"onUpdate:value":a=>i[e.key]=a,size:"small"},null,8,["value","onUpdate:value"])):D("",!0),"action"===e.key?(v(),m(d,{key:1,type:"link",danger:"",onClick:e=>function(e){o({iconType:"warning",title:t("common.tipTitle"),content:t("common.delTip"),onOk:()=>{a.activeData.option.colorList.splice(e,1),l.success("删除成功")}})}(n)},{default:h((()=>p[4]||(p[4]=[T("i",{class:"icon-ym icon-ym-delete"},null,-1)]))),_:2,__:[4]},1032,["onClick"])):D("",!0)])),_:1},8,["data-source","columns"]),T("div",{class:"table-add-action mb-15px !mt-unset",onClick:p[2]||(p[2]=e=>{a.activeData.option.colorList.push({color1:"#1890ff",color2:"#4696DD"})})},[f(d,{type:"link",preIcon:"icon-ym icon-ym-btn-add"},{default:h((()=>p[5]||(p[5]=[_("新增")]))),_:1,__:[5]})])])),_:1})}}}),Ya={key:0,class:"drag-handler icon-ym icon-ym-darg",title:"点击拖动"},Xa={key:1},Za=s({__name:"RColumnModal",emits:["register","change"],setup(e,{emit:a}){const t=L({list:[],showType:"",type:1,columns:[],allOptions:[],options:[],interfaceId:""}),l=a,{createMessage:o}=N(),[i,{closeModal:n}]=le((function(e){t.list=JSON.parse(JSON.stringify(e.data)),t.showType=e.showType||"pc",t.type=e.type||1,t.interfaceId=e.interfaceId||"",t.columns=1==t.type?"pc"==t.showType?p:c:u,C((()=>{!function(){const e=document.querySelector(".carousel-table .ant-table-tbody");Qe.create(e,{handle:".drag-handler",animation:150,easing:"cubic-bezier(1, 0, 0, 1)",onStart:()=>{},onEnd:({newIndex:e,oldIndex:a})=>{const l=t.list.splice(a,1)[0];t.list.splice(e,0,l)}})}(),function(){if(!t.interfaceId)return t.allOptions=[];R(t.interfaceId).then((e=>{const a=e.data;let l=a.fieldJson?JSON.parse(a.fieldJson):[];t.allOptions=l.map((e=>({...e,value:e.defaultValue})))}))}()}))})),p=[{title:"拖动",dataIndex:"drag",key:"drag",align:"center",width:50},{title:"名称",dataIndex:"fullName",key:"fullName",width:160},{title:"字段",dataIndex:"filedName",key:"filedName",width:160},{title:"排序",dataIndex:"sortable",key:"sortable",width:60,align:"center"},{title:"冻结方式",dataIndex:"fixed",key:"fixed",width:160},{title:"对齐方式",dataIndex:"align",key:"align",width:160},{title:"宽度",dataIndex:"width",key:"width",width:160},{title:"操作",dataIndex:"action",key:"action",width:50}],c=[{title:"拖动",dataIndex:"drag",key:"drag",align:"center",width:50},{title:"名称",dataIndex:"fullName",key:"fullName",width:300},{title:"字段",dataIndex:"filedName",key:"filedName",width:300},{title:"操作",dataIndex:"action",key:"action",width:50}],u=[{title:"拖动",dataIndex:"drag",key:"drag",align:"center",width:50},{title:"名称",dataIndex:"fullName",key:"fullName",width:120},{title:"字段",dataIndex:"filedName",key:"filedName",width:250},{title:"大小",dataIndex:"fontSize",key:"fontSize",width:250},{title:"加粗",dataIndex:"fontWeight",key:"fontWeight",width:80},{title:"颜色",dataIndex:"fontColor",key:"fontColor",width:80}],d=[{id:"none",fullName:"无"},{id:"left",fullName:"左冻结"},{id:"right",fullName:"右冻结"}],s=[{id:"left",fullName:"左对齐"},{id:"center",fullName:"居中对齐"},{id:"right",fullName:"右对齐"}],k=z(T,300);function w(){if(!t.list.length)return o.warning("数据不能为空");for(let e=0;e<t.list.length;e++){const a=t.list[e];if(!a.fullName)return o.warning("名称不能为空");if(!a.filedName)return o.warning("名称字段不能为空")}l("change",t.list),C((()=>n()))}function T(e){t.options=t.allOptions.filter((a=>-1!==a.value.toLowerCase().indexOf(e.toLowerCase())))}return(e,a)=>{const l=r("jnpf-i18n-input"),o=r("a-auto-complete"),n=r("a-checkbox"),p=r("jnpf-select"),c=r("a-input-number"),u=r("a-switch"),C=r("jnpf-color-picker"),U=r("a-button"),S=r("a-table");return v(),m(g(oe),x(e.$attrs,{width:"1000px",class:"jnpf-modal-portal",onRegister:g(i),title:"选项设置",onOk:w,destroyOnClose:""}),{default:h((()=>[f(S,{"data-source":t.list,columns:t.columns,size:"small",pagination:!1,rowKey:"id",class:"carousel-table"},{bodyCell:h((({column:e,record:i,index:r})=>["drag"===e.key?(v(),y("i",Ya)):D("",!0),"fullName"===e.key?(v(),y(b,{key:1},[1===t.type?(v(),m(l,{key:0,value:i.fullName,"onUpdate:value":e=>i.fullName=e,i18n:i.fullNameI18nCode,"onUpdate:i18n":e=>i.fullNameI18nCode=e,placeholder:"请输入",allowClear:""},null,8,["value","onUpdate:value","i18n","onUpdate:i18n"])):(v(),y("span",Xa,M(i.fullName),1))],64)):D("",!0),"filedName"===e.key?(v(),m(o,{key:2,value:i.filedName,"onUpdate:value":e=>i.filedName=e,placeholder:"请输入",options:t.options,allowClear:"",onFocus:e=>{T(i.filedName)},onSearch:e=>g(k)(i.filedName)},null,8,["value","onUpdate:value","options","onFocus","onSearch"])):D("",!0),"sortable"===e.key?(v(),m(n,{key:3,checked:i.sortable,"onUpdate:checked":e=>i.sortable=e},null,8,["checked","onUpdate:checked"])):D("",!0),"fixed"===e.key?(v(),m(p,{key:4,value:i.fixed,"onUpdate:value":e=>i.fixed=e,options:d,placeholder:"请选择",showSearch:""},null,8,["value","onUpdate:value"])):D("",!0),"align"===e.key?(v(),m(p,{key:5,value:i.align,"onUpdate:value":e=>i.align=e,options:s,placeholder:"请选择",showSearch:""},null,8,["value","onUpdate:value"])):D("",!0),"width"===e.key?(v(),m(c,{key:6,value:i.width,"onUpdate:value":e=>i.width=e,placeholder:"请输入",min:0,max:9999},null,8,["value","onUpdate:value"])):D("",!0),"fontSize"===e.key?(v(),m(c,{key:7,value:i.fontSize,"onUpdate:value":e=>i.fontSize=e,placeholder:"请输入",min:0,max:9999},null,8,["value","onUpdate:value"])):D("",!0),"fontWeight"===e.key?(v(),m(u,{key:8,checked:i.fontWeight,"onUpdate:checked":e=>i.fontWeight=e,size:"small"},null,8,["checked","onUpdate:checked"])):D("",!0),"fontColor"===e.key?(v(),m(C,{key:9,value:i.fontColor,"onUpdate:value":e=>i.fontColor=e,size:"small"},null,8,["value","onUpdate:value"])):D("",!0),"action"===e.key?(v(),m(U,{key:10,class:"action-btn",type:"link",color:"error",onClick:e=>function(e){t.list.splice(e,1)}(r),size:"small"},{default:h((()=>a[1]||(a[1]=[_("删除")]))),_:2,__:[1]},1032,["onClick"])):D("",!0)])),_:1},8,["data-source","columns"]),1==t.type?(v(),y("div",{key:0,class:"table-add-action",onClick:a[0]||(a[0]=e=>function(){let e={};e="app"===t.showType?{fullName:"",filedName:"",id:I()}:{fullName:"",filedName:"",sortable:!1,fixed:"none",align:"center",width:0,id:I()},t.list.push(e)}())},[f(U,{type:"link",preIcon:"icon-ym icon-ym-btn-add"},{default:h((()=>a[2]||(a[2]=[_("添加")]))),_:1,__:[2]})])):D("",!0)])),_:1},16,["onRegister"])}}}),Qa=s({__name:"RTableSet",props:["activeData","showType","mapOptions"],setup(e){const a=e,t=[{fullName:"表格",id:1},{fullName:"列表（横向）",id:2},{fullName:"列表（纵向）",id:3}],[l,{openModal:o}]=ie(),[i,{openModal:n}]=ie();function p(){a.activeData.renderKey=+new Date}function c(){a.activeData.propsApi="",a.activeData.propsName="",a.activeData.option.defaultValue=[],a.activeData.templateJson=[],p()}function u(e,t){e?(a.activeData.propsApi=e,a.activeData.propsName=t.fullName,a.activeData.refresh.autoRefresh=!1,a.activeData.templateJson=t.parameterJson?JSON.parse(t.parameterJson).map((e=>({...e,relationField:"",sourceType:2}))):[]):(a.activeData.propsApi="",a.activeData.propsName="",a.activeData.templateJson=[]),p()}function d(e){o(!0,{value:JSON.stringify(e)})}function s(e,t){n(!0,{data:e,type:t||"",showType:a.showType,interfaceId:a.activeData.propsApi})}function k(e){a.activeData.option.defaultValue=e?JSON.parse(e):[],p()}function w(e){e&&("app"===a.showType?a.activeData.option.appColumnList=e:1==a.activeData.option.styleType?a.activeData.option.columnData=e:a.activeData.option.rowData=e,p())}return(a,o)=>{const n=r("jnpf-select"),T=r("a-form-item"),x=r("a-switch"),C=r("BasicHelp"),U=r("a-divider"),S=r("a-input-number"),N=r("jnpf-color-picker"),L=r("jnpf-radio"),A=r("a-button"),I=r("a-collapse-panel");return v(),m(I,null,{header:h((()=>o[31]||(o[31]=[_("表格列表设置")]))),default:h((()=>["pc"==e.showType?(v(),y(b,{key:0},[f(T,{label:"风格类型"},{default:h((()=>[f(n,{value:e.activeData.option.styleType,"onUpdate:value":o[0]||(o[0]=a=>e.activeData.option.styleType=a),options:t,placeholder:"请选择",showSearch:"",onChange:p},null,8,["value"])])),_:1}),1==e.activeData.option.styleType?(v(),y(b,{key:0},[f(T,{label:"显示边框"},{default:h((()=>[f(x,{checked:e.activeData.option.border,"onUpdate:checked":o[1]||(o[1]=a=>e.activeData.option.border=a)},null,8,["checked"])])),_:1}),f(T,null,{label:h((()=>[o[32]||(o[32]=_("溢出省略")),f(C,{text:["启用：溢出省略号显示；","禁用：显示全部信息，溢出换行显示"]})])),default:h((()=>[f(x,{checked:e.activeData.option.showOverflow,"onUpdate:checked":o[2]||(o[2]=a=>e.activeData.option.showOverflow=a)},null,8,["checked"])])),_:1}),f(U,null,{default:h((()=>o[33]||(o[33]=[_("表头设置")]))),_:1,__:[33]}),f(T,{label:"显示表头"},{default:h((()=>[f(x,{checked:e.activeData.option.showHeader,"onUpdate:checked":o[3]||(o[3]=a=>e.activeData.option.showHeader=a),onChange:p},null,8,["checked"])])),_:1}),e.activeData.option.showHeader?(v(),y(b,{key:0},[f(T,{label:"字体大小"},{default:h((()=>[f(S,{value:e.activeData.option.headerFontSize,"onUpdate:value":o[4]||(o[4]=a=>e.activeData.option.headerFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(T,{label:"字体加粗"},{default:h((()=>[f(x,{checked:e.activeData.option.headerFontWeight,"onUpdate:checked":o[5]||(o[5]=a=>e.activeData.option.headerFontWeight=a)},null,8,["checked"])])),_:1}),f(T,{label:"字体颜色"},{default:h((()=>[f(N,{value:e.activeData.option.headerFontColor,"onUpdate:value":o[6]||(o[6]=a=>e.activeData.option.headerFontColor=a),size:"small"},null,8,["value"])])),_:1}),f(T,{label:"字体位置"},{default:h((()=>[f(L,{value:e.activeData.option.headerLeft,"onUpdate:value":o[7]||(o[7]=a=>e.activeData.option.headerLeft=a),options:g(fe),optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value","options"])])),_:1}),f(T,{label:"背景色"},{default:h((()=>[f(N,{value:e.activeData.option.headerBgColor,"onUpdate:value":o[8]||(o[8]=a=>e.activeData.option.headerBgColor=a),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),f(U,null,{default:h((()=>o[34]||(o[34]=[_("表格设置")]))),_:1,__:[34]}),f(T,{label:"显示序号"},{default:h((()=>[f(x,{checked:e.activeData.option.tableIndex,"onUpdate:checked":o[9]||(o[9]=a=>e.activeData.option.tableIndex=a)},null,8,["checked"])])),_:1}),f(T,{label:"字体大小"},{default:h((()=>[f(S,{value:e.activeData.option.tableFontSize,"onUpdate:value":o[10]||(o[10]=a=>e.activeData.option.tableFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(T,{label:"字体颜色"},{default:h((()=>[f(N,{value:e.activeData.option.tableFontColor,"onUpdate:value":o[11]||(o[11]=a=>e.activeData.option.tableFontColor=a),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),3==e.activeData.option.styleType?(v(),m(T,{key:1,label:"显示描述"},{default:h((()=>[f(x,{checked:e.activeData.option.describe,"onUpdate:checked":o[12]||(o[12]=a=>e.activeData.option.describe=a)},null,8,["checked"])])),_:1})):D("",!0),f(T,{label:"显示条数"},{default:h((()=>[f(S,{value:e.activeData.option.tableCount,"onUpdate:value":o[13]||(o[13]=a=>e.activeData.option.tableCount=a),placeholder:"请输入",min:1,max:50,onChange:p},null,8,["value"])])),_:1}),f(T,{label:"背景色"},{default:h((()=>[f(N,{value:e.activeData.option.tableBgColor,"onUpdate:value":o[14]||(o[14]=a=>e.activeData.option.tableBgColor=a),size:"small"},null,8,["value"])])),_:1}),f(T,{label:"奇行颜色"},{default:h((()=>[f(N,{value:e.activeData.option.tableOddLineColor,"onUpdate:value":o[15]||(o[15]=a=>e.activeData.option.tableOddLineColor=a),size:"small"},null,8,["value"])])),_:1}),f(T,{label:"偶行颜色"},{default:h((()=>[f(N,{value:e.activeData.option.tableEvenLineColor,"onUpdate:value":o[16]||(o[16]=a=>e.activeData.option.tableEvenLineColor=a),size:"small"},null,8,["value"])])),_:1}),1==e.activeData.option.styleType?(v(),m(U,{key:2},{default:h((()=>o[35]||(o[35]=[_("列数据设置")]))),_:1,__:[35]})):D("",!0),f(T,{label:"数据类型"},{default:h((()=>[f(L,{value:e.activeData.dataType,"onUpdate:value":o[17]||(o[17]=a=>e.activeData.dataType=a),options:g(Le),optionType:"button","button-style":"solid",onChange:c},null,8,["value","options"])])),_:1}),"static"===e.activeData.dataType?(v(),m(T,{key:3,label:"数据设置"},{default:h((()=>[f(A,{onClick:o[18]||(o[18]=a=>d(e.activeData.option.defaultValue))},{default:h((()=>o[36]||(o[36]=[_("设置")]))),_:1,__:[36]})])),_:1})):D("",!0),"dynamic"===e.activeData.dataType?(v(),y(b,{key:4},[f(T,{label:"数据接口"},{default:h((()=>[f(g(Xe),{value:e.activeData.propsApi,title:e.activeData.propsName,popupTitle:"数据接口",onChange:u},null,8,["value","title"])])),_:1}),e.activeData.templateJson?.length?(v(),m(T,{key:0,label:"参数设置"},{default:h((()=>[f(g(ea),{templateJson:e.activeData.templateJson,showSystemFormId:!1,type:2},null,8,["templateJson"])])),_:1})):D("",!0),e.activeData.propsApi?(v(),m(ca,{key:1,refresh:e.activeData.refresh},null,8,["refresh"])):D("",!0)],64)):D("",!0),f(T,{label:1==e.activeData.option.styleType?"列数据":"行数据"},{default:h((()=>[f(A,{onClick:o[19]||(o[19]=a=>s(1==e.activeData.option.styleType?e.activeData.option.columnData:e.activeData.option.rowData,e.activeData.option.styleType))},{default:h((()=>o[37]||(o[37]=[_(" 设置 ")]))),_:1,__:[37]})])),_:1},8,["label"])],64)):(v(),y(b,{key:1},[f(T,{label:"显示名称"},{default:h((()=>[f(x,{checked:e.activeData.option.showName,"onUpdate:checked":o[20]||(o[20]=a=>e.activeData.option.showName=a)},null,8,["checked"])])),_:1}),f(T,{label:"数据类型"},{default:h((()=>[f(L,{value:e.activeData.dataType,"onUpdate:value":o[21]||(o[21]=a=>e.activeData.dataType=a),options:g(Le),optionType:"button","button-style":"solid",onChange:c},null,8,["value","options"])])),_:1}),"static"===e.activeData.dataType?(v(),m(T,{key:0,label:"数据设置"},{default:h((()=>[f(A,{onClick:o[22]||(o[22]=a=>d(e.activeData.option.defaultValue))},{default:h((()=>o[38]||(o[38]=[_("设置")]))),_:1,__:[38]})])),_:1})):D("",!0),"dynamic"===e.activeData.dataType?(v(),y(b,{key:1},[f(T,{label:"数据接口"},{default:h((()=>[f(g(Xe),{value:e.activeData.propsApi,title:e.activeData.propsName,popupTitle:"数据接口",onChange:u},null,8,["value","title"])])),_:1}),e.activeData.templateJson?.length?(v(),m(T,{key:0,label:"参数设置"},{default:h((()=>[f(g(ea),{templateJson:e.activeData.templateJson,showSystemFormId:!1,type:2},null,8,["templateJson"])])),_:1})):D("",!0)],64)):D("",!0),e.activeData.propsApi?(v(),m(ca,{key:2,refresh:e.activeData.refresh},null,8,["refresh"])):D("",!0),f(T,{label:"行数据"},{default:h((()=>[f(A,{onClick:o[23]||(o[23]=a=>s(e.activeData.option.appColumnList))},{default:h((()=>o[39]||(o[39]=[_("设置")]))),_:1,__:[39]})])),_:1}),f(T,{label:"显示条数"},{default:h((()=>[f(S,{value:e.activeData.option.appCount,"onUpdate:value":o[24]||(o[24]=a=>e.activeData.option.appCount=a),placeholder:"请输入",min:1,max:50},null,8,["value"])])),_:1}),e.activeData.option.showName?(v(),y(b,{key:3},[f(T,{label:"名称大小"},{default:h((()=>[f(S,{value:e.activeData.option.nameFontSize,"onUpdate:value":o[25]||(o[25]=a=>e.activeData.option.nameFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(T,{label:"名称加粗"},{default:h((()=>[f(x,{checked:e.activeData.option.nameFontWeight,"onUpdate:checked":o[26]||(o[26]=a=>e.activeData.option.nameFontWeight=a)},null,8,["checked"])])),_:1}),f(T,{label:"名称颜色"},{default:h((()=>[f(N,{value:e.activeData.option.nameFontColor,"onUpdate:value":o[27]||(o[27]=a=>e.activeData.option.nameFontColor=a),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),f(T,{label:"数据大小"},{default:h((()=>[f(S,{value:e.activeData.option.dataFontSize,"onUpdate:value":o[28]||(o[28]=a=>e.activeData.option.dataFontSize=a),min:12,max:25,placeholder:"请输入"},null,8,["value"])])),_:1}),f(T,{label:"数据加粗"},{default:h((()=>[f(x,{checked:e.activeData.option.dataFontWeight,"onUpdate:checked":o[29]||(o[29]=a=>e.activeData.option.dataFontWeight=a)},null,8,["checked"])])),_:1}),f(T,{label:"数据颜色"},{default:h((()=>[f(N,{value:e.activeData.option.dataFontColor,"onUpdate:value":o[30]||(o[30]=a=>e.activeData.option.dataFontColor=a),size:"small"},null,8,["value"])])),_:1})],64)),f(Ia,{onRegister:g(l),onChange:k},null,8,["onRegister"]),f(Za,{onRegister:g(i),onChange:w},null,8,["onRegister"])])),_:1})}}}),et={class:"options-list"},at={class:"select-item"},tt=["onClick"],lt={class:"add-btn"},ot=s({__name:"RTabSet",props:["activeData","showType"],setup(e){const a=e,t=[{id:"",fullName:"默认"},{id:"card",fullName:"选项卡"}],l=[{id:"top",fullName:"顶部"},{id:"left",fullName:"左侧"},{id:"right",fullName:"右侧"},{id:"bottom",fullName:"底部"}],{createMessage:o,createConfirm:i}=N(),{t:n}=W();function p(){const e=I();a.activeData.children.push({title:"New Tab "+e,titleI18nCode:"",name:e,icon:"",children:[]})}return(c,u)=>{const d=r("jnpf-radio"),s=r("a-form-item"),y=r("a-divider"),k=r("jnpf-i18n-input"),b=r("JnpfIconPicker"),w=r("a-button"),x=r("a-collapse-panel");return v(),m(x,null,{header:h((()=>u[3]||(u[3]=[_("标签设置")]))),default:h((()=>["pc"===e.showType?(v(),m(s,{key:0,label:"风格类型"},{default:h((()=>[f(d,{value:e.activeData.type,"onUpdate:value":u[0]||(u[0]=a=>e.activeData.type=a),options:t,optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value"])])),_:1})):D("",!0),"pc"===e.showType?(v(),m(s,{key:1,label:"选项卡位置"},{default:h((()=>[f(d,{value:e.activeData.tabPosition,"onUpdate:value":u[1]||(u[1]=a=>e.activeData.tabPosition=a),options:l,optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value"])])),_:1})):D("",!0),f(y,null,{default:h((()=>u[4]||(u[4]=[_("标签页配置")]))),_:1,__:[4]}),T("div",et,[f(g(aa),{modelValue:e.activeData.children,"onUpdate:modelValue":u[2]||(u[2]=a=>e.activeData.children=a),animation:300,group:"selectItem",handle:".option-drag",itemKey:"name"},{item:h((({element:t,index:l})=>[T("div",at,[u[6]||(u[6]=T("div",{class:"select-line-icon option-drag"},[T("i",{class:"icon-ym icon-ym-darg"})],-1)),f(k,{class:"flex-1",value:t.title,"onUpdate:value":e=>t.title=e,i18n:t.titleI18nCode,"onUpdate:i18n":e=>t.titleI18nCode=e,placeholder:"标签名称"},null,8,["value","onUpdate:value","i18n","onUpdate:i18n"]),U(f(b,{class:"!w-130px",value:t.icon,"onUpdate:value":e=>t.icon=e},null,8,["value","onUpdate:value"]),[[S,"pc"===e.showType]]),T("div",{class:"close-btn select-line-icon",onClick:e=>function(e,t){let l=a.activeData.children;if(l.length<2)return o.warning("最后一项不能删除");i({iconType:"warning",title:n("common.tipTitle"),content:"删除后不能撤销，确定要删除吗?",onOk:()=>{if(a.activeData.active===t.name){let t=l[e+1]||l[e-1];t&&(a.activeData.active=t.name)}a.activeData.children.splice(e,1)}})}(l,t)},u[5]||(u[5]=[T("i",{class:"icon-ym icon-ym-btn-clearn"},null,-1)]),8,tt)])])),_:1},8,["modelValue"]),T("div",lt,[f(w,{type:"link",preIcon:"icon-ym icon-ym-btn-add",onClick:p},{default:h((()=>u[7]||(u[7]=[_("添加标签页")]))),_:1,__:[7]})])])])),_:1})}}}),it={key:0,class:"drag-handler icon-ym icon-ym-darg",title:"点击拖动"},nt={key:1,class:"flex"},pt={key:1},ct={key:1},ut={key:1},dt={key:1},st={key:1},rt={key:1},vt=s({__name:"RNoticeColumnModal",emits:["register","change"],setup(e,{emit:a}){const t=L({list:[],showType:"",type:1,columns:[],noticeTypeList:[]}),{showType:l,noticeTypeList:o}=J(t),i=a,{createMessage:n}=N(),p=F(),[c,{closeModal:u}]=le((async function(e){t.list=JSON.parse(JSON.stringify(e.data)),t.showType=e.showType||"pc",t.type=e.type||1,t.columns=1==t.type&&"pc"==t.showType?d:s,t.noticeTypeList=await p.getDictionaryData("NoticeType"),t.noticeTypeList.map((e=>(e.id=e.enCode,e))),C((()=>function(){const e=document.querySelector(".carousel-table .ant-table-tbody");Qe.create(e,{handle:".drag-handler",animation:150,easing:"cubic-bezier(1, 0, 0, 1)",onStart:()=>{},onEnd:({newIndex:e,oldIndex:a})=>{const l=t.list.splice(a,1)[0];t.list.splice(e,0,l)}})}()))})),d=[{title:"拖动",dataIndex:"drag",key:"drag",align:"center",width:50},{title:"名称",dataIndex:"fullName",key:"fullName",width:320},{title:"是否显示",dataIndex:"show",key:"show",width:80,align:"center"},{title:"排序",dataIndex:"sortable",key:"sortable",width:60,align:"center"},{title:"冻结方式",dataIndex:"fixed",key:"fixed",width:160},{title:"对齐方式",dataIndex:"align",key:"align",width:160},{title:"宽度",dataIndex:"width",key:"width",width:160}],s=[{title:"名称",dataIndex:"fullName",key:"fullName",width:320},{title:"是否显示",dataIndex:"show",key:"show",width:80,align:"center"},{title:"大小",dataIndex:"fontSize",key:"fontSize",width:150},{title:"加粗",dataIndex:"fontWeight",key:"fontWeight",width:80,align:"center"},{title:"颜色",dataIndex:"fontColor",key:"fontColor",width:80,align:"center"}],k=[{id:"none",fullName:"无"},{id:"left",fullName:"左冻结"},{id:"right",fullName:"右冻结"}],_=[{id:"left",fullName:"左对齐"},{id:"center",fullName:"居中对齐"},{id:"right",fullName:"右对齐"}],w=[{id:1,fullName:"创建时间"},{id:2,fullName:"发布时间"}],T=[{id:1,fullName:"创建人"},{id:2,fullName:"发布人"}];function U(){if(!t.list.length)return n.warning("数据不能为空");for(let e=0;e<t.list.length;e++){const a=t.list[e];if(!a.fullName)return n.warning("名称不能为空");if(!a.filedName)return n.warning("名称字段不能为空")}i("change",t.list),C((()=>u()))}return(e,a)=>{const l=r("jnpf-i18n-input"),i=r("jnpf-select"),n=r("a-switch"),p=r("a-checkbox"),u=r("a-input-number"),d=r("jnpf-color-picker"),s=r("a-table");return v(),m(g(oe),x(e.$attrs,{width:"1000px",class:"jnpf-modal-portal",onRegister:g(c),title:"选项设置",onOk:U,destroyOnClose:""}),{default:h((()=>[f(s,{"data-source":t.list,columns:t.columns,size:"small",pagination:!1,rowKey:"id",class:"carousel-table"},{bodyCell:h((({column:e,record:a})=>{return["drag"===e.key?(v(),y("i",it)):D("",!0),"fullName"===e.key?(v(),y("div",nt,[f(l,{class:"w-50%",value:a.fullName,"onUpdate:value":e=>a.fullName=e,i18n:a.fullNameI18nCode,"onUpdate:i18n":e=>a.fullNameI18nCode=e,placeholder:"请输入",allowClear:"",disabled:"classify"===a.filedName},null,8,["value","onUpdate:value","i18n","onUpdate:i18n","disabled"]),"classify"==a.filedName?(v(),m(i,{key:0,class:"w-50% !ml-5px",value:a.classify,"onUpdate:value":e=>a.classify=e,options:g(o),placeholder:"请选择",multiple:"",showSearch:""},null,8,["value","onUpdate:value","options"])):D("",!0),"time"==a.filedName?(v(),m(i,{key:1,class:"w-50% !ml-5px",value:a.timeClassify,"onUpdate:value":e=>a.timeClassify=e,options:w,placeholder:"请选择",showSearch:""},null,8,["value","onUpdate:value"])):D("",!0),"user"==a.filedName?(v(),m(i,{key:2,class:"w-50% !ml-5px",value:a.userClassify,"onUpdate:value":e=>a.userClassify=e,options:T,placeholder:"请选择",showSearch:""},null,8,["value","onUpdate:value"])):D("",!0)])):D("",!0),"show"===e.key?(v(),y(b,{key:2},[(c=a.filedName,"app"==t.showType&&"classify"==c||"pc"==t.showType&&1===t.type||"pc"==t.showType&&("classify"==c||"content"==c)?(v(),m(n,{key:0,checked:a.show,"onUpdate:checked":e=>a.show=e,size:"small"},null,8,["checked","onUpdate:checked"])):D("",!0))],64)):D("",!0),"sortable"===e.key?(v(),m(p,{key:3,check:a.sortable,"onUpdate:check":e=>a.sortable=e},null,8,["check","onUpdate:check"])):D("",!0),"fixed"===e.key?(v(),y(b,{key:4},["classify"!==a.filedName?(v(),m(i,{key:0,value:a.fixed,"onUpdate:value":e=>a.fixed=e,options:k,placeholder:"请选择",showSearch:""},null,8,["value","onUpdate:value"])):(v(),y("span",pt))],64)):D("",!0),"align"===e.key?(v(),y(b,{key:5},["classify"!==a.filedName?(v(),m(i,{key:0,value:a.align,"onUpdate:value":e=>a.align=e,options:_,placeholder:"请选择",showSearch:""},null,8,["value","onUpdate:value"])):(v(),y("span",ct))],64)):D("",!0),"width"===e.key?(v(),y(b,{key:6},["classify"!==a.filedName?(v(),m(u,{key:0,value:a.width,"onUpdate:value":e=>a.width=e,min:0,max:9999,placeholder:"请输入"},null,8,["value","onUpdate:value"])):(v(),y("span",ut))],64)):D("",!0),"fontSize"===e.key?(v(),y(b,{key:7},["classify"!==a.filedName?(v(),m(u,{key:0,value:a.fontSize,"onUpdate:value":e=>a.fontSize=e,min:12,max:25,placeholder:"请输入"},null,8,["value","onUpdate:value"])):(v(),y("span",dt))],64)):D("",!0),"fontWeight"===e.key?(v(),y(b,{key:8},["classify"!==a.filedName?(v(),m(n,{key:0,checked:a.fontWeight,"onUpdate:checked":e=>a.fontWeight=e,size:"small"},null,8,["checked","onUpdate:checked"])):(v(),y("span",st))],64)):D("",!0),"fontColor"===e.key?(v(),y(b,{key:9},["classify"!==a.filedName?(v(),m(d,{key:0,value:a.fontColor,"onUpdate:value":e=>a.fontColor=e,size:"small"},null,8,["value","onUpdate:value"])):(v(),y("span",rt))],64)):D("",!0)];var c})),_:1},8,["data-source","columns"])])),_:1},16,["onRegister"])}}}),yt=s({__name:"RNoticeSet",props:["activeData","showType"],setup(e){const a=e,[t,{openModal:l}]=ie(),o=[{fullName:"纵向1",id:1},{fullName:"纵向2",id:2},{fullName:"横向",id:3}],i=[{fullName:"表格",id:1},{fullName:"列表（横向）",id:2},{fullName:"列表（纵向）",id:3}];function n(){a.activeData.renderKey=+new Date}function p(e,t){l(!0,{data:e,type:t||"",showType:a.showType})}function c(e){e&&("app"===a.showType?a.activeData.option.appColumnList=e:1==a.activeData.option.styleType?a.activeData.option.columnData=e:a.activeData.option.rowData=e,n())}return(a,l)=>{const u=r("jnpf-select"),d=r("a-form-item"),s=r("a-switch"),k=r("BasicHelp"),w=r("a-divider"),T=r("a-input-number"),x=r("jnpf-color-picker"),C=r("jnpf-radio"),U=r("a-button"),S=r("a-collapse-panel");return v(),m(S,null,{header:h((()=>l[22]||(l[22]=[_("公告通知设置")]))),default:h((()=>[f(d,{label:"风格类型"},{default:h((()=>[f(u,{value:e.activeData.option["pc"==e.showType?"styleType":"appStyleType"],"onUpdate:value":l[0]||(l[0]=a=>e.activeData.option["pc"==e.showType?"styleType":"appStyleType"]=a),options:"pc"==e.showType?i:o,placeholder:"请选择",showSearch:"",onChange:n},null,8,["value","options"])])),_:1}),"pc"==e.showType?(v(),y(b,{key:0},[1==e.activeData.option.styleType?(v(),y(b,{key:0},[f(d,{label:"显示边框"},{default:h((()=>[f(s,{checked:e.activeData.option.border,"onUpdate:checked":l[1]||(l[1]=a=>e.activeData.option.border=a)},null,8,["checked"])])),_:1}),f(d,null,{label:h((()=>[l[23]||(l[23]=_("溢出省略")),f(k,{text:["启用：溢出省略号显示；","禁用：显示全部信息，溢出换行显示"]})])),default:h((()=>[f(s,{checked:e.activeData.option.showOverflow,"onUpdate:checked":l[2]||(l[2]=a=>e.activeData.option.showOverflow=a)},null,8,["checked"])])),_:1}),f(w,null,{default:h((()=>l[24]||(l[24]=[_("表头设置")]))),_:1,__:[24]}),f(d,{label:"显示表头"},{default:h((()=>[f(s,{checked:e.activeData.option.showHeader,"onUpdate:checked":l[3]||(l[3]=a=>e.activeData.option.showHeader=a),onChange:n},null,8,["checked"])])),_:1}),e.activeData.option.showHeader?(v(),y(b,{key:0},[f(d,{label:"字体大小"},{default:h((()=>[f(T,{value:e.activeData.option.headerFontSize,"onUpdate:value":l[4]||(l[4]=a=>e.activeData.option.headerFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(d,{label:"字体加粗"},{default:h((()=>[f(s,{checked:e.activeData.option.headerFontWeight,"onUpdate:checked":l[5]||(l[5]=a=>e.activeData.option.headerFontWeight=a)},null,8,["checked"])])),_:1}),f(d,{label:"字体颜色"},{default:h((()=>[f(x,{value:e.activeData.option.headerFontColor,"onUpdate:value":l[6]||(l[6]=a=>e.activeData.option.headerFontColor=a),size:"small"},null,8,["value"])])),_:1}),f(d,{label:"字体位置"},{default:h((()=>[f(C,{value:e.activeData.option.headerLeft,"onUpdate:value":l[7]||(l[7]=a=>e.activeData.option.headerLeft=a),options:g(fe),optionType:"button","button-style":"solid",class:"right-radio"},null,8,["value","options"])])),_:1}),f(d,{label:"背景色"},{default:h((()=>[f(x,{value:e.activeData.option.headerBgColor,"onUpdate:value":l[8]||(l[8]=a=>e.activeData.option.headerBgColor=a),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),f(w,null,{default:h((()=>l[25]||(l[25]=[_("表格设置")]))),_:1,__:[25]}),f(d,{label:"显示序号"},{default:h((()=>[f(s,{checked:e.activeData.option.tableIndex,"onUpdate:checked":l[9]||(l[9]=a=>e.activeData.option.tableIndex=a)},null,8,["checked"])])),_:1}),f(d,{label:"显示条数"},{default:h((()=>[f(T,{value:e.activeData.option.noticeCount,"onUpdate:value":l[10]||(l[10]=a=>e.activeData.option.noticeCount=a),placeholder:"请输入",min:1,max:50,onChange:n},null,8,["value"])])),_:1}),f(d,{label:"字体大小"},{default:h((()=>[f(T,{value:e.activeData.option.tableFontSize,"onUpdate:value":l[11]||(l[11]=a=>e.activeData.option.tableFontSize=a),placeholder:"请输入",min:12,max:25},null,8,["value"])])),_:1}),f(d,{label:"字体颜色"},{default:h((()=>[f(x,{value:e.activeData.option.tableFontColor,"onUpdate:value":l[12]||(l[12]=a=>e.activeData.option.tableFontColor=a),size:"small"},null,8,["value"])])),_:1})],64)):D("",!0),1!=e.activeData.option.styleType?(v(),y(b,{key:1},[f(d,{label:"显示图片"},{default:h((()=>[f(s,{checked:e.activeData.option.showImage,"onUpdate:checked":l[13]||(l[13]=a=>e.activeData.option.showImage=a)},null,8,["checked"])])),_:1}),f(d,{label:"显示条数"},{default:h((()=>[f(T,{value:e.activeData.option.noticeCount,"onUpdate:value":l[14]||(l[14]=a=>e.activeData.option.noticeCount=a),placeholder:"请输入",min:1,max:50,onChange:n},null,8,["value"])])),_:1})],64)):D("",!0),f(d,{label:"背景色"},{default:h((()=>[f(x,{value:e.activeData.option.tableBgColor,"onUpdate:value":l[15]||(l[15]=a=>e.activeData.option.tableBgColor=a),size:"small"},null,8,["value"])])),_:1}),f(d,{label:"奇行颜色"},{default:h((()=>[f(x,{value:e.activeData.option.tableOddLineColor,"onUpdate:value":l[16]||(l[16]=a=>e.activeData.option.tableOddLineColor=a),size:"small"},null,8,["value"])])),_:1}),f(d,{label:"偶行颜色"},{default:h((()=>[f(x,{value:e.activeData.option.tableEvenLineColor,"onUpdate:value":l[17]||(l[17]=a=>e.activeData.option.tableEvenLineColor=a),size:"small"},null,8,["value"])])),_:1}),1==e.activeData.option.styleType?(v(),m(w,{key:2},{default:h((()=>l[26]||(l[26]=[_("列数据设置")]))),_:1,__:[26]})):D("",!0),f(d,{label:1==e.activeData.option.styleType?"列数据":"行数据"},{default:h((()=>[f(U,{onClick:l[18]||(l[18]=a=>p(1==e.activeData.option.styleType?e.activeData.option.columnData:e.activeData.option.rowData,e.activeData.option.styleType))},{default:h((()=>l[27]||(l[27]=[_(" 设置 ")]))),_:1,__:[27]})])),_:1},8,["label"]),e.activeData.propsApi?(v(),m(ca,{key:3,refresh:e.activeData.refresh},null,8,["refresh"])):D("",!0)],64)):(v(),y(b,{key:1},[3!=e.activeData.option.appStyleType?(v(),m(d,{key:0,label:"显示图片"},{default:h((()=>[f(s,{checked:e.activeData.option.showImage,"onUpdate:checked":l[19]||(l[19]=a=>e.activeData.option.showImage=a)},null,8,["checked"])])),_:1})):D("",!0),f(d,{label:"行数据"},{default:h((()=>[f(U,{onClick:l[20]||(l[20]=a=>p(e.activeData.option.appColumnList))},{default:h((()=>l[28]||(l[28]=[_(" 设置 ")]))),_:1,__:[28]})])),_:1}),f(d,{label:"显示条数"},{default:h((()=>[f(T,{value:e.activeData.option.appCount,"onUpdate:value":l[21]||(l[21]=a=>e.activeData.option.appCount=a),placeholder:"请输入",min:1,max:50,onChange:n},null,8,["value"])])),_:1})],64)),f(vt,{onRegister:g(t),onChange:c},null,8,["onRegister"])])),_:1})}}}),ft=s({__name:"RCustomEcharts",props:["activeData","showType","mapOptions"],setup(e){const a=e,[t,{openModal:l}]=ie();function o(){a.activeData.renderKey=+new Date}function i(){a.activeData.propsApi="",a.activeData.propsName="",a.activeData.templateJson=[],o()}function n(){a.activeData.appPropsApi="",a.activeData.appPropsName="",a.activeData.appTemplateJson=[],o()}function p(e,t){e?(a.activeData.propsApi=e,a.activeData.propsName=t.fullName,a.activeData.refresh.autoRefresh=!1,a.activeData.templateJson=t.parameterJson?JSON.parse(t.parameterJson).map((e=>({...e,relationField:"",sourceType:2}))):[]):(a.activeData.propsApi="",a.activeData.propsName="",a.activeData.templateJson=[]),o()}function c(e,t){e?(a.activeData.appPropsApi=e,a.activeData.appPropsName=t.fullName,a.activeData.appRefresh.autoRefresh=!1,a.activeData.appTemplateJson=t.parameterJson?JSON.parse(t.parameterJson).map((e=>({...e,relationField:"",sourceType:2}))):[]):(a.activeData.appPropsApi="",a.activeData.appPropsName="",a.activeData.appTemplateJson=[]),o()}function u(e){l(!0,{value:JSON.stringify(e)})}function d(e){a.activeData.option=e?JSON.parse(e):[],o()}return(a,l)=>{const o=r("jnpf-radio"),s=r("a-form-item"),k=r("a-button"),w=r("a-collapse-panel");return v(),m(w,null,{header:h((()=>l[4]||(l[4]=[_("自定义设置")]))),default:h((()=>["pc"===e.showType?(v(),y(b,{key:0},[f(s,{label:"数据类型"},{default:h((()=>[f(o,{value:e.activeData.dataType,"onUpdate:value":l[0]||(l[0]=a=>e.activeData.dataType=a),options:g(Le),optionType:"button","button-style":"solid",onChange:i},null,8,["value","options"])])),_:1}),"static"===e.activeData.dataType?(v(),m(s,{key:0,label:"数据设置"},{default:h((()=>[f(k,{onClick:l[1]||(l[1]=a=>u(e.activeData.option))},{default:h((()=>l[5]||(l[5]=[_("设置")]))),_:1,__:[5]})])),_:1})):D("",!0),"dynamic"===e.activeData.dataType?(v(),y(b,{key:1},[f(s,{label:"数据接口"},{default:h((()=>[f(g(Xe),{value:e.activeData.propsApi,title:e.activeData.propsName,popupTitle:"数据接口",onChange:p},null,8,["value","title"])])),_:1}),e.activeData.templateJson?.length?(v(),m(s,{key:0,label:"参数设置"},{default:h((()=>[f(g(ea),{templateJson:e.activeData.templateJson,showSystemFormId:!1,type:2},null,8,["templateJson"])])),_:1})):D("",!0),e.activeData.propsApi?(v(),m(ca,{key:1,refresh:e.activeData.refresh},null,8,["refresh"])):D("",!0)],64)):D("",!0)],64)):(v(),y(b,{key:1},[f(s,{label:"数据类型"},{default:h((()=>[f(o,{value:e.activeData.appDataType,"onUpdate:value":l[2]||(l[2]=a=>e.activeData.appDataType=a),options:g(Le),optionType:"button","button-style":"solid",onChange:n},null,8,["value","options"])])),_:1}),"static"===e.activeData.appDataType?(v(),m(s,{key:0,label:"数据设置"},{default:h((()=>[f(k,{onClick:l[3]||(l[3]=a=>u(e.activeData.appOption))},{default:h((()=>l[6]||(l[6]=[_("设置")]))),_:1,__:[6]})])),_:1})):D("",!0),"dynamic"===e.activeData.appDataType?(v(),y(b,{key:1},[f(s,{label:"数据接口"},{default:h((()=>[f(g(Xe),{value:e.activeData.appPropsApi,title:e.activeData.appPropsName,popupTitle:"数据接口",onChange:c},null,8,["value","title"])])),_:1}),e.activeData.appTemplateJson?.length?(v(),m(s,{key:0,label:"参数设置"},{default:h((()=>[f(g(ea),{templateJson:e.activeData.appTemplateJson,showSystemFormId:!1,type:2},null,8,["templateJson"])])),_:1})):D("",!0),e.activeData.appPropsApi?(v(),m(ca,{key:1,refresh:e.activeData.appRefresh},null,8,["refresh"])):D("",!0)],64)):D("",!0)],64)),f(Ia,{onRegister:g(t),onChange:d},null,8,["onRegister"])])),_:1})}}}),ht={class:"right-box"},mt={class:"filed-box"},Dt=s({__name:"RightPanel",props:["activeData","showType","refresh"],setup(e){const a=L({activeKey:1,activeName:0,menuList:[],appMenuList:[]}),{activeKey:t,activeName:l,menuList:o,appMenuList:i}=J(a),n=e,p=[...Ke,...We,"tableList","customEcharts"],c=k((()=>[{id:"pc",fullName:"Web"},{id:"app",fullName:"App",disabled:"iframe"===n.activeData?.jnpfKey}]));return O((()=>(P({category:"Web"}).then((e=>{a.menuList=(e.data.list||[]).filter((e=>e.children&&e.children.length))})),void P({category:"App"}).then((e=>{a.appMenuList=(e.data.list||[]).filter((e=>e.children&&e.children.length))}))))),(a,n)=>{const u=r("a-tab-pane"),d=r("a-tabs"),s=r("a-collapse"),k=r("jnpf-checkbox"),_=r("a-form-item"),w=r("a-form");return v(),y("div",ht,[f(d,{activeKey:g(t),"onUpdate:activeKey":n[0]||(n[0]=e=>B(t)?t.value=e:null),tabBarGutter:10,class:"average-tabs"},{default:h((()=>[(v(),m(u,{key:1,tab:"控件属性"})),(v(),m(u,{key:2,tab:"门户属性"}))])),_:1},8,["activeKey"]),T("div",mt,[f(g(V),{class:"p-15px !pt-0px"},{default:h((()=>[1===g(t)&&e.activeData&&e.activeData.jnpfKey?(v(),m(w,{key:0,colon:!1,layout:"vertical"},{default:h((()=>[f(s,{activeKey:g(l),"onUpdate:activeKey":n[1]||(n[1]=e=>B(l)?l.value=e:null),accordion:"",ghost:"",expandIconPosition:"end"},{default:h((()=>["tab"!=e.activeData.jnpfKey&&"collapse"!=e.activeData.jnpfKey?(v(),m(da,{key:1,activeData:e.activeData,showType:e.showType,menuList:g(o),appMenuList:g(i)},null,8,["activeData","showType","menuList","appMenuList"])):D("",!0),p.includes(e.activeData.jnpfKey)?D("",!0):(v(),m(Aa,{key:2,activeData:e.activeData,showType:e.showType,menuList:g(o),appMenuList:g(i)},null,8,["activeData","showType","menuList","appMenuList"])),g(Oe).includes(e.activeData.jnpfKey)||"mapChart"==e.activeData.jnpfKey?(v(),y(b,{key:2},[(v(),m(Ba,{key:3,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])),(v(),m(Ka,{key:4,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])),"barChart"==e.activeData.jnpfKey?(v(),m(Wa,{key:5,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0)],64)):D("",!0),"barChart"==e.activeData.jnpfKey||"lineChart"==e.activeData.jnpfKey?(v(),m(Va,{key:6,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0),"barChart"==e.activeData.jnpfKey||"lineChart"==e.activeData.jnpfKey?(v(),m(Pa,{key:7,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0),g(Oe).includes(e.activeData.jnpfKey)?(v(),m($a,{key:8,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0),g(Oe).includes(e.activeData.jnpfKey)||"mapChart"==e.activeData.jnpfKey?(v(),y(b,{key:6},[(v(),m(Ha,{key:9,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])),"pc"==e.showType?(v(),m(Ea,{key:10,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0)],64)):D("",!0),g(Oe).includes(e.activeData.jnpfKey)?(v(),y(b,{key:7},[(v(),m(Ga,{key:11,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])),(v(),m(qa,{key:12,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"]))],64)):D("",!0),g(Me).includes(e.activeData.jnpfKey)?(v(),m(Oa,{key:13,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0),"tableList"==e.activeData.jnpfKey?(v(),m(Qa,{key:14,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0),g(Be).includes(e.activeData.jnpfKey)?(v(),m(Ma,{key:19,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0),"tab"==e.activeData.jnpfKey?(v(),m(ot,{key:15,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0),"notice"==e.activeData.jnpfKey?(v(),m(yt,{key:17,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0),"customEcharts"==e.activeData.jnpfKey?(v(),m(ft,{key:18,activeData:e.activeData,showType:e.showType},null,8,["activeData","showType"])):D("",!0)])),_:1},8,["activeKey"]),f(_,{label:"多端显示",class:"!mt-10px"},{default:h((()=>[f(k,{value:e.activeData.visibility,"onUpdate:value":n[2]||(n[2]=a=>e.activeData.visibility=a),options:c.value},null,8,["value","options"])])),_:1})])),_:1})):D("",!0),2===g(t)?(v(),m(w,{key:1,colon:!1,labelAlign:"left",layout:"vertical"},{default:h((()=>[f(ca,{class:"pt-15px",refresh:e.refresh},null,8,["refresh"])])),_:1})):D("",!0)])),_:1})])])}}}),kt={class:"jnpf-full-modal-header"},bt={class:"main !p-0 h-full"},gt={key:0,class:"custom-page"},_t=["src"],wt=X(s({__name:"Preview",setup(e){const t=L({layoutData:[],id:"",type:null,linkType:null,currentView:null,url:"",loading:!1,timerList:[]}),{layoutData:l,type:o,currentView:i,linkType:n,url:p,loading:c}=J(t),{t:u}=W(),[d,{closeModal:s}]=le((function(e){t.id="",t.layoutData=[],e.id?(t.id=e.id||"",t.loading=!0,a(t.id).then((e=>{if(t.type=e.data.type||0,t.linkType=e.data.linkType||0,t.url=e.data.customUrl,!e.data)return t.loading=!1;if(1===e.data.type){if(!e.data.customUrl&&1===t.linkType)return;const a=`${e.data.customUrl}`;t.currentView=$(H((()=>E(a))))}else{if(!e.data.formData)return t.loading=!1;let a=JSON.parse(e.data.formData);t.layoutData=k(JSON.parse(JSON.stringify(a.layout))||[])}t.loading=!1}))):t.layoutData=k(JSON.parse(JSON.stringify(e.layout)))}));function k(e){const a=e=>{for(let t=0;t<e.length;t++){const l=e[t];Array.isArray(l.visibility)&&l.visibility.includes("pc")||!l.jnpfKey||(e.splice(t,1),t--),l.children&&l.children.length&&a(l.children)}};return a(e),e}return(e,a)=>{const k=r("a-button"),b=r("a-space"),w=G("loading");return v(),m(g(oe),x(e.$attrs,{onRegister:g(d),defaultFullscreen:"",footer:null,closable:!1,keyboard:!1,destroyOnClose:"",class:"jnpf-full-modal full-modal jnpf-preview-portal-modal designer-modal"}),{title:h((()=>[T("div",kt,[a[1]||(a[1]=T("div",{class:"header-title"},[T("img",{src:q,class:"header-logo"}),T("span",{class:"header-dot"}),T("p",{class:"header-txt"},"门户预览")],-1)),f(b,{class:"options-box",size:10},{default:h((()=>[f(k,{onClick:a[0]||(a[0]=e=>g(s)())},{default:h((()=>[_(M(g(u)("common.cancelText")),1)])),_:1})])),_:1})])])),default:h((()=>[U((v(),y("div",bt,[1===g(o)?(v(),y("div",gt,[0===g(n)?(v(),m(Y(g(i)),{key:0})):D("",!0),1===g(n)?(v(),y("embed",{key:1,src:g(p),width:"100%",height:"100%",type:"text/html"},null,8,_t)):D("",!0)])):(v(),m(pe,{key:1,layout:g(l),mask:"",detailed:!t.id},null,8,["layout","detailed"]))])),[[w,g(c)]])])),_:1},16,["onRegister"])}}}),[["__scopeId","data-v-7d5eea83"]]),Tt={class:"portal-design-box"},xt={class:"center-box"},Ct={class:"action-bar"},Ut={class:"action-bar-left"},St={class:"components-title"},Nt={class:"action-bar-right"},Lt={key:0},At={key:0,class:"mask"},It={class:"drawing-item-action"},jt=["title","onClick"],Ft=["title"],zt={class:"empty-info"},Rt={key:1,id:"ipad"},Jt={class:"outer-ipad"},Ot={class:"ipad-body"},Mt=["onClick"],Bt={key:0,class:"mask"},Kt={class:"drawing-item-action"},Wt=["title","onClick"],Vt=["title"],Pt={class:"empty-info app-empty-info"},$t=s({__name:"PortalDesigner",props:["conf","showType"],emits:["register"],setup(e,{expose:a,emit:t}){const l=L({componentsList:[{title:"布局控件",list:ce},{title:"基础控件",list:ue},{title:"系统控件",list:de},{title:"图表控件",list:se}],layout:[],refresh:{},config:{},copyDrawingList:"",activeId:"",activeData:null}),{componentsList:o,refresh:i,activeId:n,activeData:p,layout:c}=J(l),u={layoutId:100,layout:[],refresh:{autoRefresh:!1,autoRefreshTime:"5"}};a({getData:function(){return new Promise(((e,a)=>{const t=e=>{for(let l=0;l<e.length;l++){const o=e[l],i=o.option||{},n=o.card||{};if(n.cardRightBtn){if("1"===n.linkType&&!n.urlAddress){a({msg:`${o.label}控件“菜单名称”属性不能为空`,target:1});break}if("2"===n.linkType){if(!n.urlAddress){a({msg:`${o.label}控件“链接地址”属性不能为空`,target:1});break}if(!j(n.urlAddress)){a({msg:"请输入正确的链接地址",target:1});break}}if("1"===n.appLinkType&&!n.appUrlAddress){a({msg:`${o.label}控件“菜单名称”属性不能为空`,target:1});break}if("2"===n.appLinkType){if(!n.appUrlAddress){a({msg:`${o.label}控件“链接地址”属性不能为空`,target:1});break}if(!j(n.appUrlAddress)){a({msg:"请输入正确的链接地址",target:1});break}}}if("1"===i.linkType&&!i.urlAddress){a({msg:`${o.label}控件“菜单名称”属性不能为空`,target:1});break}if("2"===i.linkType){if(!i.urlAddress){a({msg:`${o.label}控件“链接地址”属性不能为空`,target:1});break}if(!j(i.urlAddress)){a({msg:"请输入正确的链接地址",target:1});break}}if("1"===i.appLinkType&&!i.appUrlAddress){a({msg:`${o.label}控件“菜单名称”属性不能为空`,target:1});break}if("2"===i.appLinkType){if(!i.appUrlAddress){a({msg:`${o.label}控件“链接地址”属性不能为空`,target:1});break}if(!j(i.appUrlAddress)){a({msg:"请输入正确的链接地址",target:1});break}}if(("video"==o.jnpfKey||"image"==o.jnpfKey)&&2==i.styleType){const e="video"==o.jnpfKey?"视频":"图片";if(!i.defaultValue){a({msg:`${o.label}控件“${e}地址”属性不能为空`,target:1});break}if(!j(i.defaultValue)){a({msg:`请输入正确的${e}地址`,target:1});break}}if("iframe"==o.jnpfKey){if(!i.defaultValue){a({msg:`${o.label}控件“链接地址”属性不能为空`,target:1});break}if(!j(i.defaultValue)){a({msg:"请输入正确的链接地址",target:1});break}}if(Be.includes(o.jnpfKey)&&i.urlAddress&&!j(i.urlAddress)){a({msg:"请输入正确的跳转地址",target:1});break}o.children&&Array.isArray(o.children)&&t(o.children)}};t(l.layout),l.config.layout=l.layout,e({formData:l.config,target:1})}))},handleData:le});const d=Z("emitter"),{t:s}=W(),k=e,{createConfirm:w}=N(),[x,{openModal:A}]=ie(),{initRedo:I,addRecord:F,handleUndo:z,handleRedo:R,getCanUndo:B,getCanRedo:P}=Ye();function $(e,a,t){let o=JSON.parse(JSON.stringify(e)),i=0,n=l.config.layoutId;if(l.layout.length){let e={y:-1,h:0};for(let a=0;a<l.layout.length;a++)l.layout[a].y>=e.y&&(e=l.layout[a]);i=e.y+e.h}let p={...o,i:n,x:0,y:i};if(Pe.includes(p.jnpfKey)&&"copy"!=a&&(p.option.defaultValue=H(p)),"customEcharts"==p.jnpfKey&&"copy"!=a&&(p.option=H(p),p.appOption=function(e){const a=e.jnpfKey;if("customEcharts"==a)return $e.customAppEchartsData}(p)),t){if("card"==t.jnpfKey&&(t.children=[p]),"tab"==t.jnpfKey)for(let l=0;l<t.children.length;l++){t.children[l].name==t.active&&(t.children[l].children=[p])}}else l.layout.push(p);l.activeId=l.config.layoutId,l.activeData=p,l.config.layoutId++,E(l.layout)}function H(e){const a=e.jnpfKey;return"text"==a?"JNPF快速开发平台":"image"==a?"https://app.cdn.jnpfsoft.com/image/3.2/banner1.png":"video"==a?"https://cdn.jnpfsoft.com/2022/video/index_video.mp4":"barChart"==a||"lineChart"==a||"pieChart"==a?$e.baseBarData:"radarChart"==a?$e.radarData:"mapChart"==a?He:"rankList"==a?Ee:"timeAxis"==a?Ge:"tableList"==a?qe:"customEcharts"==a?$e.customEchartsData:void 0}function E(e){JSON.stringify(e)!=l.copyDrawingList&&(l.copyDrawingList=JSON.stringify(e),F(e))}function G(e=0){l.activeId="",l.activeData={},l.layout.length&&(l.activeData=l.layout[e],l.activeId=l.layout[e].i)}function q(){}function Y(){E(l.layout)}function X(e){l.activeId=e.i,l.activeData=e}function ae(e){l.layout=l.layout.filter((a=>a.i!==e)),l.activeId="",l.activeData={},E(l.layout),C((()=>{const e=l.layout.length;e&&G(e-1)}))}function te(){w({iconType:"warning",title:s("common.tipTitle"),content:s("formGenerator.cleanComponentTip"),onOk:()=>{l.layout=[],l.config.layoutId=100,l.activeId="",l.activeData={},E(l.layout)}})}function le(e){l.layout=JSON.parse(JSON.stringify(e)),l.copyDrawingList=JSON.stringify(l.layout);let a=!1;const t=e=>{for(let o=0;o<e.length;o++){const i=e[o];i.i===l.activeId&&(l.activeData=i,l.activeId=i.i,a=!0),i.children&&Array.isArray(i.children)&&t(i.children)}};t(l.layout),a||(l.activeData={},l.activeId="")}function oe(){A(!0,{layout:l.layout})}function ne(e){(1==e?z:R)(le)}return O((()=>("object"==typeof k.conf&&null!==k.conf?l.config={...u,...k.conf}:(l.config=JSON.parse(JSON.stringify(u)),l.config.layoutId=100),l.layout=l.config.layout||[],l.refresh=l.config.refresh||{},I(),setTimeout((()=>{E(l.layout),G()}),50),d.on("addComponent",(e=>{$(e.val,"",e.item)})),void d.on("handlerActive",(e=>{X(e)}))))),(a,t)=>{const u=r("a-menu-item"),k=r("a-menu"),w=r("a-dropdown"),C=r("a-button"),N=r("a-tooltip"),L=r("a-divider"),A=r("a-popconfirm"),I=r("grid-item"),j=r("grid-layout");return v(),y("div",Tt,[T("div",xt,[T("div",Ct,[T("div",Ut,[(v(!0),y(b,null,Q(g(o),((e,a)=>(v(),y("div",{key:a,class:"components-part"},[f(w,{placement:"bottom"},{overlay:h((()=>[f(k,{class:"components-menu"},{default:h((()=>[(v(!0),y(b,null,Q(e.list,((e,a)=>(v(),m(u,{class:"components-item",key:a,onClick:a=>$(e)},{default:h((()=>[T("i",{class:K(e.icon)},null,2),_(" "+M(e.label),1)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),default:h((()=>[T("div",St,[_(M(e.title),1),t[2]||(t[2]=T("i",{class:"icon-ym icon-ym-arrow-down"},null,-1))])])),_:2},1024)])))),128))]),T("div",Nt,[f(N,{title:g(s)("common.undoText")},{default:h((()=>[f(C,{type:"text",class:"action-bar-btn",disabled:!g(B),onClick:t[0]||(t[0]=e=>ne(1))},{default:h((()=>t[3]||(t[3]=[T("i",{class:"icon-ym icon-ym-undo"},null,-1)]))),_:1,__:[3]},8,["disabled"])])),_:1},8,["title"]),f(N,{title:g(s)("common.redoText")},{default:h((()=>[f(C,{type:"text",class:"action-bar-btn",disabled:!g(P),onClick:t[1]||(t[1]=e=>ne(2))},{default:h((()=>t[4]||(t[4]=[T("i",{class:"icon-ym icon-ym-redo"},null,-1)]))),_:1,__:[4]},8,["disabled"])])),_:1},8,["title"]),f(L,{type:"vertical",class:"action-bar-divider"}),f(N,{title:g(s)("common.cleanText")},{default:h((()=>[f(C,{type:"text",class:"action-bar-btn",onClick:te},{default:h((()=>t[5]||(t[5]=[T("i",{class:"icon-ym icon-ym-clean"},null,-1)]))),_:1,__:[5]})])),_:1},8,["title"]),f(N,{title:g(s)("common.previewText")},{default:h((()=>[f(C,{type:"text",class:"action-bar-btn",onClick:oe},{default:h((()=>t[6]||(t[6]=[T("i",{class:"icon-ym icon-ym-video-play"},null,-1)]))),_:1,__:[6]})])),_:1},8,["title"])])]),f(g(V),{class:"layout-area"},{default:h((()=>["pc"==e.showType?(v(),y("div",Lt,[g(c).length?(v(),m(j,{key:0,layout:g(c),"row-height":40},{default:h((()=>[(v(!0),y(b,null,Q(g(c),(e=>(v(),m(I,{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i,key:e.i,maxH:e.maxH,minH:e.minH,minW:e.minW,maxW:e.maxW,class:K({"active-item":e.i===g(n)}),onResized:a=>function(e,a){d.emit("eChart"+e);const t=e=>{e.children&&a.children.length&&e.children.map((e=>{e.jnpfKey&&d.emit("eChart"+e.i),e.children&&e.children.length&&t(e)}))};t(a),E(l.layout)}(e.i,e),onMoved:Y,onClick:a=>X(e)},{default:h((()=>[f(re,{item:e,activeId:g(n)},null,8,["item","activeId"]),g(Ve).includes(e.jnpfKey)?D("",!0):(v(),y("div",At)),T("div",It,[T("span",{title:g(s)("common.copyText"),class:"drawing-item-action-item drawing-item-copy",onClick:a=>$(e,"copy")},[f(g(ia))],8,jt),f(A,{title:g(s)("formGenerator.delComponentTip"),class:"drawing-item-action-item drawing-item-delete",onConfirm:a=>ae(e.i)},{default:h((()=>[T("span",{title:g(s)("common.delText")},[f(g(ee))],8,Ft)])),_:2},1032,["title","onConfirm"])])])),_:2},1032,["x","y","w","h","i","maxH","minH","minW","maxW","class","onResized","onClick"])))),128))])),_:1},8,["layout"])):D("",!0),U(T("div",zt,t[7]||(t[7]=[T("img",{src:pa,class:"empty-img"},null,-1)]),512),[[S,!g(c).length]])])):(v(),y("div",Rt,[T("div",Jt,[T("div",Ot,[f(g(V),{class:"center-scrollbar"},{default:h((()=>[g(c).length?(v(),m(g(aa),{key:0,class:"drawing-board",list:g(c),animation:340,group:"componentsGroup","item-key":"i"},{item:h((({element:e})=>[T("div",{class:K(["item-box m-10px portal-tabs-box",{"active-item":e.i===g(n)}]),onClick:a=>X(e)},[f(oa,{activeData:e,activeId:g(n)},null,8,["activeData","activeId"]),g(Ve).includes(e.jnpfKey)?D("",!0):(v(),y("div",Bt)),T("div",Kt,[T("span",{title:g(s)("common.copyText"),class:"drawing-item-action-item drawing-item-copy",onClick:a=>$(e)},[f(g(ia))],8,Wt),f(A,{title:g(s)("formGenerator.delComponentTip"),class:"drawing-item-action-item drawing-item-delete",onConfirm:a=>ae(e.i)},{default:h((()=>[T("span",{title:g(s)("common.delText")},[f(g(ee))],8,Vt)])),_:2},1032,["title","onConfirm"])])],10,Mt)])),_:1},8,["list"])):D("",!0),U(T("div",Pt,t[8]||(t[8]=[T("img",{src:pa,class:"empty-img"},null,-1)]),512),[[S,!g(c).length]])])),_:1})])])]))])),_:1})]),f(Dt,{"active-data":g(p),refresh:g(i),showType:e.showType,onRelationChange:q},null,8,["active-data","refresh","showType"]),f(wt,{onRegister:g(x)},null,8,["onRegister"])])}}}),Ht={class:"jnpf-full-modal-header"},Et={class:"header-title"},Gt={class:"header-txt"},qt={class:"jnpf-device-switch"},Yt=s({__name:"index",emits:["register","reload"],setup(e,{emit:o}){const i=L({dataForm:{},btnLoading:!1,saveBtnLoading:!1,showType:"pc",formData:null,loading:!0,isReload:!1}),{dataForm:n,formData:p,btnLoading:c,saveBtnLoading:u,showType:d,loading:s}=J(i),{t:k}=W(),U=w(),{createMessage:S}=N(),A=o,{prefixCls:I}=ae("basic-portal"),[j,{closeModal:F,changeLoading:z}]=le((function(e){i.isReload=!1,i.dataForm=e,i.showType="pc",i.formData=null,i.dataForm.id&&B()})),[R,{openModal:O}]=ie();function B(){z(!0),i.loading=!0,a(i.dataForm.id).then((e=>{i.dataForm=e.data,i.formData=e.data.formData?JSON.parse(e.data.formData):null,C((()=>{z(!1),i.loading=!1}))})).catch((()=>{z(!1),i.loading=!1}))}function V(e){g(U).getData().then((a=>{i.formData=a.formData;let o={formData:JSON.stringify(i.formData),id:i.dataForm.id};1==e?i.btnLoading=!0:i.saveBtnLoading=!0;(i.dataForm.id?t:l)(o).then((a=>{i.saveBtnLoading=!1,i.btnLoading=!1,i.isReload=!0,1===e?C((()=>O(!0,i.dataForm))):S.success(a.msg)})).catch((()=>{i.saveBtnLoading=!1,i.btnLoading=!1}))})).catch((e=>{e.msg&&S.warning(e.msg)}))}function P(){i.isReload=!0,B()}return(e,a)=>{const t=r("a-tooltip"),l=r("a-button"),o=r("a-space");return v(),y(b,null,[f(g(oe),x(e.$attrs,{onRegister:g(j),defaultFullscreen:"",footer:null,closable:!1,keyboard:!1,class:["jnpf-full-modal full-modal designer-modal",`${g(I)}`]}),{title:h((()=>[T("div",Ht,[T("div",Et,[a[5]||(a[5]=T("img",{src:q,class:"header-logo"},null,-1)),a[6]||(a[6]=T("span",{class:"header-dot"},null,-1)),f(t,{title:g(n).fullName},{default:h((()=>[T("p",Gt,M(g(n).fullName),1)])),_:1},8,["title"])]),T("div",qt,[T("div",{class:K(["jnpf-device-switch-item",{"jnpf-device-switch-item--active":"pc"===g(d)}]),onClick:a[0]||(a[0]=e=>i.showType="pc")},[f(t,{title:"PC"},{default:h((()=>a[7]||(a[7]=[T("i",{class:"icon-ym icon-ym-pc"},null,-1)]))),_:1,__:[7]})],2),T("div",{class:K(["jnpf-device-switch-item",{"jnpf-device-switch-item--active":"app"===g(d)}]),onClick:a[1]||(a[1]=e=>i.showType="app")},[f(t,{title:"APP"},{default:h((()=>a[8]||(a[8]=[T("i",{class:"icon-ym icon-ym-mobile"},null,-1)]))),_:1,__:[8]})],2)]),f(o,{class:"options",size:10},{default:h((()=>[f(l,{shape:"round",type:"primary",onClick:a[2]||(a[2]=e=>V(1)),loading:g(c),disabled:g(u)},{default:h((()=>a[9]||(a[9]=[_("保存并发布")]))),_:1,__:[9]},8,["loading","disabled"]),f(l,{shape:"round",type:"primary",onClick:a[3]||(a[3]=e=>V()),loading:g(u),disabled:g(c)},{default:h((()=>[_(M(g(k)("common.saveText")),1)])),_:1},8,["loading","disabled"]),f(l,{shape:"round",onClick:a[4]||(a[4]=e=>(F(),void(i.isReload&&A("reload"))))},{default:h((()=>[_(M(g(k)("common.closeText")),1)])),_:1})])),_:1})])])),default:h((()=>[g(s)?D("",!0):(v(),m($t,{key:0,ref_key:"portalDesigner",ref:U,conf:g(p),showType:g(d)},null,8,["conf","showType"]))])),_:1},16,["onRegister","class"]),f(na,{onRegister:g(R),onReload:P},null,8,["onRegister"])],64)}}}),Xt={class:"jnpf-content-wrapper"},Zt={class:"jnpf-content-wrapper-center"},Qt={class:"jnpf-content-wrapper-content"},el=s({name:"onlineDev-visualPortal",__name:"index",setup(e){const{createMessage:a}=N(),t=F(),{t:l}=W(),[s,{openModal:k}]=ie(),[b,{openModal:x}]=ie(),[C,{openModal:U}]=ie(),[S,{openModal:L}]=ie(),[A,{openModal:I}]=ie(),j=w([]),[z,{reload:R,getForm:J}]=c({api:o,columns:[{title:"名称",dataIndex:"fullName",width:200},{title:"编码",dataIndex:"enCode",width:180},{title:"分类",dataIndex:"category",width:100},{title:"类型",dataIndex:"type",width:100,align:"center",customRender:({record:e})=>1===e.type?"配置路径":"门户设计"},{title:"锁定",dataIndex:"enabledLock",width:100,align:"center",customRender:({record:e})=>1===e.type?"":1===e.enabledLock?"是":"否"},{title:"创建人",dataIndex:"creatorUser",width:120},{title:"创建时间",dataIndex:"creatorTime",width:150,format:"date|YYYY-MM-DD HH:mm:ss"},{title:"最后修改时间",dataIndex:"lastModifyTime",width:150,format:"date|YYYY-MM-DD HH:mm:ss"},{title:"排序",dataIndex:"sortCode",width:70,align:"center"},{title:"发布状态",dataIndex:"isRelease",width:80,align:"center"}],useSearchForm:!0,formConfig:{schemas:[{field:"keyword",label:l("common.keyword"),component:"Input",componentProps:{placeholder:l("common.enterKeyword"),submitOnPressEnter:!0}},{field:"category",label:"分类",component:"Select",componentProps:{placeholder:"请选择",showSearch:!0}},{field:"type",label:"类型",component:"Select",componentProps:{placeholder:"请选择",showSearch:!0,options:[{fullName:"配置路径",id:1},{fullName:"门户设计",id:0}]}},{field:"enabledLock",label:"锁定",component:"Select",componentProps:{placeholder:"请选择",showSearch:!0,options:[{fullName:"是",id:1},{fullName:"否",id:0}]}},{field:"isRelease",label:"发布状态",component:"Select",componentProps:{placeholder:"请选择",options:[{fullName:"未发布",id:0},{fullName:"已发布",id:1},{fullName:"已修改",id:2}]}}]},actionColumn:{width:180,title:"操作",dataIndex:"action"}});function B(e){return[{label:l("common.editText"),onClick:V.bind(null,e.id)},{label:"发布",color:"error",onClick:$.bind(null,e.id)},{label:"设计",disabled:0!==e.type,onClick:H.bind(null,e)}]}function K(e){return[{label:l("common.previewText"),onClick:G.bind(null,e.id)},{label:l("common.copyText"),modelConfirm:{content:"您确定要复制该门户, 是否继续?",onOk:Y.bind(null,e.id)}},{label:l("common.exportText"),modelConfirm:{content:"您确定要导出该门户, 是否继续?",onOk:X.bind(null,e.id)}},{label:l("common.delText"),modelConfirm:{onOk:P.bind(null,e.id)}}]}function V(e=""){k(!0,{id:e,categoryList:j})}function P(e){i(e).then((e=>{a.success(e.msg),R()}))}function $(e){U(!0,{id:e})}function H(e){x(!0,e)}function E(e){H(e)}function G(e){L(!0,{type:"portal",id:e})}function q({id:e}){I(!0,{id:e})}function Y(e){n(e).then((e=>{a.success(e.msg),R()}))}function X(e){p(e).then((e=>{te({url:e.data.url})}))}return O((()=>{!async function(){const e=await t.getDictionaryData("businessType");j.value=e,J().updateSchema({field:"category",componentProps:{options:e}})}()})),(e,a)=>{const t=r("a-button"),o=r("jnpf-upload-btn"),i=r("a-tag");return v(),y("div",Xt,[T("div",Zt,[T("div",Qt,[f(g(u),{onRegister:g(z)},{tableTitle:h((()=>[f(t,{type:"primary",preIcon:"icon-ym icon-ym-btn-add",onClick:a[0]||(a[0]=e=>V())},{default:h((()=>[_(M(g(l)("common.addText")),1)])),_:1}),f(o,{url:"/api/visualdev/Portal/Actions/Import",accept:".vp",onOnSuccess:g(R)},null,8,["onOnSuccess"])])),bodyCell:h((({column:e,record:a})=>["isRelease"===e.key?(v(),m(i,{key:0,color:1===a.isRelease?"success":2==a.isRelease?"warning":""},{default:h((()=>[_(M(1==a.isRelease?"已发布":2==a.isRelease?"已修改":"未发布"),1)])),_:2},1032,["color"])):D("",!0),"action"===e.key?(v(),m(g(d),{key:1,actions:B(a),dropDownActions:K(a)},null,8,["actions","dropDownActions"])):D("",!0)])),_:1},8,["onRegister"])])]),f(ne,{onRegister:g(s),onReload:g(R),onDesign:E},null,8,["onRegister","onReload"]),f(Yt,{onRegister:g(b),onReload:g(R)},null,8,["onRegister","onReload"]),f(na,{onRegister:g(C),onReload:g(R)},null,8,["onRegister","onReload"]),f(g(Ze),{onRegister:g(S),onPreviewPc:q},null,8,["onRegister"]),f(wt,{onRegister:g(A)},null,8,["onRegister"])])}}});export{el as default};
