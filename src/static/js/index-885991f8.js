import{g as e,_ as t}from"./Preview.vue_vue_type_style_index_0_lang-cda41f2d.js";import{u as s,B as o}from"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import{d as a,u as n,r,ad as i,a0 as p,M as l,e as c,o as u,g as m,a4 as d,j as _,k as y,l as v,ae as j,p as w,t as f,q as g,n as x}from"./index-920db443.js";import{u as k,B as b}from"./useTable-dc8c9d84.js";import"./useTabs-ceeccdba.js";import"./upperFirst-2cd1a2f7.js";import"./log-2a5f2c26.js";import"./uniqBy-e868edd7.js";import"./index-143f5813.js";import"./useWindowSizeFn-05f906e2.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-9c138ba5.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./index-999abbee.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./sortable.esm-02d0fe44.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";const P={class:"jnpf-content-wrapper documentPreview-wrapper"},h={class:"jnpf-content-wrapper-center"},I={class:"jnpf-content-wrapper-search-box"},F={class:"jnpf-content-wrapper-content bg-white"},K={class:"p-10px"},C=["onClick"],N=a({name:"extend-documentPreview",__name:"index",setup(a){const{t:N}=n(),R=r(null),S=i({activeKey:"localPreview",keyword:""}),{activeKey:B}=p(S),A=l((()=>({keyword:S.keyword}))),[O]=s({baseColProps:{span:6},showActionButtonGroup:!0,showAdvancedButton:!0,compact:!0,schemas:[{field:"keyword",label:N("common.keyword"),component:"Input",componentProps:{placeholder:N("common.enterKeyword"),submitOnPressEnter:!0}}]}),[T,{reload:z}]=k({api:e,columns:[{title:"文件名称",dataIndex:"fileName"},{title:"文件类型",dataIndex:"fileType",width:150},{title:"文件大小",dataIndex:"fileSize",width:150}],pagination:!1,showTableSetting:!1});function D(e){S.keyword=e?.keyword||"",q()}function L(){S.keyword="",q()}function q(){x((()=>{z()}))}return(e,s)=>{const a=c("a-tab-pane"),n=c("a-tabs"),r=c("a-alert");return u(),m("div",P,[d("div",h,[d("div",I,[_(y(o),{class:"search-form",onRegister:y(O),onSubmit:D,onReset:L},null,8,["onRegister"])]),d("div",F,[_(n,{activeKey:y(B),"onUpdate:activeKey":s[0]||(s[0]=e=>j(B)?B.value=e:null),class:"jnpf-content-wrapper-tabs",destroyInactiveTabPane:""},{default:v((()=>[_(a,{key:"localPreview",tab:"本地预览"}),_(a,{key:"yozoOnlinePreview",tab:"在线预览"})])),_:1},8,["activeKey"]),d("div",K,["localPreview"===y(B)?(u(),w(r,{key:0,message:"本地预览支持doc/docx/xls/xlsx/ppt/pptx/pdf等办公文档。",type:"warning","show-icon":""})):(u(),w(r,{key:1,message:"免责声明：永中文档预览组件不属于JNPF产品，只用于介绍第三方组件如何在《JNPF快速开发平台》中使用。",type:"warning","show-icon":""}))]),_(y(b),{onRegister:y(T),searchInfo:A.value},{bodyCell:v((({column:e,record:t})=>["fileName"===e.key?(u(),m("p",{key:0,class:"link-text",onClick:e=>function(e,t){const s={id:e,name:t,type:S.activeKey};R.value?.init(s)}(t.fileId,t.fileName)},f(t.fileName),9,C)):g("",!0)])),_:1},8,["onRegister","searchInfo"])])]),_(t,{ref_key:"filePreviewRef",ref:R},null,512)])}}});export{N as default};
