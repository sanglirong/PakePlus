import{a as e,d as t,b as o,e as r}from"./FormGenerator.vue_vue_type_script_setup_true_lang-948e37f5.js";import{u as s,B as n}from"./useTable-dc8c9d84.js";import{T as i}from"./TableAction-adbe36f2.js";import{d as a,aD as p,u as m,r as l,ad as d,a7 as u,e as c,o as _,g as j,a4 as y,j as f,l as g,m as v,t as x,k as b,p as h,q as w,ea as k,ah as M}from"./index-920db443.js";import{u as C}from"./index-143f5813.js";import{_ as I}from"./Form.vue_vue_type_script_setup_true_lang-90061d4c.js";import"./vuedraggable.umd-11acc51f.js";import"./componentMap-a7ede5fc.js";import"./config-06ca91cd.js";import"./Parser.vue_vue_type_script_lang-80b37b11.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-9c138ba5.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./log-2a5f2c26.js";import"./index-999abbee.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./upperFirst-2cd1a2f7.js";import"./CopyOutlined-8d46c8b2.js";import"./dataModel-ea807f46.js";import"./index-3b5bee70.js";import"./useWindowSizeFn-05f906e2.js";import"./InitiatorUserSelect.vue_vue_type_script_setup_true_lang-dfa9afb0.js";import"./template-c6142676.js";import"./index-c37d2476.js";import"./BasicLeftTree-cd55d444.js";import"./billRule-0363563b.js";import"./import-e198d900.js";import"./tip-b30e67af.js";import"./useForm-1d28ee0b.js";import"./useTabs-ceeccdba.js";import"./uniqBy-e868edd7.js";import"./dataSource-ed26da12.js";import"./define-8efdf20f.js";import"./ComplexHeaderModal.vue_vue_type_style_index_0_lang-cb4acf18.js";import"./FlowModal.vue_vue_type_script_setup_true_lang-b2e7f9ad.js";import"./Main.vue_vue_type_style_index_0_lang-0afb53a3.js";import"./componentMap-7e15a185.js";import"./task-ee77df5a.js";import"./BatchOperate-c1982233.js";/* empty css                                                                     */import"./index-7e2f1b8c.js";import"./sortable.esm-02d0fe44.js";import"./formValidate-c8ab8d29.js";import"./aiUtils-9712c454.js";import"./useRedo-dab275e6.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";const T={class:"jnpf-content-wrapper"},D={class:"jnpf-content-wrapper-center"},O={class:"jnpf-content-wrapper-content"},S=a({name:"system-kit",__name:"index",setup(a){const{createMessage:S}=M(),F=p(),{t:R}=m(),[P,{openModal:Y}]=C(),A=l([]),B=d({type:1}),[H,{reload:L,getForm:N}]=s({api:e,columns:[{title:"名称",dataIndex:"fullName",width:200},{title:"编码",dataIndex:"enCode",width:200},{title:"分类",dataIndex:"category",width:150},{title:"创建人",dataIndex:"creatorUser",width:120},{title:"创建时间",dataIndex:"creatorTime",width:150,format:"date|YYYY-MM-DD HH:mm:ss"},{title:"最后修改时间",dataIndex:"lastModifyTime",width:150,format:"date|YYYY-MM-DD HH:mm:ss"},{title:"排序",dataIndex:"sortCode",width:70,align:"center"},{title:"状态",dataIndex:"enabledMark",width:80,align:"center"}],searchInfo:B,useSearchForm:!0,formConfig:{schemas:[{field:"keyword",label:R("common.keyword"),component:"Input",componentProps:{placeholder:R("common.enterKeyword"),submitOnPressEnter:!0}},{field:"category",label:"业务分类",component:"Select",componentProps:{placeholder:"请选择"}},{field:"enabledMark",label:"状态",component:"Select",componentProps:{placeholder:"请选择",options:[{fullName:"启用",id:1},{fullName:"禁用",id:0}]}}]},actionColumn:{width:150,title:"操作",dataIndex:"action"}});function q(e){return[{label:R("common.editText"),onClick:G.bind(null,e.id)},{label:R("common.delText"),color:"error",modelConfirm:{onOk:K.bind(null,e.id)}}]}function U(e){return[{label:R("common.copyText"),modelConfirm:{content:"您确定要复制该表单模板, 是否继续?",onOk:z.bind(null,e.id)}},{label:R("common.exportText"),modelConfirm:{content:"您确定要导出该表单模板, 是否继续?",onOk:E.bind(null,e.id)}}]}function G(e=""){Y(!0,{id:e,categoryList:A})}function K(e){t(e).then((e=>{S.success(e.msg),L()}))}function z(e){o(e).then((e=>{S.success(e.msg),L()}))}function E(e){r(e).then((e=>{k({url:e.data.url})}))}return u((()=>{!async function(){const e=await F.getDictionaryData("businessType");A.value=e,N().updateSchema({field:"category",componentProps:{options:e}})}()})),(e,t)=>{const o=c("a-button"),r=c("jnpf-upload-btn"),s=c("a-tag");return _(),j("div",T,[y("div",D,[y("div",O,[f(b(n),{onRegister:b(H)},{tableTitle:g((()=>[f(o,{type:"primary",preIcon:"icon-ym icon-ym-btn-add",onClick:t[0]||(t[0]=e=>G())},{default:g((()=>[v(x(b(R)("common.addText")),1)])),_:1}),f(r,{url:"/api/system/Kit/Actions/Import",accept:".bvk",onOnSuccess:b(L)},null,8,["onOnSuccess"])])),bodyCell:g((({column:e,record:t})=>["enabledMark"===e.key?(_(),h(s,{key:0,color:1==t.enabledMark?"success":"error"},{default:g((()=>[v(x(1==t.enabledMark?"启用":"禁用"),1)])),_:2},1032,["color"])):w("",!0),"action"===e.key?(_(),h(b(i),{key:1,actions:q(t),dropDownActions:U(t)},null,8,["actions","dropDownActions"])):w("",!0)])),_:1},8,["onRegister"])])]),f(I,{onRegister:b(P),onReload:b(L)},null,8,["onRegister","onReload"])])}}});export{S as default};
