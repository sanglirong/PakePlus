import{d as e,ad as t,a0 as r,aB as s,a7 as i,k as o,o as p,p as n,aa as u,q as _,aA as a,dM as m,dE as c,ah as d}from"./index-920db443.js";import{b as j}from"./shortLink-5c58d9bb.js";import{u as l}from"./useTabs-ceeccdba.js";import{_ as v}from"./index.vue_vue_type_script_setup_true_lang-02a1286a.js";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang-349b4b3c.js";import"./createAsyncComponent-7e8f72ac.js";import"./UnlockOutlined-a2b443e1.js";import"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-9c138ba5.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./log-2a5f2c26.js";import"./index-143f5813.js";import"./useWindowSizeFn-05f906e2.js";import"./index-999abbee.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./upperFirst-2cd1a2f7.js";import"./uniqBy-e868edd7.js";import"./useTable-dc8c9d84.js";import"./sortable.esm-02d0fe44.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";import"./TableAction-adbe36f2.js";import"./index.vue_vue_type_script_setup_true_lang-7118fb3a.js";import"./ChildTableColumn.vue_vue_type_script_setup_true_lang-1a28ca33.js";const g=e({name:"formShortLink",__name:"index",setup(e){const{createMessage:g}=d(),{close:f}=l(),w=t({currentView:"",showPage:!1,isPreview:!1,modelId:"",config:{},encryption:""}),{currentView:x,showPage:I,isPreview:P,modelId:h,config:S}=r(w),b=s();function A(){const e=a();if(!e.query.encryption)return;w.encryption=e.query.encryption;const t=new m({useHex:!0}).decryptByAES(w.encryption);if(!t)return;const r=JSON.parse(t);var s;(w.modelId=r.modelId,w.modelId)&&(s=r.type,j(w.modelId,w.encryption).then((e=>{if(200!==e.code||!e.data)return f(),b.replace("/404"),void g.error(e.msg||"请求出错，请重试");w.config={...e.data,encryption:w.encryption},w.currentView=c("form"==s?v:y),w.showPage=!0})))}return i((()=>{A()})),(e,t)=>o(I)?(p(),n(u(o(x)),{key:0,config:o(S),modelId:o(h),isPreview:o(P)},null,8,["config","modelId","isPreview"])):_("",!0)}});export{g as default};
