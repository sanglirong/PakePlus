import{u as e,B as t}from"./useTable-dc8c9d84.js";import{T as o}from"./TableAction-adbe36f2.js";import{a as n,b as r,s,d as i,e as a}from"./permissionGroup-129512c4.js";import{u as p}from"./index-9c138ba5.js";import{u as l}from"./index-143f5813.js";import{d as m,u,e as d,o as c,g as _,a4 as j,j as f,l as g,m as y,t as v,k as b,p as x,q as h,ah as w}from"./index-920db443.js";import{_ as k}from"./Form.vue_vue_type_script_setup_true_lang-6465de40.js";import{_ as C}from"./AuthPopup.vue_vue_type_style_index_0_lang-4253703b.js";import{_ as M}from"./UsersSelectModal.vue_vue_type_script_setup_true_lang-982a1488.js";import"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-999abbee.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./log-2a5f2c26.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./upperFirst-2cd1a2f7.js";import"./useTabs-ceeccdba.js";import"./uniqBy-e868edd7.js";import"./useWindowSizeFn-05f906e2.js";import"./sortable.esm-02d0fe44.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";import"./formValidate-c8ab8d29.js";import"./BasicLeftTree-cd55d444.js";import"./MenuAuth.vue_vue_type_script_setup_true_lang-ca635ea5.js";import"./authorize-72eaa3a6.js";import"./CommonAuth.vue_vue_type_script_setup_true_lang-b3356dd0.js";const A={class:"jnpf-content-wrapper"},D={class:"jnpf-content-wrapper-center"},I={class:"jnpf-content-wrapper-content"},R=m({name:"permission-authorize",__name:"index",setup(m){const{t:R}=u(),{createMessage:T}=w(),[F,{reload:S}]=e({api:n,columns:[{title:"权限组名称",dataIndex:"fullName",width:200},{title:"权限组编码",dataIndex:"enCode",width:200},{title:"说明",dataIndex:"description"},{title:"权限组成员",dataIndex:"member",width:150,customRender:({record:e})=>0==e.type?"全部成员":"自定义"},{title:"创建时间",dataIndex:"creatorTime",width:150,format:"date|YYYY-MM-DD HH:mm:ss"},{title:"排序",dataIndex:"sortCode",width:70,align:"center"},{title:"状态",dataIndex:"enabledMark",width:70,align:"center"}],useSearchForm:!0,formConfig:{schemas:[{field:"keyword",label:R("common.keyword"),component:"Input",componentProps:{placeholder:R("common.enterKeyword"),submitOnPressEnter:!0}},{field:"enabledMark",label:"状态",component:"Select",componentProps:{placeholder:"请选择",options:[{fullName:"启用",id:1},{fullName:"禁用",id:0}]}}]},actionColumn:{width:150,title:"操作",dataIndex:"action"}}),[P,{openModal:N}]=l(),[O,{openPopup:L}]=p(),[z,{openModal:B}]=l();function Y(e){return[{label:R("common.editText"),onClick:H.bind(null,e.id)},{label:"授权",color:"error",onClick:K.bind(null,e)}]}function q(e){return[{ifShow:0!=e.type,label:"成员",onClick:G.bind(null,e.id)},{label:R("common.copyText"),modelConfirm:{content:"您确定要复制该功能权限, 是否继续?",onOk:J.bind(null,e.id)}},{label:R("common.delText"),color:"error",modelConfirm:{onOk:E.bind(null,e.id)}}]}function H(e=""){N(!0,{id:e})}function E(e){i(e).then((e=>{T.success(e.msg),S()}))}function G(e){B(!0,{id:e})}function K(e){L(!0,{id:e.id,fullName:e.fullName+"的权限授权"})}function J(e){a(e).then((e=>{T.success(e.msg),S()}))}return(e,n)=>{const i=d("a-button"),a=d("a-tag");return c(),_("div",A,[j("div",D,[j("div",I,[f(b(t),{onRegister:b(F)},{tableTitle:g((()=>[f(i,{type:"primary",preIcon:"icon-ym icon-ym-btn-add",onClick:n[0]||(n[0]=e=>H())},{default:g((()=>[y(v(b(R)("common.addText")),1)])),_:1})])),bodyCell:g((({column:e,record:t})=>["enabledMark"===e.key?(c(),x(a,{key:0,color:1==t.enabledMark?"success":"error"},{default:g((()=>[y(v(1==t.enabledMark?"启用":"禁用"),1)])),_:2},1032,["color"])):h("",!0),"action"===e.key?(c(),x(b(o),{key:1,actions:Y(t),dropDownActions:q(t)},null,8,["actions","dropDownActions"])):h("",!0)])),_:1},8,["onRegister"])])]),f(k,{onRegister:b(P),onReload:b(S)},null,8,["onRegister","onReload"]),f(C,{onRegister:b(O)},null,8,["onRegister"]),f(M,{onRegister:b(z),getDataApi:b(r),saveDataApi:b(s)},null,8,["onRegister","getDataApi","saveDataApi"])])}}});export{R as default};
