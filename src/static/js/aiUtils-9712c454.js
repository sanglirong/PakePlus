import{i as e,s as n,a,f as i}from"./componentMap-a7ede5fc.js";import{c as t,eg as o}from"./index-920db443.js";import{d as _}from"./config-06ca91cd.js";function f(i){const f=t([...e,...n,...a]),l=(e,n,a=!1)=>{const i=f.find((n=>n.__config__.jnpfKey===e.fieldComponent))||f[0];let t={...i,__config__:{...i.__config__,label:e.fieldTitle,formId:`formItem${o()}`,renderKey:+new Date,isSubTable:a},__vModel__:e.fieldName};return a&&(t.__config__.parentVModel=n),_.includes(i.__config__.jnpfKey)&&(t.options=e.fieldOptions||[]),t};return i.map((e=>{if(e.isMain)return e.fields.map((e=>l(e)));{const n=f.find((e=>"table"===e.__config__.jnpfKey)),a=e.fields.map((n=>l(n,e.tableName,!0)));return{...n,__config__:{...n.__config__,label:e.tableTitle,children:a},__vModel__:`tableField${o()}`}}})).flat()||[]}function l(e){const n=t(i);return n.fields=f(e)||[],{id:"",fullName:"",enCode:"",type:1,webType:2,dbLinkId:"0",sortCode:0,state:1,category:"",description:"",interfaceId:"",interfaceName:"",interfaceParam:"",columnData:null,appColumnData:null,tables:"[]",formData:JSON.stringify(n)}}export{l as a,f as b};
