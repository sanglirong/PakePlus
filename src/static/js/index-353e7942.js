import{u as e,B as t}from"./useTable-dc8c9d84.js";import{T as o}from"./TableAction-adbe36f2.js";import{g as r,d as i}from"./system-4f24c0ce.js";import{u as s}from"./index-143f5813.js";import{d as a,u as n,e as p,o as u,g as _,a4 as m,j as l,l as d,m as c,t as j,k as v,af as g,q as y,p as f,ah as x}from"./index-920db443.js";import{u as b}from"./index-9c138ba5.js";import{_ as h}from"./Form.vue_vue_type_script_setup_true_lang-278731cc.js";import{_ as F}from"./index.vue_vue_type_script_setup_true_lang-8caf851f.js";import{_ as k}from"./index.vue_vue_type_script_setup_true_lang-80808bf3.js";import"./useForm-1d28ee0b.js";import"./componentMap-c91676b4.js";import"./visualDev-8f54ab4b.js";import"./index.vue_vue_type_script_setup_true_lang-69353133.js";import"./index-999abbee.js";import"./ArrowLeftOutlined-3fbf15bc.js";import"./log-2a5f2c26.js";import"./Parser.vue_vue_type_script_setup_true_lang-6ddfe448.js";import"./Item.vue_vue_type_script_setup_true_lang-fef56f78.js";import"./Form.vue_vue_type_script_setup_true_lang-63005a4d.js";import"./createAsyncComponent-7e8f72ac.js";import"./DataLogList.vue_vue_type_script_setup_true_lang-c225eb8c.js";import"./index-0be8277c.js";import"./jquery-6353a699.js";import"./useDefineSetting-7df030ff.js";import"./CustomForm.vue_vue_type_script_setup_true_lang-1aa664f4.js";import"./config-06ca91cd.js";import"./upperFirst-2cd1a2f7.js";import"./useTabs-ceeccdba.js";import"./uniqBy-e868edd7.js";import"./useWindowSizeFn-05f906e2.js";import"./sortable.esm-02d0fe44.js";import"./SettingOutlined-dd6150a2.js";import"./index-1cfe4e28.js";import"./Form.vue_vue_type_script_setup_true_lang-e28cb4c6.js";import"./dataReport-8cd046d3.js";import"./portal-935b0b1b.js";import"./template-c6142676.js";import"./index.vue_vue_type_script_setup_true_lang-38e0066b.js";import"./Form.vue_vue_type_script_setup_true_lang-a83a7ef4.js";import"./index.vue_vue_type_script_setup_true_lang-d7edef18.js";import"./columnAuthorize-1d4eafbb.js";import"./dataSource-ed26da12.js";import"./authorize-05422727.js";import"./Form.vue_vue_type_script_setup_true_lang-ae11a12f.js";import"./FieldModal.vue_vue_type_script_setup_true_lang-f57eee1d.js";import"./BasicLeftTree-cd55d444.js";import"./BatchForm-1ea462fa.js";import"./index-3b5bee70.js";import"./Form.vue_vue_type_script_setup_true_lang-d579ecae.js";import"./TableModal.vue_vue_type_script_setup_true_lang-b7bc8bbc.js";import"./dataModel-ea807f46.js";import"./index.vue_vue_type_script_setup_true_lang-deb40180.js";import"./formAuthorize-51125b44.js";import"./Form.vue_vue_type_script_setup_true_lang-89db0f67.js";import"./BatchForm-731e2b2d.js";import"./index.vue_vue_type_script_setup_true_lang-f6d5c295.js";import"./dataAuthorize-004cfc95.js";import"./SchemeForm.vue_vue_type_script_setup_true_lang-d9eed4bb.js";import"./FieldForm.vue_vue_type_script_setup_true_lang-04134232.js";import"./index-82a562d7.js";import"./permissionGroup-129512c4.js";import"./TransferModal.vue_vue_type_script_setup_true_lang-01248fc8.js";import"./authorize-72eaa3a6.js";import"./Form.vue_vue_type_script_setup_true_lang-0531bcd3.js";import"./PortalModal.vue_vue_type_script_setup_true_lang-be0f3ce7.js";const w={class:"jnpf-content-wrapper"},M={class:"jnpf-content-wrapper-center"},C={class:"jnpf-content-wrapper-content"},R=a({name:"system-menu",__name:"index",setup(a){const{t:R}=n(),{createMessage:I}=x(),[S,{openModal:T}]=s(),[A,{openPopup:P}]=b(),[z,{openPopup:D}]=b(),[B,{reload:N}]=e({api:r,columns:[{title:"应用名称",dataIndex:"fullName",width:200},{title:"应用编码",dataIndex:"enCode",width:200},{title:"说明",dataIndex:"description"},{title:"图标",dataIndex:"icon",width:50,align:"center"},{title:"排序",dataIndex:"sortCode",width:70,align:"center"},{title:"状态",dataIndex:"enabledMark",width:70,align:"center"}],useSearchForm:!0,pagination:!1,formConfig:{schemas:[{field:"keyword",label:R("common.keyword"),component:"Input",componentProps:{placeholder:R("common.enterKeyword"),submitOnPressEnter:!0}},{field:"enabledMark",label:"状态",component:"Select",componentProps:{placeholder:"请选择",options:[{fullName:"启用",id:1},{fullName:"禁用",id:0}]}}]},actionColumn:{width:150,title:"操作",dataIndex:"action"}});function L(e){return[{label:R("common.editText"),onClick:q.bind(null,e.id)},{label:R("common.delText"),color:"error",disabled:1==e.isMain,modelConfirm:{onOk:K.bind(null,e.id)}}]}function O(e){return[{label:"菜单管理",onClick:E.bind(null,e)},{ifShow:!e.mainSystem,label:"门户管理",onClick:G.bind(null,e)}]}function q(e=""){T(!0,{id:e})}function E(e){P(!0,{id:e.id,title:e.fullName,isDevPlatform:!!e.mainSystem})}function G(e){D(!0,{id:e.id,title:e.fullName})}function K(e){i(e).then((e=>{I.success(e.msg),N()}))}return(e,r)=>{const i=p("a-button"),s=p("a-tag");return u(),_("div",w,[m("div",M,[m("div",C,[l(v(t),{onRegister:v(B)},{tableTitle:d((()=>[l(i,{type:"primary",preIcon:"icon-ym icon-ym-btn-add",onClick:r[0]||(r[0]=e=>q())},{default:d((()=>[c(j(v(R)("common.addText")),1)])),_:1})])),bodyCell:d((({column:e,record:t})=>["icon"===e.key?(u(),_("i",{key:0,class:g(t.icon+" table-icon")},null,2)):y("",!0),"enabledMark"===e.key?(u(),f(s,{key:1,color:1==t.enabledMark?"success":"error"},{default:d((()=>[c(j(1==t.enabledMark?"启用":"禁用"),1)])),_:2},1032,["color"])):y("",!0),"action"===e.key?(u(),f(v(o),{key:2,actions:L(t),dropDownActions:O(t)},null,8,["actions","dropDownActions"])):y("",!0)])),_:1},8,["onRegister"])])]),l(h,{onRegister:v(S),onReload:v(N)},null,8,["onRegister","onReload"]),l(F,{onRegister:v(A)},null,8,["onRegister"]),l(k,{onRegister:v(z)},null,8,["onRegister"])])}}});export{R as default};
