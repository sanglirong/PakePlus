import{B as e}from"./index-143f5813.js";import{j as t,s as l,r as n,F as o,x as a,y as i,z as s,_ as r,A as d,B as c,C as p,D as u,E as m,d as f,G as b,H as y,I as g,J as v,K as $,L as x,M as S,N as h,O as C,Q as w,R as B,S as M,T as j,U as I,k as L,V as O,W as P,X as D,Y as k,Z as z,$ as E,a0 as W,a1 as T,a2 as A,a3 as H,u as R,o as G,p as X,l as _}from"./index-920db443.js";import{getDescSchema as N}from"./data-c1e5fa77.js";function F(e){return null!=e}const J=e=>{const{itemPrefixCls:l,component:n,span:o,labelStyle:a,contentStyle:i,bordered:s,label:r,content:d,colon:c}=e,p=n;return s?t(p,{class:[{[`${l}-item-label`]:F(r),[`${l}-item-content`]:F(d)}],colSpan:o},{default:()=>[F(r)&&t("span",{style:a},[r]),F(d)&&t("span",{style:i},[d])]}):t(p,{class:[`${l}-item`],colSpan:o},{default:()=>[t("div",{class:`${l}-item-container`},[(r||0===r)&&t("span",{class:[`${l}-item-label`,{[`${l}-item-no-colon`]:!c}],style:a},[r]),(d||0===d)&&t("span",{class:`${l}-item-content`,style:i},[d])])]})},K=e=>{const d=(e,l,n)=>{let{colon:o,prefixCls:d,bordered:c}=l,{component:p,type:u,showLabel:m,showContent:f,labelStyle:b,contentStyle:y}=n;return e.map(((e,l)=>{var n,g;const v=e.props||{},{prefixCls:$=d,span:x=1,labelStyle:S=v["label-style"],contentStyle:h=v["content-style"],label:C=(null===(g=null===(n=e.children)||void 0===n?void 0:n.label)||void 0===g?void 0:g.call(n))}=v,w=a(e),B=i(e),M=s(e),{key:j}=e;return"string"==typeof p?t(J,{key:`${u}-${String(j)||l}`,class:B,style:M,labelStyle:r(r({},b),S),contentStyle:r(r({},y),h),span:x,colon:o,component:p,itemPrefixCls:$,bordered:c,label:m?C:null,content:f?w:null},null):[t(J,{key:`label-${String(j)||l}`,class:B,style:r(r(r({},b),M),S),span:1,colon:o,component:p[0],itemPrefixCls:$,bordered:c,label:C},null),t(J,{key:`content-${String(j)||l}`,class:B,style:r(r(r({},y),M),h),span:2*x-1,component:p[1],itemPrefixCls:$,bordered:c,content:w},null)]}))},{prefixCls:c,vertical:p,row:u,index:m,bordered:f}=e,{labelStyle:b,contentStyle:y}=l(ee,{labelStyle:n({}),contentStyle:n({})});return p?t(o,null,[t("tr",{key:`label-${m}`,class:`${c}-row`},[d(u,e,{component:"th",type:"label",showLabel:!0,labelStyle:b.value,contentStyle:y.value})]),t("tr",{key:`content-${m}`,class:`${c}-row`},[d(u,e,{component:"td",type:"content",showContent:!0,labelStyle:b.value,contentStyle:y.value})])]):t("tr",{key:m,class:`${c}-row`},[d(u,e,{component:f?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0,labelStyle:b.value,contentStyle:y.value})])},Q=e=>{const{componentCls:t,descriptionsSmallPadding:l,descriptionsDefaultPadding:n,descriptionsMiddlePadding:o,descriptionsBg:a}=e;return{[`&${t}-bordered`]:{[`${t}-view`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto",borderCollapse:"collapse"}},[`${t}-item-label, ${t}-item-content`]:{padding:n,borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`${t}-item-label`]:{backgroundColor:a,"&::after":{display:"none"}},[`${t}-row`]:{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"}},[`&${t}-middle`]:{[`${t}-item-label, ${t}-item-content`]:{padding:o}},[`&${t}-small`]:{[`${t}-item-label, ${t}-item-content`]:{padding:l}}}}},U=e=>{const{componentCls:t,descriptionsExtraColor:l,descriptionItemPaddingBottom:n,descriptionsItemLabelColonMarginRight:o,descriptionsItemLabelColonMarginLeft:a,descriptionsTitleMarginBottom:i}=e;return{[t]:r(r(r({},p(e)),Q(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:i},[`${t}-title`]:r(r({},u),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:l,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}},[`${t}-row`]:{"> th, > td":{paddingBottom:n},"&:last-child":{borderBottom:"none"}},[`${t}-item-label`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${a}px ${o}px`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},V=d("Descriptions",(e=>{const t=e.colorFillAlter,l=e.fontSizeSM*e.lineHeightSM,n=e.colorText,o=`${e.paddingXS}px ${e.padding}px`,a=`${e.padding}px ${e.paddingLG}px`,i=`${e.paddingSM}px ${e.paddingLG}px`,s=e.padding,r=e.marginXS,d=e.marginXXS/2,p=c(e,{descriptionsBg:t,descriptionsTitleMarginBottom:l,descriptionsExtraColor:n,descriptionItemPaddingBottom:s,descriptionsSmallPadding:o,descriptionsDefaultPadding:a,descriptionsMiddlePadding:i,descriptionsItemLabelColonMarginRight:r,descriptionsItemLabelColonMarginLeft:d});return[U(p)]}));m.any;const Y=f({compatConfig:{MODE:3},name:"ADescriptionsItem",props:{prefixCls:String,label:m.any,labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0},span:{type:Number,default:1}},setup(e,t){let{slots:l}=t;return()=>{var e;return null===(e=l.default)||void 0===e?void 0:e.call(l)}}}),Z={xxxl:3,xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function q(e,t,l){let n=e;return(void 0===l||l>t)&&(n=B(e,{span:t}),M()),n}const ee=Symbol("descriptionsContext"),te=f({compatConfig:{MODE:3},name:"ADescriptions",inheritAttrs:!1,props:{prefixCls:String,bordered:{type:Boolean,default:void 0},size:{type:String,default:"default"},title:m.any,extra:m.any,column:{type:[Number,Object],default:()=>Z},layout:String,colon:{type:Boolean,default:void 0},labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0}},slots:Object,Item:Y,setup(e,l){let{slots:o,attrs:a}=l;const{prefixCls:i,direction:s}=b("descriptions",e);let r;const d=n({}),[c,p]=V(i),u=y();g((()=>{r=u.value.subscribe((t=>{"object"==typeof e.column&&(d.value=t)}))})),v((()=>{u.value.unsubscribe(r)})),$(ee,{labelStyle:x(e,"labelStyle"),contentStyle:x(e,"contentStyle")});const m=S((()=>function(e,t){if("number"==typeof e)return e;if("object"==typeof e)for(let l=0;l<C.length;l++){const n=C[l];if(t[n]&&void 0!==e[n])return e[n]||Z[n]}return 3}(e.column,d.value)));return()=>{var l,n,r;const{size:d,bordered:u=!1,layout:f="horizontal",colon:b=!0,title:y=(null===(l=o.title)||void 0===l?void 0:l.call(o)),extra:g=(null===(n=o.extra)||void 0===n?void 0:n.call(o))}=e,v=function(e,t){const l=w(e),n=[];let o=[],a=t;return l.forEach(((e,i)=>{var s;const r=null===(s=e.props)||void 0===s?void 0:s.span,d=r||1;if(i===l.length-1)return o.push(q(e,a,r)),void n.push(o);d<a?(a-=d,o.push(e)):(o.push(q(e,a,d)),n.push(o),a=t,o=[])})),n}(null===(r=o.default)||void 0===r?void 0:r.call(o),m.value);return c(t("div",h(h({},a),{},{class:[i.value,{[`${i.value}-${d}`]:"default"!==d,[`${i.value}-bordered`]:!!u,[`${i.value}-rtl`]:"rtl"===s.value},a.class,p.value]}),[(y||g)&&t("div",{class:`${i.value}-header`},[y&&t("div",{class:`${i.value}-title`},[y]),g&&t("div",{class:`${i.value}-extra`},[g])]),t("div",{class:`${i.value}-view`},[t("table",null,[t("tbody",null,[v.map(((e,l)=>t(K,{key:l,index:l,colon:b,prefixCls:i.value,vertical:"vertical"===f,bordered:u,row:e},null)))])])])]))}}});te.install=function(e){return e.component(te.name,te),e.component(te.Item.name,te.Item),e};const le=te;const ne=H(f({name:"Description",props:{useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:e=>["small","default","middle",void 0].includes(e),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}},emits:["register"],setup(e,{slots:l,emit:o}){const a=n(null),{prefixCls:i}=j("description"),s=I(),r=S((()=>({...e,...L(a)}))),d=S((()=>({...L(r),title:void 0}))),c=S((()=>!!L(r).title)),p=S((()=>({canExpand:!1,...L(d).collapseOptions}))),u=S((()=>({...L(s),...L(d)})));function m({label:e,labelMinWidth:l,labelStyle:n}){if(!n&&!l)return e;const o={...n,minWidth:`${l}px `};return t("div",{style:o},[e])}const f=()=>{let e;return t(le,O({class:`${i}`},L(u)),"function"==typeof(l=e=function(){const{schema:e,data:l}=L(d);return L(e).map((e=>{const{render:n,field:o,span:a,show:i,contentMinWidth:s}=e;if(i&&z(i)&&!i(l))return null;const r=()=>{const e=L(d)?.data;if(!e)return null;const t=E(e,o);return t&&!W(e).hasOwnProperty(o)?z(n)?n("",e):"":z(n)?n(t,e):t??""},c=s;return t(le.Item,{label:m(e),key:o,span:a},{default:()=>s?t("div",{style:{minWidth:`${c}px`}},[r()]):r()})})).filter((e=>!!e))}())||"[object Object]"===Object.prototype.toString.call(l)&&!k(l)?e:{default:()=>[e]});var l};return o("register",{setDescProps:function(e){a.value={...L(a),...e}}}),()=>L(c)?(()=>{const n=e.useCollapse?f():t("div",null,[f()]);if(!e.useCollapse)return n;const{canExpand:o,helpMessage:a}=L(p),{title:i}=L(r);return t(D,{title:i,canExpan:o,helpMessage:a},{default:()=>n,action:()=>P(l,"action")})})():f()}})),oe=f({__name:"DetailModal",props:{info:{type:Object,default:null}},setup(l){const{t:o}=R(),[a]=function(e){if(!T())throw new Error("useDescription() can only be used inside setup() or functional components!");const t=n(null),l=n(!1);return[function(n){L(l)&&A()||(t.value=n,e&&n.setDescProps(e),l.value=!0)},{setDescProps:e=>{L(t)?.setDescProps(e)}}]}({column:2,schema:N()});return(n,i)=>(G(),X(L(e),O({width:800,title:L(o)("sys.errorLog.tableActionDesc")},n.$attrs),{default:_((()=>[t(L(ne),{data:l.info,onRegister:L(a)},null,8,["data","onRegister"])])),_:1},16,["title"]))}});export{oe as _};
